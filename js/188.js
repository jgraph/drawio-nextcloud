/*! For license information please see 188.js.LICENSE.txt */
"use strict";(self.webpackChunkdrawio=self.webpackChunkdrawio||[]).push([[188],{1143(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-6c2daf4e]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}li.action[data-v-6c2daf4e]:hover,li.action.active[data-v-6c2daf4e]{border-radius:6px;padding:0}li.action[data-v-6c2daf4e]:hover{background-color:var(--color-background-hover)}.action--disabled[data-v-6c2daf4e]{pointer-events:none;opacity:.5}.action--disabled[data-v-6c2daf4e]:hover,.action--disabled[data-v-6c2daf4e]:focus{cursor:default;opacity:.5}.action--disabled[data-v-6c2daf4e] *{opacity:1 !important}.action-button[data-v-6c2daf4e]{display:flex;align-items:flex-start;width:100%;height:auto;margin:0;padding:0;padding-inline-end:calc((var(--default-clickable-area) - 16px)/2);box-sizing:border-box;cursor:pointer;white-space:nowrap;color:var(--color-main-text);border:0;border-radius:0;background-color:rgba(0,0,0,0);box-shadow:none;font-weight:normal;font-size:var(--default-font-size);line-height:var(--default-clickable-area)}.action-button>span[data-v-6c2daf4e]{cursor:pointer;white-space:nowrap}.action-button__icon[data-v-6c2daf4e]{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1;background-position:calc((var(--default-clickable-area) - 16px)/2) center;background-size:16px;background-repeat:no-repeat}.action-button[data-v-6c2daf4e] .material-design-icon{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1}.action-button[data-v-6c2daf4e] .material-design-icon .material-design-icon__svg{vertical-align:middle}.action-button__longtext-wrapper[data-v-6c2daf4e],.action-button__longtext[data-v-6c2daf4e]{max-width:220px;line-height:1.6em;padding:calc((var(--default-clickable-area) - 1.6em)/2) 0;cursor:pointer;text-align:start;overflow:hidden;text-overflow:ellipsis}.action-button__longtext[data-v-6c2daf4e]{cursor:pointer;white-space:pre-wrap !important}.action-button__name[data-v-6c2daf4e]{font-weight:bold;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:100%;display:block}.action-button__description[data-v-6c2daf4e]{display:block;white-space:pre-wrap;font-size:var(--font-size-small);line-height:var(--default-line-height);color:var(--color-text-maxcontrast);cursor:pointer}.action-button__menu-icon[data-v-6c2daf4e]{margin-inline:auto calc((var(--default-clickable-area) - 16px)/2*-1)}.action-button__pressed-icon[data-v-6c2daf4e]{margin-inline:auto calc((var(--default-clickable-area) - 16px)/2*-1)}.action-button[data-v-6c2daf4e] *{cursor:pointer}",""]);const s=a},854(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-3a83acfa]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}button[data-v-3a83acfa]:not(.button-vue),input[data-v-3a83acfa]:not([type=range]),textarea[data-v-3a83acfa]{margin:0;padding:7px 6px;cursor:text;color:var(--color-main-text);border:1px solid var(--color-border-dark);border-radius:var(--border-radius-element);outline:none;background-color:var(--color-main-background);font-size:13px}button[data-v-3a83acfa]:not(.button-vue):not(:disabled):not(.primary):hover,button[data-v-3a83acfa]:not(.button-vue):not(:disabled):not(.primary):focus,button:not(.button-vue):not(:disabled):not(.primary).active[data-v-3a83acfa],input[data-v-3a83acfa]:not([type=range]):not(:disabled):not(.primary):hover,input[data-v-3a83acfa]:not([type=range]):not(:disabled):not(.primary):focus,input:not([type=range]):not(:disabled):not(.primary).active[data-v-3a83acfa],textarea[data-v-3a83acfa]:not(:disabled):not(.primary):hover,textarea[data-v-3a83acfa]:not(:disabled):not(.primary):focus,textarea:not(:disabled):not(.primary).active[data-v-3a83acfa]{border-color:var(--color-primary-element);outline:none}button[data-v-3a83acfa]:not(.button-vue):not(:disabled):not(.primary):active,input[data-v-3a83acfa]:not([type=range]):not(:disabled):not(.primary):active,textarea[data-v-3a83acfa]:not(:disabled):not(.primary):active{color:var(--color-main-text);outline:none;background-color:var(--color-main-background)}button[data-v-3a83acfa]:not(.button-vue):disabled,input[data-v-3a83acfa]:not([type=range]):disabled,textarea[data-v-3a83acfa]:disabled{cursor:default;opacity:.5;color:var(--color-text-maxcontrast);background-color:var(--color-background-dark)}button[data-v-3a83acfa]:not(.button-vue):required,input[data-v-3a83acfa]:not([type=range]):required,textarea[data-v-3a83acfa]:required{box-shadow:none}button[data-v-3a83acfa]:not(.button-vue):invalid,input[data-v-3a83acfa]:not([type=range]):invalid,textarea[data-v-3a83acfa]:invalid{border-color:var(--color-border-error, var(--color-error));box-shadow:none !important}button:not(.button-vue).primary[data-v-3a83acfa],input:not([type=range]).primary[data-v-3a83acfa],textarea.primary[data-v-3a83acfa]{cursor:pointer;color:var(--color-primary-element-text);border-color:var(--color-primary-element);background-color:var(--color-primary-element)}button:not(.button-vue).primary[data-v-3a83acfa]:not(:disabled):hover,button:not(.button-vue).primary[data-v-3a83acfa]:not(:disabled):focus,button:not(.button-vue).primary[data-v-3a83acfa]:not(:disabled):active,input:not([type=range]).primary[data-v-3a83acfa]:not(:disabled):hover,input:not([type=range]).primary[data-v-3a83acfa]:not(:disabled):focus,input:not([type=range]).primary[data-v-3a83acfa]:not(:disabled):active,textarea.primary[data-v-3a83acfa]:not(:disabled):hover,textarea.primary[data-v-3a83acfa]:not(:disabled):focus,textarea.primary[data-v-3a83acfa]:not(:disabled):active{border-color:var(--color-primary-element-light);background-color:var(--color-primary-element-light)}button:not(.button-vue).primary[data-v-3a83acfa]:not(:disabled):active,input:not([type=range]).primary[data-v-3a83acfa]:not(:disabled):active,textarea.primary[data-v-3a83acfa]:not(:disabled):active{color:var(--color-primary-element-text-dark)}button:not(.button-vue).primary[data-v-3a83acfa]:disabled,input:not([type=range]).primary[data-v-3a83acfa]:disabled,textarea.primary[data-v-3a83acfa]:disabled{cursor:default;color:var(--color-primary-element-text-dark);background-color:var(--color-primary-element)}li.action[data-v-3a83acfa]:hover,li.action.active[data-v-3a83acfa]{border-radius:6px;padding:0}li.action[data-v-3a83acfa]:hover{background-color:var(--color-background-hover)}.action--disabled[data-v-3a83acfa]{pointer-events:none;opacity:.5}.action--disabled[data-v-3a83acfa]:hover,.action--disabled[data-v-3a83acfa]:focus{cursor:default;opacity:.5}.action--disabled[data-v-3a83acfa] *{opacity:1 !important}.action-input[data-v-3a83acfa]{display:flex;align-items:flex-start;width:100%;height:auto;margin:0;padding:0;cursor:pointer;white-space:nowrap;color:var(--color-main-text);border:0;border-radius:0;background-color:rgba(0,0,0,0);box-shadow:none;font-weight:normal}.action-input__icon-wrapper[data-v-3a83acfa]{display:flex;align-self:center;align-items:center;justify-content:center}.action-input__icon-wrapper[data-v-3a83acfa] .material-design-icon{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1}.action-input__icon-wrapper[data-v-3a83acfa] .material-design-icon .material-design-icon__svg{vertical-align:middle}.action-input>span[data-v-3a83acfa]{cursor:pointer;white-space:nowrap}.action-input__icon[data-v-3a83acfa]{min-width:0;min-height:0;padding:calc(var(--default-clickable-area)/2) 0 calc(var(--default-clickable-area)/2) var(--default-clickable-area);background-position:calc((var(--default-clickable-area) - 16px)/2) center;background-size:16px}.action-input__form[data-v-3a83acfa]{display:flex;align-items:center;flex:1 1 auto;margin:4px 0;padding-inline-end:calc((var(--default-clickable-area) - 16px)/2)}.action-input__container[data-v-3a83acfa]{position:relative;width:100%}.action-input__input-container[data-v-3a83acfa]{display:flex}.action-input__input-container .colorpicker__trigger[data-v-3a83acfa],.action-input__input-container .colorpicker__preview[data-v-3a83acfa]{width:100%}.action-input__input-container .colorpicker__preview[data-v-3a83acfa]{width:100%;height:36px;border-radius:var(--border-radius-element);border:2px solid var(--color-border-maxcontrast);box-shadow:none !important}.action-input__text-label[data-v-3a83acfa]{padding:4px 0;display:block}.action-input__text-label--hidden[data-v-3a83acfa]{position:absolute;inset-inline-start:0;width:1px;height:1px;overflow:hidden;z-index:-1;opacity:0}.action-input__datetimepicker[data-v-3a83acfa]{width:100%}.action-input__datetimepicker[data-v-3a83acfa] .mx-input{margin:0}.action-input__multi[data-v-3a83acfa]{width:100%}li:last-child>.action-input[data-v-3a83acfa]{padding-bottom:calc((var(--default-clickable-area) - 16px)/2 - 4px)}li:first-child>.action-input[data-v-3a83acfa]:not(.action-input--visible-label){padding-top:calc((var(--default-clickable-area) - 16px)/2 - 4px)}",""]);const s=a},6456(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-32f01b7a]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}li.action[data-v-32f01b7a]:hover,li.action.active[data-v-32f01b7a]{border-radius:6px;padding:0}li.action[data-v-32f01b7a]:hover{background-color:var(--color-background-hover)}.action-link[data-v-32f01b7a]{display:flex;align-items:flex-start;width:100%;height:auto;margin:0;padding:0;padding-inline-end:calc((var(--default-clickable-area) - 16px)/2);box-sizing:border-box;cursor:pointer;white-space:nowrap;color:var(--color-main-text);border:0;border-radius:0;background-color:rgba(0,0,0,0);box-shadow:none;font-weight:normal;font-size:var(--default-font-size);line-height:var(--default-clickable-area)}.action-link>span[data-v-32f01b7a]{cursor:pointer;white-space:nowrap}.action-link__icon[data-v-32f01b7a]{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1;background-position:calc((var(--default-clickable-area) - 16px)/2) center;background-size:16px;background-repeat:no-repeat}.action-link[data-v-32f01b7a] .material-design-icon{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1}.action-link[data-v-32f01b7a] .material-design-icon .material-design-icon__svg{vertical-align:middle}.action-link__longtext-wrapper[data-v-32f01b7a],.action-link__longtext[data-v-32f01b7a]{max-width:220px;line-height:1.6em;padding:calc((var(--default-clickable-area) - 1.6em)/2) 0;cursor:pointer;text-align:start;overflow:hidden;text-overflow:ellipsis}.action-link__longtext[data-v-32f01b7a]{cursor:pointer;white-space:pre-wrap !important}.action-link__name[data-v-32f01b7a]{font-weight:bold;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:100%;display:block}.action-link__description[data-v-32f01b7a]{display:block;white-space:pre-wrap;font-size:var(--font-size-small);line-height:var(--default-line-height);color:var(--color-text-maxcontrast);cursor:pointer}.action-link__menu-icon[data-v-32f01b7a]{margin-inline:auto calc((var(--default-clickable-area) - 16px)/2*-1)}",""]);const s=a},6477(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-87267750]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}li.action[data-v-87267750]:hover,li.action.active[data-v-87267750]{border-radius:6px;padding:0}li.action[data-v-87267750]:hover{background-color:var(--color-background-hover)}.action-router[data-v-87267750]{display:flex;align-items:flex-start;width:100%;height:auto;margin:0;padding:0;padding-inline-end:calc((var(--default-clickable-area) - 16px)/2);box-sizing:border-box;cursor:pointer;white-space:nowrap;color:var(--color-main-text);border:0;border-radius:0;background-color:rgba(0,0,0,0);box-shadow:none;font-weight:normal;font-size:var(--default-font-size);line-height:var(--default-clickable-area)}.action-router>span[data-v-87267750]{cursor:pointer;white-space:nowrap}.action-router__icon[data-v-87267750]{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1;background-position:calc((var(--default-clickable-area) - 16px)/2) center;background-size:16px;background-repeat:no-repeat}.action-router[data-v-87267750] .material-design-icon{width:var(--default-clickable-area);height:var(--default-clickable-area);opacity:1}.action-router[data-v-87267750] .material-design-icon .material-design-icon__svg{vertical-align:middle}.action-router__longtext-wrapper[data-v-87267750],.action-router__longtext[data-v-87267750]{max-width:220px;line-height:1.6em;padding:calc((var(--default-clickable-area) - 1.6em)/2) 0;cursor:pointer;text-align:start;overflow:hidden;text-overflow:ellipsis}.action-router__longtext[data-v-87267750]{cursor:pointer;white-space:pre-wrap !important}.action-router__name[data-v-87267750]{font-weight:bold;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:100%;display:block}.action-router__description[data-v-87267750]{display:block;white-space:pre-wrap;font-size:var(--font-size-small);line-height:var(--default-line-height);color:var(--color-text-maxcontrast);cursor:pointer}.action-router__menu-icon[data-v-87267750]{margin-inline:auto calc((var(--default-clickable-area) - 16px)/2*-1)}.action--disabled[data-v-87267750]{pointer-events:none;opacity:.5}.action--disabled[data-v-87267750]:hover,.action--disabled[data-v-87267750]:focus{cursor:default;opacity:.5}.action--disabled[data-v-87267750] *{opacity:1 !important}",""]);const s=a},8066(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-46306025]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.vue-crumb[data-v-46306025]{background-image:none;display:inline-flex;height:var(--default-clickable-area);padding:0}.vue-crumb[data-v-46306025]:last-child{min-width:0}.vue-crumb:last-child .vue-crumb__separator[data-v-46306025]{display:none}.vue-crumb--hidden[data-v-46306025]{display:none}.vue-crumb__separator[data-v-46306025]{padding:0;color:var(--color-text-maxcontrast)}.vue-crumb.vue-crumb--hovered[data-v-46306025] .button-vue{background-color:var(--color-background-dark);color:var(--color-main-text)}.vue-crumb[data-v-46306025]:not(:last-child) .button-vue{color:var(--color-text-maxcontrast)}.vue-crumb[data-v-46306025]:not(:last-child) .button-vue:hover,.vue-crumb[data-v-46306025]:not(:last-child) .button-vue:focus{background-color:var(--color-background-dark);color:var(--color-main-text)}.vue-crumb[data-v-46306025]:not(:last-child) .button-vue__text{font-weight:normal}.vue-crumb[data-v-46306025] .button-vue__text{margin:0}.vue-crumb[data-v-46306025]:not(.dropdown) .action-item{max-width:100%}.vue-crumb[data-v-46306025]:not(.dropdown) .action-item .button-vue{padding:0 4px 0 16px;max-width:100%}.vue-crumb[data-v-46306025]:not(.dropdown) .action-item .button-vue__wrapper{flex-direction:row-reverse}.vue-crumb[data-v-46306025]:not(.dropdown) .action-item.action-item--open .action-item__menutoggle{background-color:var(--color-background-dark);color:var(--color-main-text)}",""]);const s=a},4889(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-0015282c]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.breadcrumb[data-v-0015282c]{width:100%;flex-grow:1;display:inline-flex;align-items:center}.breadcrumb--collapsed[data-v-0015282c] .vue-crumb:last-child{min-width:100px}.breadcrumb nav[data-v-0015282c]{flex-shrink:1;min-width:0}.breadcrumb .breadcrumb__crumbs[data-v-0015282c]{max-width:100%}.breadcrumb .breadcrumb__crumbs[data-v-0015282c],.breadcrumb .breadcrumb__actions[data-v-0015282c]{display:inline-flex}",""]);const s=a},7670(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-b97e1f7a]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.native-datetime-picker[data-v-b97e1f7a]{display:flex;flex-direction:column}.native-datetime-picker .native-datetime-picker__label[data-v-b97e1f7a]{margin-block-end:2px}.native-datetime-picker .native-datetime-picker__input[data-v-b97e1f7a]{--input-border-width-offset: calc(var(--border-width-input-focused, 2px) - var(--border-width-input, 2px));width:100%;flex:0 0 auto;margin:0;padding-inline-start:calc(var(--border-radius-element) + var(--input-border-width-offset));padding-inline-end:calc(var(--default-grid-baseline) + var(--input-border-width-offset));border:var(--border-width-input, 2px) solid var(--color-border-maxcontrast)}.native-datetime-picker .native-datetime-picker__input[data-v-b97e1f7a]:active:not([disabled]),.native-datetime-picker .native-datetime-picker__input[data-v-b97e1f7a]:hover:not([disabled]),.native-datetime-picker .native-datetime-picker__input[data-v-b97e1f7a]:focus:not([disabled]),.native-datetime-picker .native-datetime-picker__input[data-v-b97e1f7a]:focus-within:not([disabled]){border-color:var(--color-main-text);border-width:var(--border-width-input-focused, 2px);box-shadow:0 0 0 2px var(--color-main-background) !important;--input-border-width-offset: 0px}[data-theme-light] .native-datetime-picker__input[data-v-b97e1f7a],[data-themes*=light] .native-datetime-picker__input[data-v-b97e1f7a]{color-scheme:light}[data-theme-dark] .native-datetime-picker__input[data-v-b97e1f7a],[data-themes*=dark] .native-datetime-picker__input[data-v-b97e1f7a]{color-scheme:dark}@media(prefers-color-scheme: light){[data-theme-default] .native-datetime-picker__input[data-v-b97e1f7a],[data-themes*=default] .native-datetime-picker__input[data-v-b97e1f7a]{color-scheme:light}}@media(prefers-color-scheme: dark){[data-theme-default] .native-datetime-picker__input[data-v-b97e1f7a],[data-themes*=default] .native-datetime-picker__input[data-v-b97e1f7a]{color-scheme:dark}}",""]);const s=a},3775(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-a612f185]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.name-parts[data-v-a612f185]{display:flex;max-width:100%;cursor:inherit}.name-parts__first[data-v-a612f185]{overflow:hidden;text-overflow:ellipsis}.name-parts__first[data-v-a612f185],.name-parts__last[data-v-a612f185]{white-space:pre;cursor:inherit}.name-parts__first strong[data-v-a612f185],.name-parts__last strong[data-v-a612f185]{font-weight:bold}",""]);const s=a},8617(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-b101d636]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}.empty-content[data-v-b101d636]{display:flex;align-items:center;flex-direction:column;justify-content:center;flex-grow:1;padding:var(--default-grid-baseline)}.modal-wrapper .empty-content[data-v-b101d636]{margin-top:5vh;margin-bottom:5vh}.empty-content__icon[data-v-b101d636]{display:flex;align-items:center;justify-content:center;width:64px;height:64px;margin:0 auto 15px;opacity:.4;background-repeat:no-repeat;background-position:center;background-size:64px}.empty-content__icon[data-v-b101d636] svg{width:64px !important;height:64px !important;max-width:64px !important;max-height:64px !important}.empty-content__name[data-v-b101d636]{margin-bottom:10px;text-align:center;font-weight:bold;font-size:20px;line-height:30px}.empty-content__description[data-v-b101d636]{color:var(--color-text-maxcontrast);text-align:center;text-wrap-style:balance}.empty-content__action[data-v-b101d636]{margin-top:8px}.modal-wrapper .empty-content__action[data-v-b101d636]{margin-top:20px;display:flex}",""]);const s=a},2305(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon[data-v-00e75248]{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}[data-v-00e75248] .password-field__input--secure-text{-webkit-text-security:disc}",""]);const s=a},1354(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,".material-design-icon{display:flex;align-self:center;justify-self:center;align-items:center;justify-content:center}/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */body{--vs-search-input-color: var(--color-main-text);--vs-search-input-bg: var(--color-main-background);--vs-search-input-placeholder-color: var(--color-text-maxcontrast);--vs-font-size: var(--default-font-size);--vs-line-height: var(--default-line-height);--vs-state-disabled-bg: var(--color-background-hover);--vs-state-disabled-color: var(--color-text-maxcontrast);--vs-state-disabled-controls-color: var(--color-text-maxcontrast);--vs-state-disabled-cursor: not-allowed;--vs-disabled-bg: var(--color-background-hover);--vs-disabled-color: var(--color-text-maxcontrast);--vs-disabled-cursor: not-allowed;--vs-border-color: var(--color-border-maxcontrast);--vs-border-width: var(--border-width-input, 2px) !important;--vs-border-style: solid;--vs-border-radius: var(--border-radius-element);--vs-controls-color: var(--color-main-text);--vs-selected-bg: var(--color-background-hover);--vs-selected-color: var(--color-main-text);--vs-selected-border-color: var(--vs-border-color);--vs-selected-border-style: var(--vs-border-style);--vs-selected-border-width: var(--vs-border-width);--vs-dropdown-bg: var(--color-main-background);--vs-dropdown-color: var(--color-main-text);--vs-dropdown-z-index: 9999;--vs-dropdown-box-shadow: 0px 2px 2px 0px var(--color-box-shadow);--vs-dropdown-option-padding: 8px 20px;--vs-dropdown-option--active-bg: var(--color-background-hover);--vs-dropdown-option--active-color: var(--color-main-text);--vs-dropdown-option--kb-focus-box-shadow: inset 0px 0px 0px 2px var(--vs-border-color);--vs-dropdown-option--deselect-bg: var(--color-error);--vs-dropdown-option--deselect-color: #fff;--vs-transition-duration: 0ms;--vs-actions-padding: 0 8px 0 4px}.v-select.select{min-height:calc(var(--default-clickable-area) - 2*var(--border-width-input));min-width:260px;margin:0 0 var(--default-grid-baseline)}.v-select.select.vs--open{--vs-border-width: var(--border-width-input-focused, 2px)}.v-select.select .select__label{display:block;margin-bottom:2px}.v-select.select .vs__selected{height:calc(var(--default-clickable-area) - 2*var(--vs-border-width) - var(--default-grid-baseline));margin:calc(var(--default-grid-baseline)/2);padding-block:0;padding-inline:12px 8px;border-radius:16px !important;background:var(--color-primary-element-light);border:none}.v-select.select.vs--open .vs__selected:first-of-type{margin-inline-start:calc(var(--default-grid-baseline)/2 - (var(--border-width-input-focused, 2px) - var(--border-width-input, 2px))) !important}.v-select.select .vs__search{text-overflow:ellipsis;color:var(--color-main-text);min-height:unset !important;height:calc(var(--default-clickable-area) - 2*var(--vs-border-width)) !important}.v-select.select .vs__search::placeholder{color:var(--color-text-maxcontrast)}.v-select.select .vs__search,.v-select.select .vs__search:focus{margin:0}.v-select.select .vs__dropdown-toggle{position:relative;max-height:100px;padding:var(--border-width-input);overflow-y:auto}.v-select.select .vs__actions{position:sticky;top:0}.v-select.select .vs__clear{margin-inline-end:2px}.v-select.select.vs--open .vs__dropdown-toggle{border-color:var(--color-main-text);border-bottom-color:rgba(0,0,0,0);border-bottom-left-radius:0;border-bottom-right-radius:0;border-style:solid;border-width:var(--border-width-input-focused);outline:2px solid var(--color-main-background);padding:0}.v-select.select:not(.vs--disabled,.vs--open) .vs__dropdown-toggle:active,.v-select.select:not(.vs--disabled,.vs--open) .vs__dropdown-toggle:focus-within{outline:2px solid var(--color-main-background);border-color:var(--color-main-text)}.v-select.select.vs--disabled .vs__search,.v-select.select.vs--disabled .vs__selected{color:var(--color-text-maxcontrast)}.v-select.select.vs--disabled .vs__clear,.v-select.select.vs--disabled .vs__deselect{display:none}.v-select.select--no-wrap .vs__selected-options{flex-wrap:nowrap;overflow:auto;min-width:unset}.v-select.select--no-wrap .vs__selected-options .vs__selected{min-width:unset}.v-select.select--drop-up.vs--open .vs__dropdown-toggle{border-radius:0 0 var(--vs-border-radius) var(--vs-border-radius);border-top-color:rgba(0,0,0,0);border-bottom-color:var(--color-main-text)}.v-select.select .vs__selected-options{min-height:calc(var(--default-clickable-area) - 2*var(--vs-border-width))}.v-select.select .vs__selected-options .vs__selected~.vs__search[readonly]{position:absolute}.v-select.select .vs__selected-options{padding:0 5px}.v-select.select.vs--single.vs--loading .vs__selected,.v-select.select.vs--single.vs--open .vs__selected{max-width:100%;opacity:1;color:var(--color-text-maxcontrast)}.v-select.select.vs--single .vs__selected-options{flex-wrap:nowrap}.v-select.select.vs--single .vs__selected{background:unset !important}.vs__dropdown-toggle{--input-border-box-shadow-light: 0 -1px var(--vs-border-color), 0 0 0 1px color-mix(in srgb, var(--vs-border-color), 65% transparent);--input-border-box-shadow-dark: 0 1px var(--vs-border-color), 0 0 0 1px color-mix(in srgb, var(--vs-border-color), 65% transparent);--input-border-box-shadow: var(--input-border-box-shadow-light);border:none;border-radius:var(--border-radius-element);box-shadow:var(--input-border-box-shadow)}.vs__dropdown-toggle:hover:not([disabled]){box-shadow:0 0 0 1px var(--vs-border-color)}@media(prefers-color-scheme: dark){.vs__dropdown-toggle .vs__dropdown-toggle{--input-border-box-shadow: var(--input-border-box-shadow-dark)}}[data-theme-dark] .vs__dropdown-toggle{--input-border-box-shadow: var(--input-border-box-shadow-dark)}[data-theme-light] .vs__dropdown-toggle{--input-border-box-shadow: var(--input-border-box-shadow-light)}.select--legacy .vs__dropdown-toggle{box-shadow:0 0 0 1px var(--vs-border-color)}.select--legacy .vs__dropdown-toggle:hover:not([disabled]){box-shadow:0 0 0 2px var(--vs-border-color)}.vs__dropdown-menu{border-width:var(--border-width-input-focused) !important;border-color:var(--color-main-text) !important;outline:none !important;box-shadow:-2px 0 0 var(--color-main-background),0 2px 0 var(--color-main-background),2px 0 0 var(--color-main-background),!important;padding:4px !important}.vs__dropdown-menu--floating{width:max-content;position:absolute;top:0;inset-inline-start:0}.vs__dropdown-menu--floating-placement-top{border-radius:var(--vs-border-radius) var(--vs-border-radius) 0 0 !important;border-top-style:var(--vs-border-style) !important;border-bottom-style:none !important;box-shadow:0 -2px 0 var(--color-main-background),-2px 0 0 var(--color-main-background),2px 0 0 var(--color-main-background),!important}.vs__dropdown-menu .vs__dropdown-option{border-radius:6px !important}.vs__dropdown-menu .vs__no-options{color:var(--color-text-maxcontrast) !important}",""]);const s=a},3171(t,e,n){n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([t.id,":root{--vs-colors--lightest: rgba(60, 60, 60, .26);--vs-colors--light: rgba(60, 60, 60, .5);--vs-colors--dark: #333;--vs-colors--darkest: rgba(0, 0, 0, .15);--vs-search-input-color: inherit;--vs-search-input-placeholder-color: inherit;--vs-font-size: 1rem;--vs-line-height: 1.4;--vs-state-disabled-bg: rgb(248, 248, 248);--vs-state-disabled-color: var(--vs-colors--light);--vs-state-disabled-controls-color: var(--vs-colors--light);--vs-state-disabled-cursor: not-allowed;--vs-border-color: var(--vs-colors--lightest);--vs-border-width: 1px;--vs-border-style: solid;--vs-border-radius: 4px;--vs-actions-padding: 4px 6px 0 3px;--vs-controls-color: var(--vs-colors--light);--vs-controls-size: 1;--vs-controls--deselect-text-shadow: 0 1px 0 #fff;--vs-selected-bg: #f0f0f0;--vs-selected-color: var(--vs-colors--dark);--vs-selected-border-color: var(--vs-border-color);--vs-selected-border-style: var(--vs-border-style);--vs-selected-border-width: var(--vs-border-width);--vs-dropdown-bg: #fff;--vs-dropdown-color: inherit;--vs-dropdown-z-index: 1000;--vs-dropdown-min-width: 160px;--vs-dropdown-max-height: 350px;--vs-dropdown-box-shadow: 0px 3px 6px 0px var(--vs-colors--darkest);--vs-dropdown-option-bg: #000;--vs-dropdown-option-color: var(--vs-dropdown-color);--vs-dropdown-option-padding: 3px 20px;--vs-dropdown-option--active-bg: #5897fb;--vs-dropdown-option--active-color: #fff;--vs-dropdown-option--deselect-bg: #fb5858;--vs-dropdown-option--deselect-color: #fff;--vs-transition-timing-function: cubic-bezier(1, -.115, .975, .855);--vs-transition-duration: .15s}.v-select{position:relative;font-family:inherit}.v-select,.v-select *{box-sizing:border-box}:root{--vs-transition-timing-function: cubic-bezier(1, .5, .8, 1);--vs-transition-duration: .15s}@-webkit-keyframes vSelectSpinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes vSelectSpinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vs__fade-enter-active,.vs__fade-leave-active{pointer-events:none;transition:opacity var(--vs-transition-duration) var(--vs-transition-timing-function)}.vs__fade-enter,.vs__fade-leave-to{opacity:0}:root{--vs-disabled-bg: var(--vs-state-disabled-bg);--vs-disabled-color: var(--vs-state-disabled-color);--vs-disabled-cursor: var(--vs-state-disabled-cursor)}.vs--disabled .vs__dropdown-toggle,.vs--disabled .vs__clear,.vs--disabled .vs__search,.vs--disabled .vs__selected,.vs--disabled .vs__open-indicator{cursor:var(--vs-disabled-cursor);background-color:var(--vs-disabled-bg)}.v-select[dir=rtl] .vs__actions{padding:0 3px 0 6px}.v-select[dir=rtl] .vs__clear{margin-left:6px;margin-right:0}.v-select[dir=rtl] .vs__deselect{margin-left:0;margin-right:2px}.v-select[dir=rtl] .vs__dropdown-menu{text-align:right}.vs__dropdown-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;padding:0 0 4px;background:none;border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:var(--vs-border-radius);white-space:normal}.vs__selected-options{display:flex;flex-basis:100%;flex-grow:1;flex-wrap:wrap;padding:0 2px;position:relative}.vs__actions{display:flex;align-items:center;padding:var(--vs-actions-padding)}.vs--searchable .vs__dropdown-toggle{cursor:text}.vs--unsearchable .vs__dropdown-toggle{cursor:pointer}.vs--open .vs__dropdown-toggle{border-bottom-color:rgba(0,0,0,0);border-bottom-left-radius:0;border-bottom-right-radius:0}.vs__open-indicator{fill:var(--vs-controls-color);transform:scale(var(--vs-controls-size));transition:transform var(--vs-transition-duration) var(--vs-transition-timing-function);transition-timing-function:var(--vs-transition-timing-function)}.vs--open .vs__open-indicator{transform:rotate(180deg) scale(var(--vs-controls-size))}.vs--loading .vs__open-indicator{opacity:0}.vs__clear{fill:var(--vs-controls-color);padding:0;border:0;background-color:rgba(0,0,0,0);cursor:pointer;margin-right:8px}.vs__dropdown-menu{display:block;box-sizing:border-box;position:absolute;top:calc(100% - var(--vs-border-width));left:0;z-index:var(--vs-dropdown-z-index);padding:5px 0;margin:0;width:100%;max-height:var(--vs-dropdown-max-height);min-width:var(--vs-dropdown-min-width);overflow-y:auto;box-shadow:var(--vs-dropdown-box-shadow);border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-top-style:none;border-radius:0 0 var(--vs-border-radius) var(--vs-border-radius);text-align:left;list-style:none;background:var(--vs-dropdown-bg);color:var(--vs-dropdown-color)}.vs__no-options{text-align:center}.vs__dropdown-option{line-height:1.42857143;display:block;padding:var(--vs-dropdown-option-padding);clear:both;color:var(--vs-dropdown-option-color);white-space:nowrap;cursor:pointer}.vs__dropdown-option--highlight{background:var(--vs-dropdown-option--active-bg);color:var(--vs-dropdown-option--active-color)}.vs__dropdown-option--deselect{background:var(--vs-dropdown-option--deselect-bg);color:var(--vs-dropdown-option--deselect-color)}.vs__dropdown-option--disabled{background:var(--vs-state-disabled-bg);color:var(--vs-state-disabled-color);cursor:var(--vs-state-disabled-cursor)}.vs__selected{display:flex;align-items:center;background-color:var(--vs-selected-bg);border:var(--vs-selected-border-width) var(--vs-selected-border-style) var(--vs-selected-border-color);border-radius:var(--vs-border-radius);color:var(--vs-selected-color);line-height:var(--vs-line-height);margin:4px 2px 0;padding:0 .25em;z-index:0}.vs__deselect{display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin-left:4px;padding:0;border:0;cursor:pointer;background:none;fill:var(--vs-controls-color);text-shadow:var(--vs-controls--deselect-text-shadow)}.vs--single .vs__selected{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.vs--single.vs--open .vs__selected,.vs--single.vs--loading .vs__selected{position:absolute;opacity:.4}.vs--single.vs--searching .vs__selected{display:none}.vs__search::-webkit-search-cancel-button{display:none}.vs__search::-webkit-search-decoration,.vs__search::-webkit-search-results-button,.vs__search::-webkit-search-results-decoration,.vs__search::-ms-clear{display:none}.vs__search,.vs__search:focus{color:var(--vs-search-input-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:var(--vs-line-height);font-size:var(--vs-font-size);border:1px solid rgba(0,0,0,0);border-left:none;outline:none;margin:4px 0 0;padding:0 7px;background:none;box-shadow:none;width:0;max-width:100%;flex-grow:1;z-index:1}.vs__search::-moz-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search::placeholder{color:var(--vs-search-input-placeholder-color)}.vs--unsearchable .vs__search{opacity:1}.vs--unsearchable:not(.vs--disabled) .vs__search{cursor:pointer}.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search{opacity:.2}.vs__spinner{align-self:center;opacity:0;font-size:5px;text-indent:-9999em;overflow:hidden;border-top:.9em solid rgba(100,100,100,.1);border-right:.9em solid rgba(100,100,100,.1);border-bottom:.9em solid rgba(100,100,100,.1);border-left:.9em solid rgba(60,60,60,.45);transform:translateZ(0) scale(var(--vs-controls--spinner-size, var(--vs-controls-size)));-webkit-animation:vSelectSpinner 1.1s infinite linear;animation:vSelectSpinner 1.1s infinite linear;transition:opacity .1s}.vs__spinner,.vs__spinner:after{border-radius:50%;width:5em;height:5em;transform:scale(var(--vs-controls--spinner-size, var(--vs-controls-size)))}.vs--loading .vs__spinner{opacity:1}",""]);const s=a},7188(t,e,n){n.d(e,{default:()=>$s});var r=n(641),i=n(33),o=n(953),a=n(3751),s=n(1338),l=n(489),c=n(5072),d=n.n(c),u=n(7825),p=n.n(u),h=n(7659),f=n.n(h),g=n(5056),v=n.n(g),m=n(540),b=n.n(m),y=n(1113),w=n.n(y),x=n(8617),_={};_.styleTagTransform=w(),_.setAttributes=v(),_.insert=f().bind(null,"head"),_.domAPI=p(),_.insertStyleElement=b(),d()(x.A,_),x.A&&x.A.locals&&x.A.locals;var k=n(4163),C=n(2697);const E=["aria-labelledby"],S={key:0,class:"empty-content__icon","aria-hidden":"true"},A=["id"],N={key:2,class:"empty-content__description"},$={key:3,class:"empty-content__action"},P=(0,r.pM)({__name:"NcEmptyContent",props:{description:{default:""},name:{default:""}},setup(t){const e=(0,k.c)();return(t,n)=>((0,r.uX)(),(0,r.CE)("div",{"aria-labelledby":(0,o.R1)(e),class:"empty-content",role:"note"},[t.$slots.icon?((0,r.uX)(),(0,r.CE)("div",S,[(0,r.RG)(t.$slots,"icon",{},void 0,!0)])):(0,r.Q3)("",!0),""!==t.name||t.$slots.name?((0,r.uX)(),(0,r.CE)("div",{key:1,id:(0,o.R1)(e),class:"empty-content__name"},[(0,r.RG)(t.$slots,"name",{},()=>[(0,r.eW)((0,i.v_)(t.name),1)],!0)],8,A)):(0,r.Q3)("",!0),""!==t.description||t.$slots.description?((0,r.uX)(),(0,r.CE)("p",N,[(0,r.RG)(t.$slots,"description",{},()=>[(0,r.eW)((0,i.v_)(t.description),1)],!0)])):(0,r.Q3)("",!0),t.$slots.action?((0,r.uX)(),(0,r.CE)("div",$,[(0,r.RG)(t.$slots,"action",{},void 0,!0)])):(0,r.Q3)("",!0)],8,E))}}),T=(0,C._)(P,[["__scopeId","data-v-b101d636"]]);var O,L=n(240),I=n(1379),R=n(5446),j=n(5818),V=n(1225),B=n(1544),F=n(9165);!function(t){t[t.User=0]="User",t[t.Group=1]="Group",t[t.Link=3]="Link",t[t.Email=4]="Email",t[t.Remote=6]="Remote",t[t.Team=7]="Team",t[t.Guest=8]="Guest",t[t.RemoteGroup=9]="RemoteGroup",t[t.Room=10]="Room",t[t.Deck=12]="Deck",t[t.FederatedGroup=14]="FederatedGroup",t[t.ScienceMesh=15]="ScienceMesh"}(O||(O={}));var D=n(2510),M=n(5348),z=n(7651),W=n(6802);function U(t,e,n){const r=`#initial-state-${t}-${e}`;if(window._nc_initial_state?.has(r))return window._nc_initial_state.get(r);window._nc_initial_state||(window._nc_initial_state=new Map);const i=document.querySelector(r);if(null===i){if(void 0!==n)return n;throw new Error(`Could not find initial state ${e} of ${t}`)}try{const t=JSON.parse(atob(i.value));return window._nc_initial_state.set(r,t),t}catch(r){if(console.error("[@nextcloud/initial-state] Could not parse initial state",{key:e,app:t,error:r}),void 0!==n)return n;throw new Error(`Could not parse initial state ${e} of ${t}`,{cause:r})}}var X=n(3814),q=n(1428),H=n(854),G={};G.styleTagTransform=w(),G.setAttributes=v(),G.insert=f().bind(null,"head"),G.domAPI=p(),G.insertStyleElement=b(),d()(H.A,G),H.A&&H.A.locals&&H.A.locals;var K=n(9106);const Q={beforeUpdate(){this.text=this.getText()},data(){return{text:this.getText()}},computed:{isLongText(){return this.text&&this.text.trim().length>20}},methods:{getText(){return this.$slots.default?.()[0].children?.trim?.()||""}}};var Z=n(7670),J={};J.styleTagTransform=w(),J.setAttributes=v(),J.insert=f().bind(null,"head"),J.domAPI=p(),J.insertStyleElement=b(),d()(Z.A,J),Z.A&&Z.A.locals&&Z.A.locals,(0,K.r)(K.x);const Y=["for"],tt=["id","type","value","min","max"],et=(0,r.pM)({inheritAttrs:!1,__name:"NcDateTimePickerNative",props:(0,r.zz)({class:{default:void 0},id:{default:()=>(0,k.c)()},inputClass:{default:""},type:{default:"date"},label:{default:()=>(0,K.a)("Please choose a date")},min:{default:null},max:{default:null},hideLabel:{type:Boolean}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=(0,r.fn)(t,"modelValue"),n=t,o=(0,r.EW)(()=>e.value?c(e.value):""),a=(0,r.EW)(()=>n.max?c(n.max):void 0),s=(0,r.EW)(()=>n.min?c(n.min):void 0);function l(t){return{yyyy:t.getFullYear().toString().padStart(4,"0"),MM:(t.getMonth()+1).toString().padStart(2,"0"),dd:t.getDate().toString().padStart(2,"0"),hh:t.getHours().toString().padStart(2,"0"),mm:t.getMinutes().toString().padStart(2,"0")}}function c(t){const{yyyy:e,MM:r,dd:i,hh:o,mm:a}=l(t);if("datetime-local"===n.type)return`${e}-${r}-${i}T${o}:${a}`;if("date"===n.type)return`${e}-${r}-${i}`;if("month"===n.type)return`${e}-${r}`;if("time"===n.type)return`${o}:${a}`;if("week"===n.type){const n=new Date(Number.parseInt(e),0,1),r=Math.floor((t.getTime()-n.getTime())/864e5);return`${e}-W${Math.ceil(r/7)}`}return""}function d(t){const r=t.target;if(!r||isNaN(r.valueAsNumber))e.value=null;else if("time"===n.type){const t=r.value,{yyyy:n,MM:i,dd:o}=l(e.value||new Date);e.value=new Date(`${n}-${i}-${o}T${t}`)}else if("month"===n.type){const t=(new Date(r.value).getMonth()+1).toString().padStart(2,"0"),{yyyy:n,dd:i,hh:o,mm:a}=l(e.value||new Date);e.value=new Date(`${n}-${t}-${i}T${o}:${a}`)}else{const t=1e3*new Date(r.valueAsNumber).getTimezoneOffset()*60,n=r.valueAsNumber+t;e.value=new Date(n)}}return(t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["native-datetime-picker",t.$props.class])},[(0,r.Lk)("label",{class:(0,i.C4)(["native-datetime-picker__label",{"hidden-visually":t.hideLabel}]),for:t.id},(0,i.v_)(t.label),11,Y),(0,r.Lk)("input",(0,r.v6)({id:t.id,class:["native-datetime-picker__input",t.inputClass],type:t.type,value:o.value,min:s.value,max:a.value},t.$attrs,{onInput:d}),null,16,tt)],2))}}),nt=(0,C._)(et,[["__scopeId","data-v-b97e1f7a"]]);var rt=n(2305),it={};it.styleTagTransform=w(),it.setAttributes=v(),it.insert=f().bind(null,"head"),it.domAPI=p(),it.insertStyleElement=b(),d()(rt.A,it),rt.A&&rt.A.locals&&rt.A.locals;var ot=n(8190),at=n(8334);function st(t,e=100,n={}){if("function"!=typeof t)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(e<0)throw new RangeError("`wait` must not be negative.");if("boolean"==typeof n)throw new TypeError("The `options` parameter must be an object, not a boolean. Use `{immediate: true}` instead.");const{immediate:r}=n;let i,o,a,s,l;function c(){const e=i,n=o;return i=void 0,o=void 0,l=t.apply(e,n),l}function d(){const t=Date.now()-s;t<e&&t>=0?a=setTimeout(d,e-t):(a=void 0,r||(l=c()))}const u=function(...t){if(i&&this!==i&&Object.getPrototypeOf(this)===Object.getPrototypeOf(i))throw new Error("Debounced method called with different contexts of the same prototype.");i=this,o=t,s=Date.now();const n=r&&!a;if(a||(a=setTimeout(d,e)),n)return l=c(),l};return Object.defineProperty(u,"isPending",{get:()=>void 0!==a}),u.clear=()=>{a&&(clearTimeout(a),a=void 0,i=void 0,o=void 0)},u.flush=()=>{a&&u.trigger()},u.trigger=()=>{l=c(),u.clear()},u}var lt=n(8074),ct=n(2591),dt=n(3168);(0,K.r)(K.n);const ut=(0,r.pM)({__name:"NcPasswordField",props:(0,r.zz)({class:{},inputClass:{default:""},id:{},label:{},labelOutside:{type:Boolean},placeholder:{},showTrailingButton:{type:Boolean,default:!0},success:{type:Boolean},error:{type:Boolean},helperText:{},disabled:{type:Boolean},pill:{type:Boolean},checkPasswordStrength:{type:Boolean},minlength:{default:void 0},asText:{type:Boolean}},{modelValue:{default:""},modelModifiers:{},visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:(0,r.zz)(["valid","invalid"],["update:modelValue","update:visible"]),setup(t,{expose:e,emit:n}){const i=(0,r.fn)(t,"modelValue"),a=(0,r.fn)(t,"visible"),s=t,l=n;(0,r.wB)(i,st(async function(){if(s.checkPasswordStrength)try{const{data:t}=await W.Ay.post((0,X.KT)("apps/password_policy/api/v1/validate"),{password:i.value});if(p.value=t.ocs.data.passed,t.ocs.data.passed)return u.value=(0,K.a)("Password is secure"),void l("valid");u.value=t.ocs.data.reason,l("invalid")}catch(t){dt.l.error("Password policy returned an error",{error:t})}},500)),e({focus:function(t){d.value.focus(t)},select:function(){d.value.select()}});const{password_policy:c}=(0,at.F)(),d=(0,r.rk)("inputField"),u=(0,o.KR)(""),p=(0,o.KR)(),h=(0,r.EW)(()=>{const t={...s};return delete t.checkPasswordStrength,delete t.minlength,delete t.asText,delete t.error,delete t.helperText,delete t.inputClass,delete t.success,t}),f=(0,r.EW)(()=>s.minlength??(s.checkPasswordStrength?c?.minLength:void 0)??void 0);function g(){a.value=!a.value}return(t,e)=>((0,r.uX)(),(0,r.Wv)(ct.N,(0,r.v6)(h.value,{ref:"inputField",modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),error:t.error||!1===p.value,helperText:t.helperText||u.value,inputClass:[t.inputClass,{"password-field__input--secure-text":!a.value&&t.asText}],minlength:f.value,success:t.success||!0===p.value,trailingButtonLabel:a.value?(0,o.R1)(K.a)("Hide password"):(0,o.R1)(K.a)("Show password"),type:a.value||t.asText?"text":"password",onTrailingButtonClick:g}),(0,r.eX)({"trailing-button-icon":(0,r.k6)(()=>[(0,r.bF)(lt.N,{path:a.value?(0,o.R1)(ot.q):(0,o.R1)(ot.r)},null,8,["path"])]),_:2},[t.$slots.icon?{name:"icon",fn:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"icon",{},void 0,!0)]),key:"0"}:void 0]),1040,["modelValue","error","helperText","inputClass","minlength","success","trailingButtonLabel","type"]))}}),pt=(0,C._)(ut,[["__scopeId","data-v-00e75248"]]);var ht=n(5032);(0,K.r)(K.l);const ft={name:"NcActionInput",components:{NcDateTimePickerNative:nt,NcPasswordField:pt,NcTextField:ht._,NcColorPicker:(0,r.$V)(()=>n.e(178).then(n.bind(n,9178))),NcDateTimePicker:(0,r.$V)(()=>n.e(951).then(n.bind(n,1951))),NcSelect:(0,r.$V)(()=>Promise.resolve().then(n.bind(n,3710)))},mixins:[Q],inheritAttrs:!1,props:{id:{type:String,default:()=>"action-"+(0,k.c)(),validator:t=>""!==t.trim()},inputId:{type:String,default:()=>"action-input-"+(0,k.c)(),validator:t=>""!==t.trim()},icon:{type:String,default:""},type:{type:String,default:"text",validator:t=>["date","datetime-local","month","multiselect","number","password","search","tel","text","time","url","week","color","email"].includes(t)},idNativeDateTimePicker:{type:String,default:"date-time-picker_id"},isNativePicker:{type:Boolean,default:!1},label:{type:String,default:null},labelOutside:{type:Boolean,default:!0},modelValue:{type:[String,Date,Number,Array],default:""},disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:""},showTrailingButton:{type:Boolean,default:!0},trailingButtonLabel:{type:String,default:(0,K.a)("Submit")},class:{type:[String,Array,Object],default:""}},emits:["submit","update:modelValue"],computed:{isIconUrl(){try{return new URL(this.icon)}catch{return!1}},isMultiselectType(){return"multiselect"===this.type},nativeDatePickerType(){switch(this.type){case"date":case"month":case"time":case"week":case"datetime-local":return this.type}return!1},datePickerType(){if(!this.isNativePicker)switch(this.type){case"date":case"month":case"time":return this.type;case"datetime-local":return"datetime"}return!1},isFocusable(){return!this.disabled}},methods:{onLeave(){this.$refs.datetimepicker&&this.$refs.datetimepicker.$refs.datepicker&&this.$refs.datetimepicker.$refs.datepicker.closePopup()},onSubmit(t){if(t.preventDefault(),t.stopPropagation(),this.disabled)return!1;this.$emit("submit",t)},onUpdateModelValue(t){this.$emit("update:modelValue",t)}}},gt={class:"action-input__icon-wrapper"},vt=["disabled"],mt={class:"action-input__container"},bt=["for"],yt={class:"action-input__input-container"},wt={key:4,class:"action-input__container"},xt=["for"],_t={class:"action-input__input-container"},kt=(0,C._)(ft,[["render",function(t,e,n,o,s,l){const c=(0,r.g2)("NcDateTimePicker"),d=(0,r.g2)("NcDateTimePickerNative"),u=(0,r.g2)("NcSelect"),p=(0,r.g2)("NcPasswordField"),h=(0,r.g2)("NcColorPicker"),f=(0,r.g2)("NcTextField");return(0,r.uX)(),(0,r.CE)("li",{class:(0,i.C4)(["action",[{"action--disabled":n.disabled},t.$props.class]])},[(0,r.Lk)("span",{class:(0,i.C4)(["action-input",{"action-input-picker--disabled":n.disabled,"action-input--visible-label":n.labelOutside&&n.label}]),onMouseleave:e[3]||(e[3]=(...t)=>l.onLeave&&l.onLeave(...t))},[(0,r.Lk)("span",gt,[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.Lk)("span",{"aria-hidden":"true",class:(0,i.C4)(["action-input__icon",[l.isIconUrl?"action-input__icon--url":n.icon]]),style:(0,i.Tr)({backgroundImage:l.isIconUrl?`url(${n.icon})`:null})},null,6)],!0)]),(0,r.Lk)("form",{ref:"form",class:"action-input__form",disabled:n.disabled,onSubmit:e[2]||(e[2]=(0,a.D$)((...t)=>l.onSubmit&&l.onSubmit(...t),["prevent"]))},[(0,r.Lk)("div",mt,[n.label&&n.labelOutside&&!n.isNativePicker?((0,r.uX)(),(0,r.CE)("label",{key:0,class:(0,i.C4)(["action-input__text-label",{"action-input__text-label--hidden":!n.labelOutside}]),for:n.inputId},(0,i.v_)(n.label),11,bt)):(0,r.Q3)("",!0),(0,r.Lk)("div",yt,[l.datePickerType?((0,r.uX)(),(0,r.Wv)(c,(0,r.v6)({key:0,ref:"datetimepicker",modelValue:n.modelValue,style:{"z-index":"99999999999"},placeholder:t.text,disabled:n.disabled,type:l.datePickerType,inputClass:["mx-input",{focusable:l.isFocusable}],class:"action-input__datetimepicker",appendToBody:""},t.$attrs,{"onUpdate:modelValue":l.onUpdateModelValue}),null,16,["modelValue","placeholder","disabled","type","inputClass","onUpdate:modelValue"])):n.isNativePicker?((0,r.uX)(),(0,r.Wv)(d,(0,r.v6)({key:1,id:n.idNativeDateTimePicker,modelValue:n.modelValue,label:n.label,type:l.nativeDatePickerType,inputClass:{focusable:l.isFocusable},class:"action-input__datetimepicker"},t.$attrs,{"onUpdate:modelValue":l.onUpdateModelValue}),null,16,["id","modelValue","label","type","inputClass","onUpdate:modelValue"])):l.isMultiselectType?((0,r.uX)(),(0,r.Wv)(u,(0,r.v6)({key:2,modelValue:n.modelValue,placeholder:t.text,disabled:n.disabled,appendToBody:!1,inputClass:{focusable:l.isFocusable},class:"action-input__multi"},t.$attrs,{"onUpdate:modelValue":l.onUpdateModelValue}),null,16,["modelValue","placeholder","disabled","inputClass","onUpdate:modelValue"])):"password"===n.type?((0,r.uX)(),(0,r.Wv)(p,(0,r.v6)({key:3,id:n.inputId,modelValue:n.modelValue,label:n.label,labelOutside:!n.label||n.labelOutside,placeholder:t.text,disabled:n.disabled,inputClass:{focusable:l.isFocusable},showTrailingButton:n.showTrailingButton&&!n.disabled},t.$attrs,{"onUpdate:modelValue":l.onUpdateModelValue}),null,16,["id","modelValue","label","labelOutside","placeholder","disabled","inputClass","showTrailingButton","onUpdate:modelValue"])):"color"===n.type?((0,r.uX)(),(0,r.CE)("div",wt,[n.label&&"color"===n.type?((0,r.uX)(),(0,r.CE)("label",{key:0,class:(0,i.C4)(["action-input__text-label",{"action-input__text-label--hidden":!n.labelOutside}]),for:n.inputId},(0,i.v_)(n.label),11,xt)):(0,r.Q3)("",!0),(0,r.Lk)("div",_t,[(0,r.bF)(h,(0,r.v6)({id:"inputId",modelValue:n.modelValue,class:"colorpicker__trigger"},t.$attrs,{"onUpdate:modelValue":l.onUpdateModelValue,onSubmit:e[0]||(e[0]=e=>t.$refs.form.requestSubmit())}),{default:(0,r.k6)(()=>[(0,r.Lk)("button",{class:(0,i.C4)(["colorpicker__preview",{focusable:l.isFocusable}]),style:(0,i.Tr)({"background-color":n.modelValue})},null,6)]),_:1},16,["modelValue","onUpdate:modelValue"])])])):((0,r.uX)(),(0,r.Wv)(f,(0,r.v6)({key:5,id:n.inputId,modelValue:n.modelValue,label:n.label,labelOutside:!n.label||n.labelOutside,placeholder:t.text,disabled:n.disabled,inputClass:{focusable:l.isFocusable},type:n.type,trailingButtonIcon:"arrowRight",trailingButtonLabel:n.trailingButtonLabel,showTrailingButton:n.showTrailingButton&&!n.disabled},t.$attrs,{onTrailingButtonClick:e[1]||(e[1]=e=>t.$refs.form.requestSubmit()),"onUpdate:modelValue":l.onUpdateModelValue}),null,16,["id","modelValue","label","labelOutside","placeholder","disabled","inputClass","type","trailingButtonLabel","showTrailingButton","onUpdate:modelValue"]))])])],40,vt)],34)],2)}],["__scopeId","data-v-3a83acfa"]]);var Ct=n(6539),Et=n(8066),St={};St.styleTagTransform=w(),St.setAttributes=v(),St.insert=f().bind(null,"head"),St.domAPI=p(),St.insertStyleElement=b(),d()(Et.A,St),Et.A&&Et.A.locals&&Et.A.locals;var At=n(3967);const Nt={name:"ChevronRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},$t=["aria-hidden","aria-label"],Pt=["fill","width","height"],Tt={d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},Ot={key:0},Lt=(0,C._)(Nt,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon chevron-right-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",Tt,[n.title?((0,r.uX)(),(0,r.CE)("title",Ot,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,Pt))],16,$t)}]]),It={name:"NcBreadcrumb",components:{NcActions:Ct.N,ChevronRight:Lt,NcButton:At.N},inheritAttrs:!1,props:{name:{type:String,required:!0},title:{type:String,default:null},to:{type:[String,Object],default:void 0},href:{type:String,default:void 0},icon:{type:String,default:""},forceIconText:{type:Boolean,default:!1},disableDrop:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},open:{type:Boolean,default:!1},class:{type:[String,Array,Object],default:""}},emits:["dragenter","dragleave","dropped","update:open"],setup(){const t=(0,k.c)();return{actionsContainer:`.vue-crumb[data-crumb-id="${t}"]`,crumbId:t}},data:()=>({hovering:!1}),computed:{linkAttributes(){return this.to?{to:this.to,...this.$attrs}:this.href?{href:this.href,...this.$attrs}:this.$attrs}},methods:{onOpenChange(t){this.$emit("update:open",t)},dropped(t){return this.disableDrop||(this.$emit("dropped",t,this.to||this.href),this.$parent.$emit("dropped",t,this.to||this.href),this.hovering=!1),!1},dragEnter(t){this.$emit("dragenter",t),this.disableDrop||(this.hovering=!0)},dragLeave(t){this.$emit("dragleave",t),this.disableDrop||t.target.contains(t.relatedTarget)||this.$refs.crumb.contains(t.relatedTarget)||(this.hovering=!1)}}},Rt=["data-crumb-id"],jt=(0,C._)(It,[["render",function(t,e,n,o,s,l){const c=(0,r.g2)("NcButton"),d=(0,r.g2)("NcActions"),u=(0,r.g2)("ChevronRight");return(0,r.uX)(),(0,r.CE)("li",{ref:"crumb",class:(0,i.C4)(["vue-crumb",[{"vue-crumb--hovered":s.hovering},t.$props.class]]),"data-crumb-id":o.crumbId,draggable:"false",onDragstart:(0,a.D$)(()=>{},["prevent"]),onDrop:e[0]||(e[0]=(0,a.D$)((...t)=>l.dropped&&l.dropped(...t),["prevent"])),onDragover:(0,a.D$)(()=>{},["prevent"]),onDragenter:e[1]||(e[1]=(...t)=>l.dragEnter&&l.dragEnter(...t)),onDragleave:e[2]||(e[2]=(...t)=>l.dragLeave&&l.dragLeave(...t))},[(n.name||n.icon||t.$slots.icon)&&!t.$slots.default?((0,r.uX)(),(0,r.Wv)(c,(0,r.v6)({key:0,"aria-label":n.icon?n.name:void 0,variant:"tertiary"},l.linkAttributes),(0,r.eX)({_:2},[t.$slots.icon||n.icon?{name:"icon",fn:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.Lk)("span",{class:(0,i.C4)([n.icon,"icon"])},null,2)],!0)]),key:"0"}:void 0,!t.$slots.icon&&!n.icon||n.forceIconText?{name:"default",fn:(0,r.k6)(()=>[(0,r.eW)((0,i.v_)(n.name),1)]),key:"1"}:void 0]),1040,["aria-label"])):(0,r.Q3)("",!0),t.$slots.default?((0,r.uX)(),(0,r.Wv)(d,{key:1,ref:"actions",container:o.actionsContainer,forceMenu:n.forceMenu,forceName:"",menuName:n.name,open:n.open,title:n.title,variant:"tertiary","onUpdate:open":l.onOpenChange},{icon:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"menu-icon",{},void 0,!0)]),default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"default",{},void 0,!0)]),_:3},8,["container","forceMenu","menuName","open","title","onUpdate:open"])):(0,r.Q3)("",!0),(0,r.bF)(u,{class:"vue-crumb__separator",size:20})],42,Rt)}],["__scopeId","data-v-46306025"]]);var Vt=n(4889),Bt={};Bt.styleTagTransform=w(),Bt.setAttributes=v(),Bt.insert=f().bind(null,"head"),Bt.domAPI=p(),Bt.insertStyleElement=b(),d()(Vt.A,Bt),Vt.A&&Vt.A.locals&&Vt.A.locals;var Ft=n(1143),Dt={};Dt.styleTagTransform=w(),Dt.setAttributes=v(),Dt.insert=f().bind(null,"head"),Dt.domAPI=p(),Dt.insertStyleElement=b(),d()(Ft.A,Dt),Ft.A&&Ft.A.locals&&Ft.A.locals;var Mt=n(5112);const zt={mixins:[Q],props:{icon:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:""},closeAfterClick:{type:Boolean,default:!1},ariaLabel:{type:String,default:null}},inject:{closeMenu:{from:Mt.N}},emits:["click"],created(){"ariaHidden"in this.$attrs&&(0,r.R8)("[NcAction*]: Do not set the ariaHidden attribute as the root element will inherit the incorrect aria-hidden.")},computed:{isIconUrl(){try{return!!new URL(this.icon,this.icon.startsWith("/")?window.location.origin:void 0)}catch{return!1}}},methods:{onClick(t){this.$emit("click",t),this.closeAfterClick&&this.closeMenu(!1)}}},Wt={name:"NcActionButton",components:{NcIconSvgWrapper:lt.N},mixins:[zt],inject:{isInSemanticMenu:{from:Mt.a,default:!1}},props:{disabled:{type:Boolean,default:!1},isMenu:{type:Boolean,default:!1},type:{type:String,default:"button",validator:t=>["button","checkbox","radio","reset","submit"].includes(t)},modelValue:{type:[Boolean,String],default:null},value:{type:String,default:null},description:{type:String,default:""}},emits:["update:modelValue"],setup:()=>({mdiCheck:ot.d,mdiChevronRight:ot.c}),computed:{isFocusable(){return!this.disabled},isChecked(){return"radio"===this.type&&"boolean"!=typeof this.modelValue?this.modelValue===this.value:this.modelValue},nativeType(){return"submit"===this.type||"reset"===this.type?this.type:"button"},buttonAttributes(){const t={};return this.isInSemanticMenu?(t.role="menuitem","radio"===this.type?(t.role="menuitemradio",t["aria-checked"]=this.isChecked?"true":"false"):("checkbox"===this.type||"button"===this.nativeType&&null!==this.modelValue)&&(t.role="menuitemcheckbox",t["aria-checked"]=null===this.modelValue?"mixed":this.modelValue?"true":"false")):null!==this.modelValue&&"button"===this.nativeType&&(t["aria-pressed"]=this.modelValue?"true":"false"),t}},methods:{handleClick(t){this.onClick(t),null===this.modelValue&&"button"===this.type||("radio"===this.type&&"boolean"!=typeof this.modelValue?this.isChecked||this.$emit("update:modelValue",this.value):this.$emit("update:modelValue",!this.isChecked))}}},Ut=["role"],Xt=["aria-label","disabled","title","type"],qt={class:"action-button__longtext-wrapper"},Ht={key:0,class:"action-button__name"},Gt=["textContent"],Kt={key:2,class:"action-button__text"},Qt=["textContent"],Zt={key:2,class:"action-button__pressed-icon material-design-icon"},Jt=(0,C._)(Wt,[["render",function(t,e,n,o,a,s){const l=(0,r.g2)("NcIconSvgWrapper");return(0,r.uX)(),(0,r.CE)("li",{class:(0,i.C4)(["action",{"action--disabled":n.disabled}]),role:s.isInSemanticMenu&&"presentation"},[(0,r.Lk)("button",(0,r.v6)({"aria-label":t.ariaLabel,class:["action-button button-vue",{"action-button--active":s.isChecked,focusable:s.isFocusable}],disabled:n.disabled,title:t.title,type:s.nativeType},s.buttonAttributes,{onClick:e[0]||(e[0]=(...t)=>s.handleClick&&s.handleClick(...t))}),[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.Lk)("span",{class:(0,i.C4)([[t.isIconUrl?"action-button__icon--url":t.icon],"action-button__icon"]),style:(0,i.Tr)({backgroundImage:t.isIconUrl?`url(${t.icon})`:null}),"aria-hidden":"true"},null,6)],!0),(0,r.Lk)("span",qt,[t.name?((0,r.uX)(),(0,r.CE)("strong",Ht,(0,i.v_)(t.name),1)):(0,r.Q3)("",!0),t.isLongText?((0,r.uX)(),(0,r.CE)("span",{key:1,class:"action-button__longtext",textContent:(0,i.v_)(t.text)},null,8,Gt)):((0,r.uX)(),(0,r.CE)("span",Kt,(0,i.v_)(t.text),1)),n.description?((0,r.uX)(),(0,r.CE)("span",{key:3,class:"action-button__description",textContent:(0,i.v_)(n.description)},null,8,Qt)):(0,r.Q3)("",!0)]),n.isMenu?((0,r.uX)(),(0,r.Wv)(l,{key:0,class:"action-button__menu-icon",directional:"",path:o.mdiChevronRight},null,8,["path"])):s.isChecked?((0,r.uX)(),(0,r.Wv)(l,{key:1,path:o.mdiCheck,class:"action-button__pressed-icon"},null,8,["path"])):!1===s.isChecked?((0,r.uX)(),(0,r.CE)("span",Zt)):(0,r.Q3)("",!0),(0,r.Q3)("",!0)],16,Xt)],10,Ut)}],["__scopeId","data-v-6c2daf4e"]]);var Yt=n(6456),te={};te.styleTagTransform=w(),te.setAttributes=v(),te.insert=f().bind(null,"head"),te.domAPI=p(),te.insertStyleElement=b(),d()(Yt.A,te),Yt.A&&Yt.A.locals&&Yt.A.locals;const ee={name:"NcActionLink",mixins:[zt],inject:{isInSemanticMenu:{from:Mt.a,default:!1}},props:{href:{type:String,required:!0,validator:t=>{try{return new URL(t)}catch{return t.startsWith("#")||t.startsWith("/")}}},download:{type:String,default:null},target:{type:String,default:"_self",validator:t=>t&&(!t.startsWith("_")||["_blank","_self","_parent","_top"].indexOf(t)>-1)},title:{type:String,default:null}}},ne=["role"],re=["download","href","aria-label","target","title","role"],ie={key:0,class:"action-link__longtext-wrapper"},oe={class:"action-link__name"},ae=["textContent"],se=["textContent"],le={key:2,class:"action-link__text"},ce=(0,C._)(ee,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("li",{class:"action",role:s.isInSemanticMenu&&"presentation"},[(0,r.Lk)("a",{download:n.download,href:n.href,"aria-label":t.ariaLabel,target:n.target,title:n.title,class:"action-link focusable",rel:"nofollow noreferrer noopener",role:s.isInSemanticMenu&&"menuitem",onClick:e[0]||(e[0]=(...e)=>t.onClick&&t.onClick(...e))},[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.Lk)("span",{"aria-hidden":"true",class:(0,i.C4)(["action-link__icon",[t.isIconUrl?"action-link__icon--url":t.icon]]),style:(0,i.Tr)({backgroundImage:t.isIconUrl?`url(${t.icon})`:null})},null,6)],!0),t.name?((0,r.uX)(),(0,r.CE)("span",ie,[(0,r.Lk)("strong",oe,(0,i.v_)(t.name),1),e[1]||(e[1]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("span",{class:"action-link__longtext",textContent:(0,i.v_)(t.text)},null,8,ae)])):t.isLongText?((0,r.uX)(),(0,r.CE)("span",{key:1,class:"action-link__longtext",textContent:(0,i.v_)(t.text)},null,8,se)):((0,r.uX)(),(0,r.CE)("span",le,(0,i.v_)(t.text),1)),(0,r.Q3)("",!0)],8,re)],8,ne)}],["__scopeId","data-v-32f01b7a"]]);var de=n(6477),ue={};ue.styleTagTransform=w(),ue.setAttributes=v(),ue.insert=f().bind(null,"head"),ue.domAPI=p(),ue.insertStyleElement=b(),d()(de.A,ue),de.A&&de.A.locals&&de.A.locals;const pe={name:"NcActionRouter",mixins:[zt],inject:{isInSemanticMenu:{from:Mt.a,default:!1}},props:{to:{type:[String,Object],required:!0}}},he=["role"],fe={key:0,class:"action-router__longtext-wrapper"},ge={class:"action-router__name"},ve=["textContent"],me=["textContent"],be={key:2,class:"action-router__text"},ye=(0,C._)(pe,[["render",function(t,e,n,o,a,s){const l=(0,r.g2)("RouterLink");return(0,r.uX)(),(0,r.CE)("li",{class:"action",role:s.isInSemanticMenu&&"presentation"},[(0,r.bF)(l,{"aria-label":t.ariaLabel,class:"action-router focusable",rel:"nofollow noreferrer noopener",role:s.isInSemanticMenu&&"menuitem",title:t.title,to:n.to,onClick:t.onClick},{default:(0,r.k6)(()=>[(0,r.RG)(t.$slots,"icon",{},()=>[(0,r.Lk)("span",{"aria-hidden":"true",class:(0,i.C4)(["action-router__icon",[t.isIconUrl?"action-router__icon--url":t.icon]]),style:(0,i.Tr)({backgroundImage:t.isIconUrl?`url(${t.icon})`:null})},null,6)],!0),t.name?((0,r.uX)(),(0,r.CE)("span",fe,[(0,r.Lk)("strong",ge,(0,i.v_)(t.name),1),e[0]||(e[0]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("span",{class:"action-router__longtext",textContent:(0,i.v_)(t.text)},null,8,ve)])):t.isLongText?((0,r.uX)(),(0,r.CE)("span",{key:1,class:"action-router__longtext",textContent:(0,i.v_)(t.text)},null,8,me)):((0,r.uX)(),(0,r.CE)("span",be,(0,i.v_)(t.text),1)),(0,r.Q3)("",!0)]),_:3},8,["aria-label","role","title","to","onClick"])],8,he)}],["__scopeId","data-v-87267750"]]),we={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},xe=["aria-hidden","aria-label"],_e=["fill","width","height"],ke={d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},Ce={key:0},Ee=(0,C._)(we,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon folder-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",ke,[n.title?((0,r.uX)(),(0,r.CE)("title",Ce,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,_e))],16,xe)}]]),Se="vue-crumb",Ae={name:"NcBreadcrumbs",components:{NcActions:Ct.N,NcActionButton:Jt,NcActionRouter:ye,NcActionLink:ce,NcBreadcrumb:jt,IconFolder:Ee},props:{rootIcon:{type:String,default:"icon-home"},ariaLabel:{type:String,default:null}},emits:["dropped"],data:()=>({hiddenIndices:[],menuBreadcrumbProps:{name:"",forceMenu:!0,disableDrop:!0,open:!1},breadcrumbsRefs:[]}),created(){window.addEventListener("resize",st(()=>{this.handleWindowResize()},100)),(0,s.B1)("navigation-toggled",this.delayedResize)},mounted(){this.handleWindowResize()},updated(){this.delayedResize(),this.$nextTick(()=>{this.hideCrumbs()})},beforeUnmount(){window.removeEventListener("resize",this.handleWindowResize),(0,s.al)("navigation-toggled",this.delayedResize)},methods:{closeActions(t){this.$refs.actionsBreadcrumb.$el.contains(t.relatedTarget)||(this.menuBreadcrumbProps.open=!1)},async delayedResize(){await this.$nextTick(),this.handleWindowResize()},handleWindowResize(){if(!this.$refs.container)return;const t=this.breadcrumbsRefs.length,e=[],n=this.$refs.container.offsetWidth;let r=this.getTotalWidth();this.$refs.breadcrumb__actions&&(r+=this.$refs.breadcrumb__actions.offsetWidth);let i=r-n;i+=i>0?64:0;let o=0;const a=Math.floor(t/2);for(;i>0&&o<t-2;){const n=a+(o%2?o+1:o)/2*Math.pow(-1,o+t%2);i-=this.getWidth(this.breadcrumbsRefs[n]?.$el,n===this.breadcrumbsRefs.length-1),e.push(n),o++}this.arraysEqual(this.hiddenIndices,e.sort((t,e)=>t-e))||(this.hiddenIndices=e)},arraysEqual(t,e){if(t.length!==e.length)return!1;if(t===e)return!0;if(null===t||null===e)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},getTotalWidth(){return this.breadcrumbsRefs.reduce((t,e,n)=>t+this.getWidth(e.$el,n===this.breadcrumbsRefs.length-1),0)},getWidth(t,e){if(!t?.classList)return 0;const n=t.classList.contains(`${Se}--hidden`);t.style.minWidth="auto",e&&(t.style.maxWidth="210px"),t.classList.remove(`${Se}--hidden`);const r=t.offsetWidth;return n&&t.classList.add(`${Se}--hidden`),t.style.minWidth="",t.style.maxWidth="",r},preventDefault:t=>(t.preventDefault&&t.preventDefault(),!1),dragStart(t){return this.preventDefault(t)},dropped(t,e,n){n||this.$emit("dropped",t,e),this.menuBreadcrumbProps.open=!1;const r=document.querySelectorAll(`.${Se}`);for(const t of r)t.classList.remove(`${Se}--hovered`);return this.preventDefault(t)},dragOver(t){return this.preventDefault(t)},dragEnter(t,e){if(!e&&t.target.closest){const e=t.target.closest(`.${Se}`);if(e.classList&&e.classList.contains(Se)){const t=document.querySelectorAll(`.${Se}`);for(const e of t)e.classList.remove(`${Se}--hovered`);e.classList.add(`${Se}--hovered`)}}},dragLeave(t,e){if(!e&&!t.target.contains(t.relatedTarget)&&t.target.closest){const e=t.target.closest(`.${Se}`);if(e.contains(t.relatedTarget))return;e.classList&&e.classList.contains(Se)&&e.classList.remove(`${Se}--hovered`)}},hideCrumbs(){this.breadcrumbsRefs.forEach((t,e)=>{t?.$el?.classList&&(this.hiddenIndices.includes(e)?t.$el.classList.add(`${Se}--hidden`):t.$el.classList.remove(`${Se}--hidden`))})},isBreadcrumb:t=>"NcBreadcrumb"===t?.type?.name},render(){let t=[];if(this.$slots.default?.().forEach(e=>{this.isBreadcrumb(e)?t.push(e):e?.type===r.FK&&e?.children?.forEach?.(e=>{this.isBreadcrumb(e)&&t.push(e)})}),0===t.length)return;t[0]=(0,r.E3)(t[0],{icon:this.rootIcon,ref:"breadcrumbs"});const e=[];t=t.map((t,n)=>(0,r.E3)(t,{ref:t=>{e[n]=t}}));const n=[...t];this.hiddenIndices.length&&n.splice(Math.round(t.length/2),0,(0,r.h)(jt,{class:"dropdown",...this.menuBreadcrumbProps,"aria-hidden":!0,ref:"actionsBreadcrumb",key:"actions-breadcrumb-1",onDragenter:()=>{this.menuBreadcrumbProps.open=!0},onDragleave:this.closeActions,"onUpdate:open":t=>{this.menuBreadcrumbProps.open=t}},{default:()=>this.hiddenIndices.filter(e=>e<=t.length-1).map(e=>{const n=t[e],{to:i,href:o,disableDrop:a,name:s,...l}=n.props;delete l.ref;let c=Jt,d="";o&&(c=ce,d=o),i&&(c=ye,d=i);const u=(0,r.h)(Ee,{size:20});return(0,r.h)(c,{...l,class:Se,href:o||null,to:i||null,draggable:!1,onDragstart:this.dragStart,onDrop:t=>this.dropped(t,d,a),onDragover:this.dragOver,onDragenter:t=>this.dragEnter(t,a),onDragleave:t=>this.dragLeave(t,a)},{default:()=>s,icon:()=>u})})}));const i=[(0,r.h)("nav",{"aria-label":this.ariaLabel},[(0,r.h)("ul",{class:"breadcrumb__crumbs"},[n])])];return(0,Ct.i)(this.$slots.actions?.())&&i.push((0,r.h)("div",{class:"breadcrumb__actions",ref:"breadcrumb__actions"},this.$slots.actions?.())),this.breadcrumbsRefs=e,(0,r.h)("div",{class:["breadcrumb",{"breadcrumb--collapsed":this.hiddenIndices.length===t.length-2}],ref:"container"},i)}},Ne=(0,C._)(Ae,[["__scopeId","data-v-0015282c"]]);var $e=n(1777),Pe=n(3710),Te=n(9455);function Oe(t,e,n){const r=`#initial-state-${t}-${e}`;if(window._nc_initial_state?.has(r))return window._nc_initial_state.get(r);window._nc_initial_state||(window._nc_initial_state=new Map);const i=document.querySelector(r);if(null===i){if(void 0!==n)return n;throw new Error(`Could not find initial state ${e} of ${t}`)}try{const t=JSON.parse(atob(i.value));return window._nc_initial_state.set(r,t),t}catch(r){if(console.error("[@nextcloud/initial-state] Could not parse initial state",{key:e,app:t,error:r}),void 0!==n)return n;throw new Error(`Could not parse initial state ${e} of ${t}`,{cause:r})}}function Le(){return Oe("files_sharing","isPublic",null)??null!==document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')}var Ie=n(5606),Re={2:t=>{function e(t,e,i){t instanceof RegExp&&(t=n(t,i)),e instanceof RegExp&&(e=n(e,i));var o=r(t,e,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+t.length,o[1]),post:i.slice(o[1]+e.length)}}function n(t,e){var n=e.match(t);return n?n[0]:null}function r(t,e,n){var r,i,o,a,s,l=n.indexOf(t),c=n.indexOf(e,l+1),d=l;if(l>=0&&c>0){for(r=[],o=n.length;d>=0&&!s;)d==l?(r.push(d),l=n.indexOf(t,d+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<o&&(o=i,a=c),c=n.indexOf(e,d+1)),d=l<c&&l>=0?l:c;r.length&&(s=[o,a])}return s}t.exports=e,e.range=r},47:(t,e,n)=>{var r=n(410),i=function(t){return"string"==typeof t};function o(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i))}return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s={};function l(t){return a.exec(t).slice(1)}s.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var r=n>=0?arguments[n]:Ie.cwd();if(!i(r))throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=o(t.split("/"),!e).join("/"))||"."},s.normalize=function(t){var e=s.isAbsolute(t),n="/"===t.substr(-1);return(t=o(t.split("/"),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},s.isAbsolute=function(t){return"/"===t.charAt(0)},s.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!i(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return s.normalize(t)},s.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n+1)}t=s.resolve(t).substr(1),e=s.resolve(e).substr(1);for(var r=n(t.split("/")),i=n(e.split("/")),o=Math.min(r.length,i.length),a=o,l=0;l<o;l++)if(r[l]!==i[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},s._makeLong=function(t){return t},s.dirname=function(t){var e=l(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},s.basename=function(t,e){var n=l(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},s.extname=function(t){return l(t)[3]},s.format=function(t){if(!r.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!i(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);return(t.dir?t.dir+s.sep:"")+(t.base||"")},s.parse=function(t){if(!i(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=l(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,e[1].length-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},s.sep="/",s.delimiter=":",t.exports=s},101:function(t,e,r){var i;t=r.nmd(t),function(){var o=(t&&t.exports,"object"==typeof n.g&&n.g);o.global!==o&&o.window;var a=function(t){this.message=t};(a.prototype=new Error).name="InvalidCharacterError";var s=function(t){throw new a(t)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,d={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,i,o=t.length%3,a="",c=-1,d=t.length-o;++c<d;)e=t.charCodeAt(c)<<16,n=t.charCodeAt(++c)<<8,r=t.charCodeAt(++c),a+=l.charAt((i=e+n+r)>>18&63)+l.charAt(i>>12&63)+l.charAt(i>>6&63)+l.charAt(63&i);return 2==o?(e=t.charCodeAt(c)<<8,n=t.charCodeAt(++c),a+=l.charAt((i=e+n)>>10)+l.charAt(i>>4&63)+l.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(c),a+=l.charAt(i>>2)+l.charAt(i<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(c,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,o="",a=-1;++a<e;)r=l.indexOf(t.charAt(a)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},version:"1.0.0"};void 0===(i=function(){return d}.call(e,r,e,t))||(t.exports=i)}()},135:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},172:(t,e)=>{e.d=function(t){if(!t)return 0;for(var e=(t=t.toString()).length,n=t.length;n--;){var r=t.charCodeAt(n);56320<=r&&r<=57343&&n--,127<r&&r<=2047?e++:2047<r&&r<=65535&&(e+=2)}return e}},285:(t,e,n)=>{var r=n(2);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),v(function(t){return t.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(a).split("\\,").join(s).split("\\.").join(l)}(t),!0).map(d)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",s="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function d(t){return t.split(i).join("\\").split(o).join("{").split(a).join("}").split(s).join(",").split(l).join(".")}function u(t){if(!t)return[""];var e=[],n=r("{","}",t);if(!n)return t.split(",");var i=n.pre,o=n.body,a=n.post,s=i.split(",");s[s.length-1]+="{"+o+"}";var l=u(a);return a.length&&(s[s.length-1]+=l.shift(),s.push.apply(s,l)),e.push.apply(e,s),e}function p(t){return"{"+t+"}"}function h(t){return/^-?0\d/.test(t)}function f(t,e){return t<=e}function g(t,e){return t>=e}function v(t,e){var n=[],i=r("{","}",t);if(!i)return[t];var o=i.pre,s=i.post.length?v(i.post,!1):[""];if(/\$$/.test(i.pre))for(var l=0;l<s.length;l++){var d=o+"{"+i.body+"}"+s[l];n.push(d)}else{var m,b,y=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),w=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),x=y||w,_=i.body.indexOf(",")>=0;if(!x&&!_)return i.post.match(/,(?!,).*\}/)?v(t=i.pre+"{"+i.body+a+i.post):[t];if(x)m=i.body.split(/\.\./);else if(1===(m=u(i.body)).length&&1===(m=v(m[0],!1).map(p)).length)return s.map(function(t){return i.pre+m[0]+t});if(x){var k=c(m[0]),C=c(m[1]),E=Math.max(m[0].length,m[1].length),S=3==m.length?Math.abs(c(m[2])):1,A=f;C<k&&(S*=-1,A=g);var N=m.some(h);b=[];for(var $=k;A($,C);$+=S){var P;if(w)"\\"===(P=String.fromCharCode($))&&(P="");else if(P=String($),N){var T=E-P.length;if(T>0){var O=new Array(T+1).join("0");P=$<0?"-"+O+P.slice(1):O+P}}b.push(P)}}else{b=[];for(var L=0;L<m.length;L++)b.push.apply(b,v(m[L],!1))}for(L=0;L<b.length;L++)for(l=0;l<s.length;l++)d=o+b[L]+s[l],(!e||x||d)&&n.push(d)}return n}},298:t=>{var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}},t.exports=n},345:()=>{},388:()=>{},410:()=>{},526:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=e},542:(t,e,n)=>{!function(){var e=n(298),r=n(526).utf8,i=n(135),o=n(526).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=e.bytesToWords(t),l=8*t.length,c=1732584193,d=-271733879,u=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var f=a._ff,g=a._gg,v=a._hh,m=a._ii;for(h=0;h<s.length;h+=16){var b=c,y=d,w=u,x=p;c=f(c,d,u,p,s[h+0],7,-680876936),p=f(p,c,d,u,s[h+1],12,-389564586),u=f(u,p,c,d,s[h+2],17,606105819),d=f(d,u,p,c,s[h+3],22,-1044525330),c=f(c,d,u,p,s[h+4],7,-176418897),p=f(p,c,d,u,s[h+5],12,1200080426),u=f(u,p,c,d,s[h+6],17,-1473231341),d=f(d,u,p,c,s[h+7],22,-45705983),c=f(c,d,u,p,s[h+8],7,1770035416),p=f(p,c,d,u,s[h+9],12,-1958414417),u=f(u,p,c,d,s[h+10],17,-42063),d=f(d,u,p,c,s[h+11],22,-1990404162),c=f(c,d,u,p,s[h+12],7,1804603682),p=f(p,c,d,u,s[h+13],12,-40341101),u=f(u,p,c,d,s[h+14],17,-1502002290),c=g(c,d=f(d,u,p,c,s[h+15],22,1236535329),u,p,s[h+1],5,-165796510),p=g(p,c,d,u,s[h+6],9,-1069501632),u=g(u,p,c,d,s[h+11],14,643717713),d=g(d,u,p,c,s[h+0],20,-373897302),c=g(c,d,u,p,s[h+5],5,-701558691),p=g(p,c,d,u,s[h+10],9,38016083),u=g(u,p,c,d,s[h+15],14,-660478335),d=g(d,u,p,c,s[h+4],20,-405537848),c=g(c,d,u,p,s[h+9],5,568446438),p=g(p,c,d,u,s[h+14],9,-1019803690),u=g(u,p,c,d,s[h+3],14,-187363961),d=g(d,u,p,c,s[h+8],20,1163531501),c=g(c,d,u,p,s[h+13],5,-1444681467),p=g(p,c,d,u,s[h+2],9,-51403784),u=g(u,p,c,d,s[h+7],14,1735328473),c=v(c,d=g(d,u,p,c,s[h+12],20,-1926607734),u,p,s[h+5],4,-378558),p=v(p,c,d,u,s[h+8],11,-2022574463),u=v(u,p,c,d,s[h+11],16,1839030562),d=v(d,u,p,c,s[h+14],23,-35309556),c=v(c,d,u,p,s[h+1],4,-1530992060),p=v(p,c,d,u,s[h+4],11,1272893353),u=v(u,p,c,d,s[h+7],16,-155497632),d=v(d,u,p,c,s[h+10],23,-1094730640),c=v(c,d,u,p,s[h+13],4,681279174),p=v(p,c,d,u,s[h+0],11,-358537222),u=v(u,p,c,d,s[h+3],16,-722521979),d=v(d,u,p,c,s[h+6],23,76029189),c=v(c,d,u,p,s[h+9],4,-640364487),p=v(p,c,d,u,s[h+12],11,-421815835),u=v(u,p,c,d,s[h+15],16,530742520),c=m(c,d=v(d,u,p,c,s[h+2],23,-995338651),u,p,s[h+0],6,-198630844),p=m(p,c,d,u,s[h+7],10,1126891415),u=m(u,p,c,d,s[h+14],15,-1416354905),d=m(d,u,p,c,s[h+5],21,-57434055),c=m(c,d,u,p,s[h+12],6,1700485571),p=m(p,c,d,u,s[h+3],10,-1894986606),u=m(u,p,c,d,s[h+10],15,-1051523),d=m(d,u,p,c,s[h+1],21,-2054922799),c=m(c,d,u,p,s[h+8],6,1873313359),p=m(p,c,d,u,s[h+15],10,-30611744),u=m(u,p,c,d,s[h+6],15,-1560198380),d=m(d,u,p,c,s[h+13],21,1309151649),c=m(c,d,u,p,s[h+4],6,-145523070),p=m(p,c,d,u,s[h+11],10,-1120210379),u=m(u,p,c,d,s[h+2],15,718787259),d=m(d,u,p,c,s[h+9],21,-343485551),c=c+b>>>0,d=d+y>>>0,u=u+w>>>0,p=p+x>>>0}return e.endian([c,d,u,p])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()},647:(t,e)=>{var n=Object.prototype.hasOwnProperty;function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function i(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var r,o,a=[];for(o in"string"!=typeof e&&(e="?"),t)if(n.call(t,o)){if((r=t[o])||null!=r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?e+a.join("&"):""},e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,i={};e=n.exec(t);){var o=r(e[1]),a=r(e[2]);null===o||null===a||o in i||(i[o]=a)}return i}},670:t=>{t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},737:(t,e,r)=>{var i=r(670),o=r(647),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function p(t){return(t||"").toString().replace(a,"")}var h=[["#","hash"],["?","query"],function(t,e){return v(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function g(t){var e,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(t=t||r);if("blob:"===t.protocol)i=new b(unescape(t.pathname),{});else if("string"===o)for(e in i=new b(t,{}),f)delete i[e];else if("object"===o){for(e in t)e in f||(i[e]=t[e]);void 0===i.slashes&&(i.slashes=l.test(t.href))}return i}function v(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function m(t,e){t=(t=p(t)).replace(s,""),e=e||{};var n,r=d.exec(t),i=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],l=0;return o?a?(n=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(n=r[2]+r[4],l=r[2].length):a?(n=r[3]+r[4],l=r[3].length):n=r[4],"file:"===i?l>=2&&(n=n.slice(2)):v(i)?n=r[4]:i?o&&(n=n.slice(2)):l>=2&&v(e.protocol)&&(n=r[4]),{protocol:i,slashes:o||v(i),slashesCount:l,rest:n}}function b(t,e,n){if(t=(t=p(t)).replace(s,""),!(this instanceof b))return new b(t,e,n);var r,a,l,c,d,f,y=h.slice(),w=typeof e,x=this,_=0;for("object"!==w&&"string"!==w&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),r=!(a=m(t||"",e=g(e))).protocol&&!a.slashes,x.slashes=a.slashes||r&&e.slashes,x.protocol=a.protocol||e.protocol||"",t=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||u.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!v(x.protocol)))&&(y[3]=[/(.*)/,"pathname"]);_<y.length;_++)"function"!=typeof(c=y[_])?(l=c[0],f=c[1],l!=l?x[f]=t:"string"==typeof l?~(d="@"===l?t.lastIndexOf(l):t.indexOf(l))&&("number"==typeof c[2]?(x[f]=t.slice(0,d),t=t.slice(d+c[2])):(x[f]=t.slice(d),t=t.slice(0,d))):(d=l.exec(t))&&(x[f]=d[1],t=t.slice(0,d.index)),x[f]=x[f]||r&&c[3]&&e[f]||"",c[4]&&(x[f]=x[f].toLowerCase())):t=c(t,x);n&&(x.query=n(x.query)),r&&e.slashes&&"/"!==x.pathname.charAt(0)&&(""!==x.pathname||""!==e.pathname)&&(x.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(x.pathname,e.pathname)),"/"!==x.pathname.charAt(0)&&v(x.protocol)&&(x.pathname="/"+x.pathname),i(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(~(d=x.auth.indexOf(":"))?(x.username=x.auth.slice(0,d),x.username=encodeURIComponent(decodeURIComponent(x.username)),x.password=x.auth.slice(d+1),x.password=encodeURIComponent(decodeURIComponent(x.password))):x.username=encodeURIComponent(decodeURIComponent(x.auth)),x.auth=x.password?x.username+":"+x.password:x.username),x.origin="file:"!==x.protocol&&v(x.protocol)&&x.host?x.protocol+"//"+x.host:"null",x.href=x.toString()}b.prototype={set:function(t,e,n){var r=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),r[t]=e;break;case"port":r[t]=e,i(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,c.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";r[t]=e.charAt(0)!==a?a+e:e}else r[t]=e;break;case"username":case"password":r[t]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(r.username=e.slice(0,s),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=e.slice(s+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(e))}for(var l=0;l<h.length;l++){var d=h[l];d[4]&&(r[d[1]]=r[d[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&v(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.protocol&&n.slashes||v(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&v(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(a+=n.hash),a}},b.extractProtocol=m,b.location=g,b.trimLeft=p,b.qs=o,t.exports=b},800:()=>{},805:()=>{},829:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t){var e="function"==typeof Map?new Map:void 0;return n=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return r(t,arguments,o(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i(a,t)},n(t)}function r(t,e,n){return r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},r.apply(null,arguments)}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}var a=function(t){function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}(this,o(n).call(this,t))).name="ObjectPrototypeMutationError",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t),n}(n(Error));function s(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=n.split("."),o=i.length,a=function(e){var n=i[e];if(!t)return{v:void 0};if("+"===n){if(Array.isArray(t))return{v:t.map(function(n,o){var a=i.slice(e+1);return a.length>0?s(n,a.join("."),r):r(t,o,i,e)})};var o=i.slice(0,e).join(".");throw new Error("Object at wildcard (".concat(o,") is not an array"))}t=r(t,n,i,e)},l=0;l<o;l++){var c=a(l);if("object"===e(c))return c.v}return t}function l(t,e){return t.length===e+1}t.exports={set:function(t,n,r){if("object"!=e(t)||null===t)return t;if(void 0===n)return t;if("number"==typeof n)return t[n]=r,t[n];try{return s(t,n,function(t,e,n,i){if(t===Reflect.getPrototypeOf({}))throw new a("Attempting to mutate Object.prototype");if(!t[e]){var o=Number.isInteger(Number(n[i+1])),s="+"===n[i+1];t[e]=o||s?[]:{}}return l(n,i)&&(t[e]=r),t[e]})}catch(e){if(e instanceof a)throw e;return t}},get:function(t,n){if("object"!=e(t)||null===t)return t;if(void 0===n)return t;if("number"==typeof n)return t[n];try{return s(t,n,function(t,e){return t[e]})}catch(e){return t}},has:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=e(t)||null===t)return!1;if(void 0===n)return!1;if("number"==typeof n)return n in t;try{var i=!1;return s(t,n,function(t,e,n,o){if(!l(n,o))return t&&t[e];i=r.own?t.hasOwnProperty(e):e in t}),i}catch(t){return!1}},hasOwn:function(t,e,n){return this.has(t,e,n||{own:!0})},isIn:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("object"!=e(t)||null===t)return!1;if(void 0===n)return!1;try{var o=!1,a=!1;return s(t,n,function(t,n,i,s){return o=o||t===r||!!t&&t[n]===r,a=l(i,s)&&"object"===e(t)&&n in t,t&&t[n]}),i.validPath?o&&a:o}catch(t){return!1}},ObjectPrototypeMutationError:a}}},je={};function Ve(t){var e=je[t];if(void 0!==e)return e.exports;var n=je[t]={id:t,loaded:!1,exports:{}};return Re[t].call(n.exports,n,n.exports,Ve),n.loaded=!0,n.exports}Ve.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Ve.d(e,{a:e}),e},Ve.d=(t,e)=>{for(var n in e)Ve.o(e,n)&&!Ve.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Ve.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ve.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var Be=Ve(737),Fe=Ve.n(Be);function De(t){if(!Me(t))throw new Error("Parameter was not an error")}function Me(t){return!!t&&"object"==typeof t&&"[object Error]"===(e=t,Object.prototype.toString.call(e))||t instanceof Error;var e}class ze extends Error{constructor(t,e){const n=[...arguments],{options:r,shortMessage:i}=function(t){let e,n="";if(0===t.length)e={};else if(Me(t[0]))e={cause:t[0]},n=t.slice(1).join(" ")||"";else if(t[0]&&"object"==typeof t[0])e=Object.assign({},t[0]),n=t.slice(1).join(" ")||"";else{if("string"!=typeof t[0])throw new Error("Invalid arguments passed to Layerr");e={},n=n=t.join(" ")||""}return{options:e,shortMessage:n}}(n);let o=i;if(r.cause&&(o=`${o}: ${r.cause.message}`),super(o),this.message=o,r.name&&"string"==typeof r.name?this.name=r.name:this.name="Layerr",r.cause&&Object.defineProperty(this,"_cause",{value:r.cause}),Object.defineProperty(this,"_info",{value:{}}),r.info&&"object"==typeof r.info&&Object.assign(this._info,r.info),Error.captureStackTrace){const t=r.constructorOpt||this.constructor;Error.captureStackTrace(this,t)}}static cause(t){return De(t),t._cause&&Me(t._cause)?t._cause:null}static fullStack(t){De(t);const e=ze.cause(t);return e?`${t.stack}\ncaused by: ${ze.fullStack(e)}`:t.stack??""}static info(t){De(t);const e={},n=ze.cause(t);return n&&Object.assign(e,ze.info(n)),t._info&&Object.assign(e,t._info),e}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var We=Ve(47),Ue=Ve.n(We);const Xe="__PATH_SEPARATOR_POSIX__",qe="__PATH_SEPARATOR_WINDOWS__";function He(t){try{const e=t.replace(/\//g,Xe).replace(/\\\\/g,qe);return encodeURIComponent(e).split(qe).join("\\\\").split(Xe).join("/")}catch(t){throw new ze(t,"Failed encoding path")}}function Ge(t){return t.startsWith("/")?t:"/"+t}function Ke(t){let e=t;return"/"!==e[0]&&(e="/"+e),/^.+\/$/.test(e)&&(e=e.substr(0,e.length-1)),e}function Qe(t){let e=new(Fe())(t).pathname;return e.length<=0&&(e="/"),Ke(e)}function Ze(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return function(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=r<t.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),e.push(i))}var o=e.join("/"),a=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}(e.reduce((t,e,n)=>((0===n||"/"!==e||"/"===e&&"/"!==t[t.length-1])&&t.push(e),t),[]))}var Je=Ve(542),Ye=Ve.n(Je);function tn(t,e){const n=t.url.replace("//",""),r=-1==n.indexOf("/")?"/":n.slice(n.indexOf("/")),i=t.method?t.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(e.qop)&&"auth",a=`00000000${e.nc}`.slice(-8),s=function(t,e,n,r,i,o,a){const s=a||Ye()(`${e}:${n}:${r}`);return t&&"md5-sess"===t.toLowerCase()?Ye()(`${s}:${i}:${o}`):s}(e.algorithm,e.username,e.realm,e.password,e.nonce,e.cnonce,e.ha1),l=Ye()(`${i}:${r}`),c=o?Ye()(`${s}:${e.nonce}:${a}:${e.cnonce}:${o}:${l}`):Ye()(`${s}:${e.nonce}:${l}`),d={username:e.username,realm:e.realm,nonce:e.nonce,uri:r,qop:o,response:c,nc:a,cnonce:e.cnonce,algorithm:e.algorithm,opaque:e.opaque},u=[];for(const t in d)d[t]&&("qop"===t||"nc"===t||"algorithm"===t?u.push(`${t}=${d[t]}`):u.push(`${t}="${d[t]}"`));return`Digest ${u.join(", ")}`}function en(t){return"digest"===(t.headers&&t.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()}var nn=Ve(101),rn=Ve.n(nn);function on(t){return rn().decode(t)}function an(t,e){var n;return`Basic ${n=`${t}:${e}`,rn().encode(n)}`}const sn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"undefined"!=typeof window?window:globalThis,ln=sn.fetch.bind(sn);sn.Headers,sn.Request,sn.Response;let cn=function(t){return t.Auto="auto",t.Digest="digest",t.None="none",t.Password="password",t.Token="token",t}({}),dn=function(t){return t.DataTypeNoLength="data-type-no-length",t.InvalidAuthType="invalid-auth-type",t.InvalidOutputFormat="invalid-output-format",t.LinkUnsupportedAuthType="link-unsupported-auth",t.InvalidUpdateRange="invalid-update-range",t.NotSupported="not-supported",t}({});function un(t,e,n,r,i){switch(t.authType){case cn.Auto:e&&n&&(t.headers.Authorization=an(e,n));break;case cn.Digest:t.digest=function(t,e,n){return{username:t,password:e,ha1:n,nc:0,algorithm:"md5",hasDigestAuth:!1}}(e,n,i);break;case cn.None:break;case cn.Password:t.headers.Authorization=an(e,n);break;case cn.Token:t.headers.Authorization=`${(o=r).token_type} ${o.access_token}`;break;default:throw new ze({info:{code:dn.InvalidAuthType}},`Invalid auth type: ${t.authType}`)}var o}Ve(345),Ve(800);const pn="@@HOTPATCHER",hn=()=>{};function fn(t){return{original:t,methods:[t],final:!1}}class gn{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=pn}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||t.__type__!==pn)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(n=>{this.configuration.registry.hasOwnProperty(n)?e&&(this.configuration.registry[n]=Object.assign({},t.configuration.registry[n])):this.configuration.registry[n]=Object.assign({},t.configuration.registry[n])}),t._configuration=this.configuration,this}execute(t){const e=this.get(t)||hn;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e(...r)}get(t){const e=this.configuration.registry[t];if(!e)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Failed creating sequence: No functions provided");return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n;const o=this;for(;e.length>0;)i=[e.shift().apply(o,i)];return i[0]}}(...e.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{chain:r=!1}=n;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if("function"!=typeof e)throw new Error(`Failed patching '${t}': Provided method is not a function`);if(r)this.configuration.registry[t]?this.configuration.registry[t].methods.push(e):this.configuration.registry[t]=fn(e);else if(this.isPatched(t)){const{original:n}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(fn(e),{original:n})}else this.configuration.registry[t]=fn(e);return this}patchInline(t,e){this.isPatched(t)||this.patch(t,e);for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this.execute(t,...r)}plugin(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(e=>{this.patch(t,e,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if("function"!=typeof this.configuration.registry[t].original)throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let vn=null;function mn(){return vn||(vn=new gn),vn}function bn(t){return function(t){if("object"!=typeof t||null===t||"[object Object]"!=Object.prototype.toString.call(t))return!1;if(null===Object.getPrototypeOf(t))return!0;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t)?Object.assign({},t):Object.setPrototypeOf(Object.assign({},t),Object.getPrototypeOf(t))}function yn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let r=null,i=[...e];for(;i.length>0;){const t=i.shift();r=r?wn(r,t):bn(t)}return r}function wn(t,e){const n=bn(t);return Object.keys(e).forEach(t=>{n.hasOwnProperty(t)?Array.isArray(e[t])?n[t]=Array.isArray(n[t])?[...n[t],...e[t]]:[...e[t]]:"object"==typeof e[t]&&e[t]?n[t]="object"==typeof n[t]&&n[t]?wn(n[t],e[t]):bn(e[t]):n[t]=e[t]:n[t]=e[t]}),n}function xn(t){const e={};for(const n of t.keys())e[n]=t.get(n);return e}function _n(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return{};const r={};return e.reduce((t,e)=>(Object.keys(e).forEach(n=>{const i=n.toLowerCase();r.hasOwnProperty(i)?t[r[i]]=e[n]:(r[i]=n,t[n]=e[n])}),t),{})}Ve(805);const kn="function"==typeof ArrayBuffer,{toString:Cn}=Object.prototype;function En(t){return kn&&(t instanceof ArrayBuffer||"[object ArrayBuffer]"===Cn.call(t))}function Sn(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function An(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function Nn(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const $n=An(function(t){const e=t._digest;return delete t._digest,e.hasDigestAuth&&(t=yn(t,{headers:{Authorization:tn(t,e)}})),Nn(Ln(t),function(n){let r=!1;return i=function(t){return r?t:n},(o=function(){if(401==n.status)return e.hasDigestAuth=function(t,e){if(!en(t))return!1;const n=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const r=t.headers&&t.headers.get("www-authenticate")||"",i=n.exec(r);if(!i)break;e[i[1]]=i[2]||i[3]}return e.nc+=1,e.cnonce=function(){let t="";for(let e=0;e<32;++e)t=`${t}${"abcdef0123456789"[Math.floor(16*Math.random())]}`;return t}(),!0}(n,e),function(){if(e.hasDigestAuth)return Nn(Ln(t=yn(t,{headers:{Authorization:tn(t,e)}})),function(t){return 401==t.status?e.hasDigestAuth=!1:e.nc++,r=!0,t})}();e.nc++}())&&o.then?o.then(i):i(o);var i,o})}),Pn=An(function(t,e){return Nn(Ln(t),function(n){return n.ok?(e.authType=cn.Password,n):401==n.status&&en(n)?(e.authType=cn.Digest,un(e,e.username,e.password,void 0,void 0),t._digest=e.digest,$n(t)):n})}),Tn=An(function(t,e){return e.authType===cn.Auto?Pn(t,e):t._digest?$n(t):Ln(t)});function On(t,e,n){const r=bn(t);return r.headers=_n(e.headers,r.headers||{},n.headers||{}),void 0!==n.data&&(r.data=n.data),n.signal&&(r.signal=n.signal),e.httpAgent&&(r.httpAgent=e.httpAgent),e.httpsAgent&&(r.httpsAgent=e.httpsAgent),e.digest&&(r._digest=e.digest),"boolean"==typeof e.withCredentials&&(r.withCredentials=e.withCredentials),r}function Ln(t){const e=mn();return e.patchInline("request",t=>e.patchInline("fetch",ln,t.url,function(t){let e={};const n={method:t.method};if(t.headers&&(e=_n(e,t.headers)),void 0!==t.data){const[r,i]=function(t){if("string"==typeof t)return[t,{}];if(Sn(t))return[t,{}];if(En(t))return[t,{}];if(t&&"object"==typeof t)return[JSON.stringify(t),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof t)}(t.data);n.body=r,e=_n(e,i)}return t.signal&&(n.signal=t.signal),t.withCredentials&&(n.credentials="include"),n.headers=e,n}(t)),t)}var In=Ve(285);const Rn=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},jn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Vn=t=>t.replace(/[[\]\\-]/g,"\\$&"),Bn=t=>t.join(""),Fn=(t,e)=>{const n=e;if("["!==t.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let o=n+1,a=!1,s=!1,l=!1,c=!1,d=n,u="";t:for(;o<t.length;){const e=t.charAt(o);if("!"!==e&&"^"!==e||o!==n+1){if("]"===e&&a&&!l){d=o+1;break}if(a=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[a,l,c]]of Object.entries(jn))if(t.startsWith(e,o)){if(u)return["$.",!1,t.length-n,!0];o+=e.length,c?i.push(a):r.push(a),s=s||l;continue t}l=!1,u?(e>u?r.push(Vn(u)+"-"+Vn(e)):e===u&&r.push(Vn(e)),u="",o++):t.startsWith("-]",o+1)?(r.push(Vn(e+"-")),o+=2):t.startsWith("-",o+1)?(u=e,o+=2):(r.push(Vn(e)),o++)}else l=!0,o++}else c=!0,o++}if(d<o)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,t.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!c)return[(p=2===r[0].length?r[0].slice(-1):r[0],p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,d-n,!1];var p;const h="["+(c?"^":"")+Bn(r)+"]",f="["+(c?"":"^")+Bn(i)+"]";return[r.length&&i.length?"("+h+"|"+f+")":r.length?h:f,s,d-n,!0]},Dn=function(t){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Mn=new Set(["!","?","+","*","@"]),zn=t=>Mn.has(t),Wn="(?!\\.)",Un=new Set(["[","."]),Xn=new Set(["..","."]),qn=new Set("().*{}+?[]^$\\!"),Hn="[^/]",Gn=Hn+"*?",Kn=Hn+"+?";class Qn{type;#t;#e;#n=!1;#r=[];#i;#o;#a;#s=!1;#l;#c;#d=!1;constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#l=this.#t===this?n:this.#t.#l,this.#a=this.#t===this?[]:this.#t.#a,"!"!==t||this.#t.#s||this.#a.push(this),this.#o=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(const t of this.#r)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#c?this.#c:this.type?this.#c=this.type+"("+this.#r.map(t=>String(t)).join("|")+")":this.#c=this.#r.map(t=>String(t)).join("")}#u(){if(this!==this.#t)throw new Error("should only call on root");if(this.#s)return this;let t;for(this.toString(),this.#s=!0;t=this.#a.pop();){if("!"!==t.type)continue;let e=t,n=e.#i;for(;n;){for(let r=e.#o+1;!n.type&&r<n.#r.length;r++)for(const e of t.#r){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(n.#r[r])}e=n,n=e.#i}}return this}push(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof Qn&&t.#i===this))throw new Error("invalid part: "+t);this.#r.push(t)}}toJSON(){const t=null===this.type?this.#r.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#r.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#s&&"!"===this.#i?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#o)return!0;const t=this.#i;for(let e=0;e<this.#o;e++){const n=t.#r[e];if(!(n instanceof Qn&&"!"===n.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#r.length:0;return this.#o===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new Qn(this.type,t);for(const t of this.#r)e.copyIn(t);return e}static#p(t,e,n,r){let i=!1,o=!1,a=-1,s=!1;if(null===e.type){let l=n,c="";for(;l<t.length;){const n=t.charAt(l++);if(i||"\\"===n)i=!i,c+=n;else if(o)l===a+1?"^"!==n&&"!"!==n||(s=!0):"]"!==n||l===a+2&&s||(o=!1),c+=n;else if("["!==n)if(r.noext||!zn(n)||"("!==t.charAt(l))c+=n;else{e.push(c),c="";const i=new Qn(n,e);l=Qn.#p(t,i,l,r),e.push(i)}else o=!0,a=l,s=!1,c+=n}return e.push(c),l}let l=n+1,c=new Qn(null,e);const d=[];let u="";for(;l<t.length;){const n=t.charAt(l++);if(i||"\\"===n)i=!i,u+=n;else if(o)l===a+1?"^"!==n&&"!"!==n||(s=!0):"]"!==n||l===a+2&&s||(o=!1),u+=n;else if("["!==n)if(zn(n)&&"("===t.charAt(l)){c.push(u),u="";const e=new Qn(n,c);c.push(e),l=Qn.#p(t,e,l,r)}else if("|"!==n){if(")"===n)return""===u&&0===e.#r.length&&(e.#d=!0),c.push(u),u="",e.push(...d,c),l;u+=n}else c.push(u),u="",d.push(c),c=new Qn(null,e);else o=!0,a=l,s=!1,u+=n}return e.type=null,e.#e=void 0,e.#r=[t.substring(n-1)],l}static fromGlob(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Qn(null,void 0,e);return Qn.#p(t,n,0,e),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,n,r,i]=this.toRegExpSource();if(!(r||this.#e||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;const o=(this.#l.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,o),{_src:e,_glob:t})}get options(){return this.#l}toRegExpSource(t){const e=t??!!this.#l.dot;if(this.#t===this&&this.#u(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#r.map(e=>{const[r,i,o,a]="string"==typeof e?Qn.#h(e,this.#e,n):e.toRegExpSource(t);return this.#e=this.#e||o,this.#n=this.#n||a,r}).join("");let i="";if(this.isStart()&&"string"==typeof this.#r[0]&&(1!==this.#r.length||!Xn.has(this.#r[0]))){const n=Un,o=e&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),a=!e&&!t&&n.has(r.charAt(0));i=o?"(?!(?:^|/)\\.\\.?(?:$|/))":a?Wn:""}let o="";return this.isEnd()&&this.#t.#s&&"!"===this.#i?.type&&(o="(?:$|\\/)"),[i+r+o,Dn(r),this.#e=!!this.#e,this.#n]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#f(e);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const t=this.toString();return this.#r=[t],this.type=null,this.#e=void 0,[t,Dn(this.toString()),!1,!1]}let o=!n||t||e?"":this.#f(!0);o===i&&(o=""),o&&(i=`(?:${i})(?:${o})*?`);let a="";return a="!"===this.type&&this.#d?(this.isStart()&&!e?Wn:"")+Kn:r+i+("!"===this.type?"))"+(!this.isStart()||e||t?"":Wn)+Gn+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`),[a,Dn(i),this.#e=!!this.#e,this.#n]}#f(t){return this.#r.map(e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[n,r,i,o]=e.toRegExpSource(t);return this.#n=this.#n||o,n}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")}static#h(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,i="",o=!1;for(let a=0;a<t.length;a++){const s=t.charAt(a);if(r)r=!1,i+=(qn.has(s)?"\\":"")+s;else if("\\"!==s){if("["===s){const[n,r,s,l]=Fn(t,a);if(s){i+=n,o=o||r,a+=s-1,e=e||l;continue}}"*"!==s?"?"!==s?i+=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(i+=Hn,e=!0):(i+=n&&"*"===t?Kn:Gn,e=!0)}else a===t.length-1?i+="\\\\":r=!0}return[i,Dn(t),!!e,o]}}const Zn=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Rn(e),!(!n.nocomment&&"#"===e.charAt(0))&&new kr(e,n).match(t)},Jn=/^\*+([^+@!?\*\[\(]*)$/,Yn=t=>e=>!e.startsWith(".")&&e.endsWith(t),tr=t=>e=>e.endsWith(t),er=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),nr=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),rr=/^\*+\.\*+$/,ir=t=>!t.startsWith(".")&&t.includes("."),or=t=>"."!==t&&".."!==t&&t.includes("."),ar=/^\.\*+$/,sr=t=>"."!==t&&".."!==t&&t.startsWith("."),lr=/^\*+$/,cr=t=>0!==t.length&&!t.startsWith("."),dr=t=>0!==t.length&&"."!==t&&".."!==t,ur=/^\?+([^+@!?\*\[\(]*)?$/,pr=t=>{let[e,n=""]=t;const r=vr([e]);return n?(n=n.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(n)):r},hr=t=>{let[e,n=""]=t;const r=mr([e]);return n?(n=n.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(n)):r},fr=t=>{let[e,n=""]=t;const r=mr([e]);return n?t=>r(t)&&t.endsWith(n):r},gr=t=>{let[e,n=""]=t;const r=vr([e]);return n?t=>r(t)&&t.endsWith(n):r},vr=t=>{let[e]=t;const n=e.length;return t=>t.length===n&&!t.startsWith(".")},mr=t=>{let[e]=t;const n=e.length;return t=>t.length===n&&"."!==t&&".."!==t},br="object"==typeof Ie&&Ie?"object"==typeof Ie.env&&Ie.env&&Ie.env.__MINIMATCH_TESTING_PLATFORM__||Ie.platform:"posix";Zn.sep="win32"===br?"\\":"/";const yr=Symbol("globstar **");Zn.GLOBSTAR=yr,Zn.filter=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>Zn(n,t,e)};const wr=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({},t,e)};Zn.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Zn;const e=Zn;return Object.assign(function(n,r){return e(n,r,wr(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))},{Minimatch:class extends e.Minimatch{constructor(e){super(e,wr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}static defaults(n){return e.defaults(wr(t,n)).Minimatch}},AST:class extends e.AST{constructor(e,n){super(e,n,wr(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.AST.fromGlob(n,wr(t,r))}},unescape:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.unescape(n,wr(t,r))},escape:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.escape(n,wr(t,r))},filter:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter(n,wr(t,r))},defaults:n=>e.defaults(wr(t,n)),makeRe:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.makeRe(n,wr(t,r))},braceExpand:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.braceExpand(n,wr(t,r))},match:function(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.match(n,r,wr(t,i))},sep:e.sep,GLOBSTAR:yr})};const xr=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rn(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:In(t)};Zn.braceExpand=xr,Zn.makeRe=function(t){return new kr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).makeRe()},Zn.match=function(t,e){const n=new kr(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return t=t.filter(t=>n.match(t)),n.options.nonull&&!t.length&&t.push(e),t};const _r=/[?*]|[+@!]\(.*?\)|\[|\]/;class kr{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rn(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||br,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const n=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map((t,e,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&_r.test(t[2])||_r.test(t[3])),n=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(n)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,r),this.set=r.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)"**"===t[e][n]&&(t[e][n]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let n=e;for(;"**"===t[n+1];)n++;n!==e&&t.splice(e,n-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{const n=t[t.length-1];return"**"===e&&"**"===n?t:".."===e&&n&&".."!==n&&"."!==n&&"**"!==n?(t.pop(),t):(t.push(e),t)},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){const r=t[n];1===n&&""===r&&""===t[0]||"."!==r&&""!==r||(e=!0,t.splice(n,1),n--)}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let n=0;for(;-1!==(n=t.indexOf("..",n+1));){const r=t[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(e=!0,t.splice(n-1,2),n-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let n of t){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let o=n[r+1];const a=n[r+2],s=n[r+3];if(".."!==o)continue;if(!a||"."===a||".."===a||!s||"."===s||".."===s)continue;e=!0,n.splice(r,1);const l=n.slice(0);l[r]="**",t.push(l),r--}if(!this.preserveMultipleSlashes){for(let t=1;t<n.length-1;t++){const r=n[t];1===t&&""===r&&""===n[0]||"."!==r&&""!==r||(e=!0,n.splice(t,1),t--)}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(e=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const t=n[i-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...t),0===n.length&&n.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let n=e+1;n<t.length;n++){const r=this.partsMatch(t[e],t[n],!this.preserveMultipleSlashes);if(r){t[e]=[],t[n]=r;break}}return t.filter(t=>t.length)}partsMatch(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0,i=0,o=[],a="";for(;r<t.length&&i<e.length;)if(t[r]===e[i])o.push("b"===a?e[i]:t[r]),r++,i++;else if(n&&"**"===t[r]&&e[i]===t[r+1])o.push(t[r]),r++;else if(n&&"**"===e[i]&&t[r]===e[i+1])o.push(e[i]),i++;else if("*"!==t[r]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i]){if("*"!==e[i]||!t[r]||!this.options.dot&&t[r].startsWith(".")||"**"===t[r])return!1;if("a"===a)return!1;a="b",o.push(e[i]),r++,i++}else{if("b"===a)return!1;a="a",o.push(t[r]),r++,i++}return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,n=0;for(let r=0;r<t.length&&"!"===t.charAt(r);r++)e=!e,n++;n&&(this.pattern=t.slice(n)),this.negate=e}matchOne(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.options;if(this.isWindows){const n="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),r=!n&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),i="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),o=r?3:n?0:void 0,a=!i&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:i?0:void 0;if("number"==typeof o&&"number"==typeof a){const[n,r]=[t[o],e[a]];n.toLowerCase()===r.toLowerCase()&&(e[a]=n,a>o?e=e.slice(a):o>a&&(t=t.slice(o)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,a=0,s=t.length,l=e.length;o<s&&a<l;o++,a++){this.debug("matchOne loop");var c=e[a],d=t[o];if(this.debug(e,c,d),!1===c)return!1;if(c===yr){this.debug("GLOBSTAR",[e,c,d]);var u=o,p=a+1;if(p===l){for(this.debug("** at the end");o<s;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;u<s;){var h=t[u];if(this.debug("\nglobstar while",t,u,e,p,h),this.matchOne(t.slice(u),e.slice(p),n))return this.debug("globstar found match!",u,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,u,e,p);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!n||(this.debug("\n>>> no match, partial?",t,u,e,p),u!==s))}let i;if("string"==typeof c?(i=d===c,this.debug("string match",c,d,i)):(i=c.test(d),this.debug("pattern match",c,d,i)),!i)return!1}if(o===s&&a===l)return!0;if(o===s)return n;if(a===l)return o===s-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return xr(this.pattern,this.options)}parse(t){Rn(t);const e=this.options;if("**"===t)return yr;if(""===t)return"";let n,r=null;(n=t.match(lr))?r=e.dot?dr:cr:(n=t.match(Jn))?r=(e.nocase?e.dot?nr:er:e.dot?tr:Yn)(n[1]):(n=t.match(ur))?r=(e.nocase?e.dot?hr:pr:e.dot?fr:gr)(n):(n=t.match(rr))?r=e.dot?or:ir:(n=t.match(ar))&&(r=sr);const i=Qn.fromGlob(t,this.options).toMMPattern();return r&&"object"==typeof i&&Reflect.defineProperty(i,"test",{value:r}),i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(e.nocase?["i"]:[]);let i=t.map(t=>{const e=t.map(t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))r.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===yr?yr:t._src});return e.forEach((t,r)=>{const i=e[r+1],o=e[r-1];t===yr&&o!==yr&&(void 0===o?void 0!==i&&i!==yr?e[r+1]="(?:\\/|"+n+"\\/)?"+i:e[r]=n:void 0===i?e[r-1]=o+"(?:\\/|"+n+")?":i!==yr&&(e[r-1]=o+"(?:\\/|\\/"+n+"\\/)"+i,e[r+1]=yr))}),e.filter(t=>t!==yr).join("/")}).join("|");const[o,a]=t.length>1?["(?:",")"]:["",""];i="^"+o+i+a+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const n=this.options;this.isWindows&&(t=t.split("\\").join("/"));const r=this.slashSplit(t);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let o=r[r.length-1];if(!o)for(let t=r.length-2;!o&&t>=0;t--)o=r[t];for(let t=0;t<i.length;t++){const a=i[t];let s=r;if(n.matchBase&&1===a.length&&(s=[o]),this.matchOne(s,a,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(t){return Zn.defaults(t).Minimatch}}function Cr(t){const e=new Error(`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}Invalid response: ${t.status} ${t.statusText}`);return e.status=t.status,e.response=t,e}function Er(t,e){const{status:n}=e;if(401===n&&t.digest)return e;if(n>=400)throw Cr(e);return e}function Sr(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?{data:e,headers:t.headers?xn(t.headers):{},status:t.status,statusText:t.statusText}:e}Zn.AST=Qn,Zn.Minimatch=kr,Zn.escape=function(t){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&")},Zn.unescape=Dn;const Ar=(Nr=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=On({url:Ze(t.remoteURL,He(e)),method:"COPY",headers:{Destination:Ze(t.remoteURL,He(n)),Overwrite:!1===r.overwrite?"F":"T",Depth:r.shallow?"0":"infinity"}},t,r);return a=function(e){Er(t,e)},(o=Tn(i,t))&&o.then||(o=Promise.resolve(o)),a?o.then(a):o;var o,a},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(Nr.apply(this,t))}catch(t){return Promise.reject(t)}});var Nr;const $r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t},captureMetaData:!1},Pr=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Tr=new RegExp("^["+Pr+"]["+Pr+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function Or(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[];i.startIndex=e.lastIndex-r[0].length;const o=r.length;for(let t=0;t<o;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n}const Lr=function(t){return!(null==Tr.exec(t))};let Ir;Ir="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class Rr{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t,e){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),void 0!==e&&(this.child[this.child.length-1][Ir]={startIndex:e})}static getMetaDataSymbol(){return Ir}}class jr{constructor(t){this.suppressValidationErr=!t}readDocType(t,e){const n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let r=1,i=!1,o=!1,a="";for(;e<t.length;e++)if("<"!==t[e]||o)if(">"===t[e]){if(o?"-"===t[e-1]&&"-"===t[e-2]&&(o=!1,r--):r--,0===r)break}else"["===t[e]?i=!0:a+=t[e];else{if(i&&Br(t,"!ENTITY",e)){let r,i;e+=7,[r,i,e]=this.readEntityExp(t,e+1,this.suppressValidationErr),-1===i.indexOf("&")&&(n[r]={regx:RegExp(`&${r};`,"g"),val:i})}else if(i&&Br(t,"!ELEMENT",e)){e+=8;const{index:n}=this.readElementExp(t,e+1);e=n}else if(i&&Br(t,"!ATTLIST",e))e+=8;else if(i&&Br(t,"!NOTATION",e)){e+=9;const{index:n}=this.readNotationExp(t,e+1,this.suppressValidationErr);e=n}else{if(!Br(t,"!--",e))throw new Error("Invalid DOCTYPE");o=!0}r++,a=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:e}}readEntityExp(t,e){e=Vr(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e])&&'"'!==t[e]&&"'"!==t[e];)n+=t[e],e++;if(Fr(n),e=Vr(t,e),!this.suppressValidationErr){if("SYSTEM"===t.substring(e,e+6).toUpperCase())throw new Error("External entities are not supported");if("%"===t[e])throw new Error("Parameter entities are not supported")}let r="";return[e,r]=this.readIdentifierVal(t,e,"entity"),[n,r,--e]}readNotationExp(t,e){e=Vr(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;!this.suppressValidationErr&&Fr(n),e=Vr(t,e);const r=t.substring(e,e+6).toUpperCase();if(!this.suppressValidationErr&&"SYSTEM"!==r&&"PUBLIC"!==r)throw new Error(`Expected SYSTEM or PUBLIC, found "${r}"`);e+=r.length,e=Vr(t,e);let i=null,o=null;if("PUBLIC"===r)[e,i]=this.readIdentifierVal(t,e,"publicIdentifier"),'"'!==t[e=Vr(t,e)]&&"'"!==t[e]||([e,o]=this.readIdentifierVal(t,e,"systemIdentifier"));else if("SYSTEM"===r&&([e,o]=this.readIdentifierVal(t,e,"systemIdentifier"),!this.suppressValidationErr&&!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:i,systemIdentifier:o,index:--e}}readIdentifierVal(t,e,n){let r="";const i=t[e];if('"'!==i&&"'"!==i)throw new Error(`Expected quoted string, found "${i}"`);for(e++;e<t.length&&t[e]!==i;)r+=t[e],e++;if(t[e]!==i)throw new Error(`Unterminated ${n} value`);return[++e,r]}readElementExp(t,e){e=Vr(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;if(!this.suppressValidationErr&&!Lr(n))throw new Error(`Invalid element name: "${n}"`);let r="";if("E"===t[e=Vr(t,e)]&&Br(t,"MPTY",e))e+=4;else if("A"===t[e]&&Br(t,"NY",e))e+=2;else if("("===t[e]){for(e++;e<t.length&&")"!==t[e];)r+=t[e],e++;if(")"!==t[e])throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:n,contentModel:r.trim(),index:e}}readAttlistExp(t,e){e=Vr(t,e);let n="";for(;e<t.length&&!/\s/.test(t[e]);)n+=t[e],e++;Fr(n),e=Vr(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;if(!Fr(r))throw new Error(`Invalid attribute name: "${r}"`);e=Vr(t,e);let i="";if("NOTATION"===t.substring(e,e+8).toUpperCase()){if(i="NOTATION","("!==t[e=Vr(t,e+=8)])throw new Error(`Expected '(', found "${t[e]}"`);e++;let n=[];for(;e<t.length&&")"!==t[e];){let r="";for(;e<t.length&&"|"!==t[e]&&")"!==t[e];)r+=t[e],e++;if(r=r.trim(),!Fr(r))throw new Error(`Invalid notation name: "${r}"`);n.push(r),"|"===t[e]&&(e++,e=Vr(t,e))}if(")"!==t[e])throw new Error("Unterminated list of notations");e++,i+=" ("+n.join("|")+")"}else{for(;e<t.length&&!/\s/.test(t[e]);)i+=t[e],e++;const n=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!n.includes(i.toUpperCase()))throw new Error(`Invalid attribute type: "${i}"`)}e=Vr(t,e);let o="";return"#REQUIRED"===t.substring(e,e+8).toUpperCase()?(o="#REQUIRED",e+=8):"#IMPLIED"===t.substring(e,e+7).toUpperCase()?(o="#IMPLIED",e+=7):[e,o]=this.readIdentifierVal(t,e,"ATTLIST"),{elementName:n,attributeName:r,attributeType:i,defaultValue:o,index:e}}}const Vr=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e};function Br(t,e,n){for(let r=0;r<e.length;r++)if(e[r]!==t[n+r+1])return!1;return!0}function Fr(t){if(Lr(t))return t;throw new Error(`Invalid entity name ${t}`)}const Dr=/^[-+]?0x[a-fA-F0-9]+$/,Mr=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,zr={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},Wr=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function Ur(t){return"function"==typeof t?t:Array.isArray(t)?e=>{for(const n of t){if("string"==typeof n&&e===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}}:()=>!1}class Xr{constructor(t){if(this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>ai(e,10,"&#")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>ai(e,16,"&#x")}},this.addExternalEntities=qr,this.parseXml=Zr,this.parseTextData=Hr,this.resolveNameSpace=Gr,this.buildAttributesMap=Qr,this.isItStopNode=ei,this.replaceEntitiesValue=Yr,this.readStopNodeData=ii,this.saveTextToParentTag=ti,this.addChild=Jr,this.ignoreAttributesFn=Ur(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let t=0;t<this.options.stopNodes.length;t++){const e=this.options.stopNodes[t];"string"==typeof e&&(e.startsWith("*.")?this.stopNodesWildcard.add(e.substring(2)):this.stopNodesExact.add(e))}}}}function qr(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function Hr(t,e,n,r,i,o,a){if(void 0!==t&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){a||(t=this.replaceEntitiesValue(t));const r=this.options.tagValueProcessor(e,t,n,i,o);return null==r?t:typeof r!=typeof t||r!==t?r:this.options.trimValues||t.trim()===t?oi(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Gr(t){if(this.options.removeNSPrefix){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}const Kr=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function Qr(t,e){if(!0!==this.options.ignoreAttributes&&"string"==typeof t){const n=Or(t,Kr),r=n.length,i={};for(let t=0;t<r;t++){const r=this.resolveNameSpace(n[t][1]);if(this.ignoreAttributesFn(r,e))continue;let o=n[t][4],a=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const t=this.options.attributeValueProcessor(r,o,e);i[a]=null==t?o:typeof t!=typeof o||t!==o?t:oi(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[a]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=i,t}return i}}const Zr=function(t){t=t.replace(/\r\n?/g,"\n");const e=new Rr("!xml");let n=e,r="",i="";const o=new jr(this.options.processEntities);for(let a=0;a<t.length;a++)if("<"===t[a])if("/"===t[a+1]){const e=ni(t,">",a,"Closing Tag is not closed.");let o=t.substring(a+2,e).trim();if(this.options.removeNSPrefix){const t=o.indexOf(":");-1!==t&&(o=o.substr(t+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&(r=this.saveTextToParentTag(r,n,i));const s=i.substring(i.lastIndexOf(".")+1);if(o&&-1!==this.options.unpairedTags.indexOf(o))throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let l=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),n=this.tagsNodeStack.pop(),r="",a=e}else if("?"===t[a+1]){let e=ri(t,a,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new Rr(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,i)),this.addChild(n,t,i,a)}a=e.closeIndex+1}else if("!--"===t.substr(a+1,3)){const e=ni(t,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const o=t.substring(a+4,e-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}a=e}else if("!D"===t.substr(a+1,2)){const e=o.readDocType(t,a);this.docTypeEntities=e.entities,a=e.i}else if("!["===t.substr(a+1,2)){const e=ni(t,"]]>",a,"CDATA is not closed.")-2,o=t.substring(a+9,e);r=this.saveTextToParentTag(r,n,i);let s=this.parseTextData(o,n.tagname,i,!0,!1,!0,!0);null==s&&(s=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):n.add(this.options.textNodeName,s),a=e+2}else{let o=ri(t,a,this.options.removeNSPrefix),s=o.tagName;const l=o.rawTagName;let c=o.tagExp,d=o.attrExpPresent,u=o.closeIndex;if(this.options.transformTagName){const t=this.options.transformTagName(s);c===s&&(c=t),s=t}n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));const p=n;p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),s!==e.tagname&&(i+=i?"."+s:s);const h=a;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,i,s)){let e="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)"/"===s[s.length-1]?(s=s.substr(0,s.length-1),i=i.substr(0,i.length-1),c=s):c=c.substr(0,c.length-1),a=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(s))a=o.closeIndex;else{const n=this.readStopNodeData(t,l,u+1);if(!n)throw new Error(`Unexpected end of ${l}`);a=n.i,e=n.tagContent}const r=new Rr(s);s!==c&&d&&(r[":@"]=this.buildAttributesMap(c,i)),e&&(e=this.parseTextData(e,s,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),r.add(this.options.textNodeName,e),this.addChild(n,r,i,h)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){if("/"===s[s.length-1]?(s=s.substr(0,s.length-1),i=i.substr(0,i.length-1),c=s):c=c.substr(0,c.length-1),this.options.transformTagName){const t=this.options.transformTagName(s);c===s&&(c=t),s=t}const t=new Rr(s);s!==c&&d&&(t[":@"]=this.buildAttributesMap(c,i)),this.addChild(n,t,i,h),i=i.substr(0,i.lastIndexOf("."))}else{const t=new Rr(s);this.tagsNodeStack.push(n),s!==c&&d&&(t[":@"]=this.buildAttributesMap(c,i)),this.addChild(n,t,i,h),n=t}r="",a=u}}else r+=t[a];return e.child};function Jr(t,e,n,r){this.options.captureMetaData||(r=void 0);const i=this.options.updateTag(e.tagname,n,e[":@"]);!1===i||("string"==typeof i?(e.tagname=i,t.addChild(e,r)):t.addChild(e,r))}const Yr=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function ti(t,e,n,r){return t&&(void 0===r&&(r=0===e.child.length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,r))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function ei(t,e,n,r){return!(!e||!e.has(r))||!(!t||!t.has(n))}function ni(t,e,n,r){const i=t.indexOf(e,n);if(-1===i)throw new Error(r);return i+e.length-1}function ri(t,e,n){const r=function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="";for(let o=e;o<t.length;o++){let e=t[o];if(n)e===n&&(n="");else if('"'===e||"'"===e)n=e;else if(e===r[0]){if(!r[1])return{data:i,index:o};if(t[o+1]===r[1])return{data:i,index:o}}else"\t"===e&&(e=" ");i+=e}}(t,e+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(!r)return;let i=r.data;const o=r.index,a=i.search(/\s/);let s=i,l=!0;-1!==a&&(s=i.substring(0,a),i=i.substring(a+1).trimStart());const c=s;if(n){const t=s.indexOf(":");-1!==t&&(s=s.substr(t+1),l=s!==r.data.substr(t+1))}return{tagName:s,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:c}}function ii(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){const o=ni(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&(i--,0===i))return{tagContent:t.substring(r,n),i:o};n=o}else if("?"===t[n+1])n=ni(t,"?>",n+1,"StopNode is not closed.");else if("!--"===t.substr(n+1,3))n=ni(t,"--\x3e",n+3,"StopNode is not closed.");else if("!["===t.substr(n+1,2))n=ni(t,"]]>",n,"StopNode is not closed.")-2;else{const r=ri(t,n,">");r&&((r&&r.tagName)===e&&"/"!==r.tagExp[r.tagExp.length-1]&&i++,n=r.closeIndex)}}function oi(t,e,n){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=Object.assign({},zr,e),!t||"string"!=typeof t)return t;let n=t.trim();if(void 0!==e.skipLike&&e.skipLike.test(n))return t;if("0"===t)return 0;if(e.hex&&Dr.test(n))return function(t){if(parseInt)return parseInt(t,16);if(Number.parseInt)return Number.parseInt(t,16);if(window&&window.parseInt)return window.parseInt(t,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(n);if(n.includes("e")||n.includes("E"))return function(t,e,n){if(!n.eNotation)return t;const r=e.match(Wr);if(r){let i=r[1]||"";const o=-1===r[3].indexOf("e")?"E":"e",a=r[2],s=i?t[a.length+1]===o:t[a.length]===o;return a.length>1&&s?t:1!==a.length||!r[3].startsWith(`.${o}`)&&r[3][0]!==o?n.leadingZeros&&!s?(e=(r[1]||"")+r[3],Number(e)):t:Number(e)}return t}(t,n,e);{const i=Mr.exec(n);if(i){const o=i[1]||"",a=i[2];let s=(r=i[3])&&-1!==r.indexOf(".")?("."===(r=r.replace(/0+$/,""))?r="0":"."===r[0]?r="0"+r:"."===r[r.length-1]&&(r=r.substring(0,r.length-1)),r):r;const l=o?"."===t[a.length+1]:"."===t[a.length];if(!e.leadingZeros&&(a.length>1||1===a.length&&!l))return t;{const r=Number(n),i=String(r);if(0===r)return r;if(-1!==i.search(/[eE]/))return e.eNotation?r:t;if(-1!==n.indexOf("."))return"0"===i||i===s||i===`${o}${s}`?r:t;let l=a?s:n;return a?l===i||o+l===i?r:t:l===i||l===o+i?r:t}}return t}var r}(t,n)}return void 0!==t?t:""}function ai(t,e,n){const r=Number.parseInt(t,e);return r>=0&&r<=1114111?String.fromCodePoint(r):n+t+";"}const si=Rr.getMetaDataSymbol();function li(t,e){return ci(t,e)}function ci(t,e,n){let r;const i={};for(let o=0;o<t.length;o++){const a=t[o],s=di(a);let l="";if(l=void 0===n?s:n+"."+s,s===e.textNodeName)void 0===r?r=a[s]:r+=""+a[s];else{if(void 0===s)continue;if(a[s]){let t=ci(a[s],e,l);const n=pi(t,e);void 0!==a[si]&&(t[si]=a[si]),a[":@"]?ui(t,a[":@"],l,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==i[s]&&i.hasOwnProperty(s)?(Array.isArray(i[s])||(i[s]=[i[s]]),i[s].push(t)):e.isArray(s,l,n)?i[s]=[t]:i[s]=t}}}return"string"==typeof r?r.length>0&&(i[e.textNodeName]=r):void 0!==r&&(i[e.textNodeName]=r),i}function di(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function ui(t,e,n,r){if(e){const i=Object.keys(e),o=i.length;for(let a=0;a<o;a++){const o=i[a];r.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}}function pi(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return 0===r||!(1!==r||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n])}const hi={allowBooleanAttributes:!1,unpairedTags:[]};function fi(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function gi(t,e){const n=e;for(;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{const r=t.substr(n,e-n);if(e>5&&"xml"===r)return xi("InvalidXml","XML declaration allowed only at the start of the document.",ki(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function vi(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function mi(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e])""===r?r=t[e]:r!==t[e]||(r="");else if(">"===t[e]&&""===r){i=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:i}}const bi=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function yi(t,e){const n=Or(t,bi),r={};for(let t=0;t<n.length;t++){if(0===n[t][1].length)return xi("InvalidAttr","Attribute '"+n[t][2]+"' has no space in starting.",Ci(n[t]));if(void 0!==n[t][3]&&void 0===n[t][4])return xi("InvalidAttr","Attribute '"+n[t][2]+"' is without value.",Ci(n[t]));if(void 0===n[t][3]&&!e.allowBooleanAttributes)return xi("InvalidAttr","boolean attribute '"+n[t][2]+"' is not allowed.",Ci(n[t]));const i=n[t][2];if(!_i(i))return xi("InvalidAttr","Attribute '"+i+"' is an invalid name.",Ci(n[t]));if(r.hasOwnProperty(i))return xi("InvalidAttr","Attribute '"+i+"' is repeated.",Ci(n[t]));r[i]=1}return!0}function wi(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function xi(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function _i(t){return Lr(t)}function ki(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Ci(t){return t.startIndex+t[1].length}class Ei{constructor(t){this.externalEntities={},this.options=function(t){return Object.assign({},$r,t)}(t)}parse(t,e){if("string"!=typeof t&&t.toString)t=t.toString();else if("string"!=typeof t)throw new Error("XML data is accepted in String or Bytes[] form.");if(e){!0===e&&(e={});const n=function(t,e){e=Object.assign({},hi,e);const n=[];let r=!1,i=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let o=0;o<t.length;o++)if("<"===t[o]&&"?"===t[o+1]){if(o+=2,o=gi(t,o),o.err)return o}else{if("<"!==t[o]){if(fi(t[o]))continue;return xi("InvalidChar","char '"+t[o]+"' is not expected.",ki(t,o))}{let a=o;if(o++,"!"===t[o]){o=vi(t,o);continue}{let s=!1;"/"===t[o]&&(s=!0,o++);let l="";for(;o<t.length&&">"!==t[o]&&" "!==t[o]&&"\t"!==t[o]&&"\n"!==t[o]&&"\r"!==t[o];o++)l+=t[o];if(l=l.trim(),"/"===l[l.length-1]&&(l=l.substring(0,l.length-1),o--),!Lr(l)){let e;return e=0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",xi("InvalidTag",e,ki(t,o))}const c=mi(t,o);if(!1===c)return xi("InvalidAttr","Attributes for '"+l+"' have open quote.",ki(t,o));let d=c.value;if(o=c.index,"/"===d[d.length-1]){const n=o-d.length;d=d.substring(0,d.length-1);const i=yi(d,e);if(!0!==i)return xi(i.err.code,i.err.msg,ki(t,n+i.err.line));r=!0}else if(s){if(!c.tagClosed)return xi("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",ki(t,o));if(d.trim().length>0)return xi("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",ki(t,a));if(0===n.length)return xi("InvalidTag","Closing tag '"+l+"' has not been opened.",ki(t,a));{const e=n.pop();if(l!==e.tagName){let n=ki(t,e.tagStartPos);return xi("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+l+"'.",ki(t,a))}0==n.length&&(i=!0)}}else{const s=yi(d,e);if(!0!==s)return xi(s.err.code,s.err.msg,ki(t,o-d.length+s.err.line));if(!0===i)return xi("InvalidXml","Multiple possible root nodes found.",ki(t,o));-1!==e.unpairedTags.indexOf(l)||n.push({tagName:l,tagStartPos:a}),r=!0}for(o++;o<t.length;o++)if("<"===t[o]){if("!"===t[o+1]){o++,o=vi(t,o);continue}if("?"!==t[o+1])break;if(o=gi(t,++o),o.err)return o}else if("&"===t[o]){const e=wi(t,o);if(-1==e)return xi("InvalidChar","char '&' is not expected.",ki(t,o));o=e}else if(!0===i&&!fi(t[o]))return xi("InvalidXml","Extra text at the end",ki(t,o));"<"===t[o]&&o--}}}return r?1==n.length?xi("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",ki(t,n[0].tagStartPos)):!(n.length>0)||xi("InvalidXml","Invalid '"+JSON.stringify(n.map(t=>t.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):xi("InvalidXml","Start tag expected.",1)}(t,e);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new Xr(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(t);return this.options.preserveOrder||void 0===r?r:li(r,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}static getMetaDataSymbol(){return Rr.getMetaDataSymbol()}}var Si=Ve(829),Ai=Ve.n(Si),Ni=function(t){return t.Array="array",t.Object="object",t.Original="original",t}(Ni||{});function $i(t,e){if(!t.endsWith("propstat.prop.displayname"))return e}function Pi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ni.Original;const r=Ai().get(t,e);return"array"===n&&!1===Array.isArray(r)?[r]:"object"===n&&Array.isArray(r)?r[0]:r}function Ti(t,e){return e=e??{attributeNamePrefix:"@",attributeParsers:[],tagParsers:[$i]},new Promise(n=>{n(function(t){const{multistatus:e}=t;if(""===e)return{multistatus:{response:[]}};if(!e)throw new Error("Invalid response: No root multistatus found");const n={multistatus:Array.isArray(e)?e[0]:e};return Ai().set(n,"multistatus.response",Pi(n,"multistatus.response",Ni.Array)),Ai().set(n,"multistatus.response",Ai().get(n,"multistatus.response").map(t=>function(t){const e=Object.assign({},t);return e.status?Ai().set(e,"status",Pi(e,"status",Ni.Object)):(Ai().set(e,"propstat",Pi(e,"propstat",Ni.Object)),Ai().set(e,"propstat.prop",Pi(e,"propstat.prop",Ni.Object))),e}(t))),n}(function(t){let{attributeNamePrefix:e,attributeParsers:n,tagParsers:r}=t;return new Ei({allowBooleanAttributes:!0,attributeNamePrefix:e,textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor(t,e,r){for(const i of n)try{const t=i(r,e);if(t!==e)return t}catch(t){}return e},tagValueProcessor(t,e,n){for(const i of r)try{const t=i(n,e);if(t!==e)return t}catch(t){}return e}})}(e).parse(t)))})}function Oi(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:o=null,getcontenttype:a=null,getetag:s=null}=t,l=o&&"object"==typeof o&&void 0!==o.collection?"directory":"file",c={filename:e,basename:Ue().basename(e),lastmod:r,size:parseInt(i,10),type:l,etag:"string"==typeof s?s.replace(/"/g,""):null};return"file"===l&&(c.mime=a&&"string"==typeof a?a.split(";")[0]:""),n&&(void 0!==t.displayname&&(t.displayname=String(t.displayname)),c.props=t),c}function Li(t){switch(String(t)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(t),10)}}function Ii(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const Ri=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{details:r=!1}=n,i=On({url:Ze(t.remoteURL,He(e)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},t,n);return Ii(Tn(i,t),function(n){return Er(t,n),Ii(n.text(),function(i){return Ii(Ti(i,t.parsing),function(t){const i=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null;try{t.multistatus.response[0].propstat&&(r=t.multistatus.response[0])}catch(t){}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:o}}=r,[a,s,l]=o.split(" ",3),c=parseInt(s,10);if(c>=400){const t=new Error(`Invalid response: ${c} ${l}`);throw t.status=c,t}return Oi(i,Ke(e),n)}(t,e,r);return Sr(n,i,r)})})})});function ji(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const Vi=Bi(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(t){if(!t||"/"===t)return[];let e=t;const n=[];do{n.push(e),e=Ue().dirname(e)}while(e&&"/"!==e);return n}(Ke(e));r.sort((t,e)=>t.length>e.length?1:e.length>t.length?-1:0);let i=!1;return function(t,e){if("function"==typeof t[Mi]){var n,r,i,o=t[Mi]();function c(t){try{for(;!(n=o.next()).done;)if((t=e(n.value))&&t.then){if(!Ui(t))return void t.then(c,i||(i=zi.bind(null,r=new Wi,2)));t=t.v}r?zi(r,1,t):r=t}catch(t){zi(r||(r=new Wi),2,t)}}if(c(),o.return){var a=function(t){try{n.done||o.return()}catch(t){}return t};if(r&&r.then)return r.then(a,function(t){throw a(t)});a()}return r}if(!("length"in t))throw new TypeError("Object is not iterable");for(var s=[],l=0;l<t.length;l++)s.push(t[l]);return function(t,e,n){var r,i,o=-1;return function a(s){try{for(;++o<t.length&&(!n||!n());)if((s=e(o))&&s.then){if(!Ui(s))return void s.then(a,i||(i=zi.bind(null,r=new Wi,2)));s=s.v}r?zi(r,1,s):r=s}catch(t){zi(r||(r=new Wi),2,t)}}(),r}(s,function(t){return e(s[t])},function(){return!1})}(r,function(r){return o=function(){return function(n,i){try{var o=ji(Ri(t,r),function(t){if("directory"!==t.type)throw new Error(`Path includes a file: ${e}`)})}catch(t){return i(t)}return o&&o.then?o.then(void 0,i):o}(0,function(e){const o=e;return function(){if(404===o.status)return i=!0,Di(Xi(t,r,{...n,recursive:!1}));throw e}()})},(a=function(){if(i)return Di(Xi(t,r,{...n,recursive:!1}))}())&&a.then?a.then(o):o();var o,a})});function Bi(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function Fi(){}function Di(t,e){if(!e)return t&&t.then?t.then(Fi):Promise.resolve()}const Mi="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function zi(t,e,n){if(!t.s){if(n instanceof Wi){if(!n.s)return void(n.o=zi.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(zi.bind(null,t,e),zi.bind(null,t,2));t.s=e,t.v=n;const r=t.o;r&&r(t)}}const Wi=function(){function t(){}return t.prototype.then=function(e,n){const r=new t,i=this.s;if(i){const t=1&i?e:n;if(t){try{zi(r,1,t(this.v))}catch(t){zi(r,2,t)}return r}return this}return this.o=function(t){try{const i=t.v;1&t.s?zi(r,1,e?e(i):i):n?zi(r,1,n(i)):zi(r,2,i)}catch(t){zi(r,2,t)}},r},t}();function Ui(t){return t instanceof Wi&&1&t.s}const Xi=Bi(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!0===n.recursive)return Vi(t,e,n);const r=On({url:Ze(t.remoteURL,(i=He(e),i.endsWith("/")?i:i+"/")),method:"MKCOL"},t,n);var i;return ji(Tn(r,t),function(e){Er(t,e)})});var qi=Ve(388),Hi=Ve.n(qi);const Gi=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={};if("object"==typeof n.range&&"number"==typeof n.range.start){let t=`bytes=${n.range.start}-`;"number"==typeof n.range.end&&(t=`${t}${n.range.end}`),r.Range=t}const i=On({url:Ze(t.remoteURL,He(e)),method:"GET",headers:r},t,n);return a=function(e){if(Er(t,e),r.Range&&206!==e.status){const t=new Error(`Invalid response code for partial request: ${e.status}`);throw t.status=e.status,t}return n.callback&&setTimeout(()=>{n.callback(e)},0),e.body},(o=Tn(i,t))&&o.then||(o=Promise.resolve(o)),a?o.then(a):o;var o,a}),Ki=()=>{},Qi=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e,n){n.url||(n.url=Ze(t.remoteURL,He(e)));const r=On(n,t,{});return o=function(e){return Er(t,e),e},(i=Tn(r,t))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o}),Zi=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=On({url:Ze(t.remoteURL,He(e)),method:"DELETE"},t,n);return o=function(e){Er(t,e)},(i=Tn(r,t))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o}),Ji=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,i){try{var o=(a=Ri(t,e,n),s=function(){return!0},a&&a.then||(a=Promise.resolve(a)),s?a.then(s):a)}catch(t){return i(t)}var a,s;return o&&o.then?o.then(void 0,i):o}(0,function(t){if(404===t.status)return!1;throw t})});function Yi(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const to=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=On({url:Ze(t.remoteURL,He(e),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},t,n);return Yi(Tn(r,t),function(r){return Er(t,r),Yi(r.text(),function(i){if(!i)throw new Error("Failed parsing directory contents: Empty response");return Yi(Ti(i,t.parsing),function(i){const o=Ge(e);let a=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=Ue().join(e,"/"),{multistatus:{response:a}}=t,s=a.map(t=>{const e=function(t){try{return t.replace(/^https?:\/\/[^\/]+/,"")}catch(t){throw new ze(t,"Failed normalising HREF")}}(t.href),{propstat:{prop:n}}=t;return Oi(n,"/"===o?decodeURIComponent(Ke(e)):Ke(Ue().relative(decodeURIComponent(o),decodeURIComponent(e))),r)});return i?s:s.filter(t=>t.basename&&("file"===t.type||t.filename!==n.replace(/\/$/,"")))}(i,Ge(t.remoteBasePath||t.remotePath),o,n.details,n.includeSelf);return n.glob&&(a=function(t,e){return t.filter(t=>Zn(t.filename,e,{matchBase:!0}))}(a,n.glob)),Sr(r,a,n.details)})})})});function eo(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}const no=eo(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=On({url:Ze(t.remoteURL,He(e)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[ao]},t,n);return ro(Tn(r,t),function(e){return Er(t,e),ro(e.text(),function(t){return Sr(e,t,n.details)})})});function ro(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const io=eo(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=On({url:Ze(t.remoteURL,He(e)),method:"GET"},t,n);return ro(Tn(r,t),function(e){let r;return Er(t,e),function(t,e){var n=t();return n&&n.then?n.then(e):e()}(function(){return ro(e.arrayBuffer(),function(t){r=t})},function(){return Sr(e,r,n.details)})})}),oo=eo(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{format:r="binary"}=n;if("binary"!==r&&"text"!==r)throw new ze({info:{code:dn.InvalidOutputFormat}},`Invalid output format: ${r}`);return"text"===r?no(t,e,n):io(t,e,n)}),ao=t=>t;function so(t,e){let n="";return e.format&&e.indentBy.length>0&&(n="\n"),lo(t,e,"",n)}function lo(t,e,n,r){let i="",o=!1;for(let a=0;a<t.length;a++){const s=t[a],l=co(s);if(void 0===l)continue;let c="";if(c=0===n.length?l:`${n}.${l}`,l===e.textNodeName){let t=s[l];po(c,e)||(t=e.tagValueProcessor(l,t),t=ho(t,e)),o&&(i+=r),i+=t,o=!1;continue}if(l===e.cdataPropName){o&&(i+=r),i+=`<![CDATA[${s[l][0][e.textNodeName]}]]>`,o=!1;continue}if(l===e.commentPropName){i+=r+`\x3c!--${s[l][0][e.textNodeName]}--\x3e`,o=!0;continue}if("?"===l[0]){const t=uo(s[":@"],e),n="?xml"===l?"":r;let a=s[l][0][e.textNodeName];a=0!==a.length?" "+a:"",i+=n+`<${l}${a}${t}?>`,o=!0;continue}let d=r;""!==d&&(d+=e.indentBy);const u=r+`<${l}${uo(s[":@"],e)}`,p=lo(s[l],e,c,d);-1!==e.unpairedTags.indexOf(l)?e.suppressUnpairedNode?i+=u+">":i+=u+"/>":p&&0!==p.length||!e.suppressEmptyNode?p&&p.endsWith(">")?i+=u+`>${p}${r}</${l}>`:(i+=u+">",p&&""!==r&&(p.includes("/>")||p.includes("</"))?i+=r+e.indentBy+p+r:i+=p,i+=`</${l}>`):i+=u+"/>",o=!0}return i}function co(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&":@"!==r)return r}}function uo(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=ho(i,e),!0===i&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function po(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function ho(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}const fo={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function go(t){this.options=Object.assign({},fo,t),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=Ur(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=bo),this.processTextOrObjNode=vo,this.options.format?(this.indentate=mo,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function vo(t,e,n,r){const i=this.j2x(t,n+1,r.concat(e));return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}function mo(t){return this.options.indentBy.repeat(t)}function bo(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}function yo(t){return new go({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(wo({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:t}}},"d"))}function wo(t,e){const n={...t};for(const t in n)n.hasOwnProperty(t)&&(n[t]&&"object"==typeof n[t]&&-1===t.indexOf(":")?(n[`${e}:${t}`]=wo(n[t],e),delete n[t]):!1===/^@_/.test(t)&&(n[`${e}:${t}`]=n[t],delete n[t]));return n}function xo(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function _o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}go.prototype.build=function(t){return this.options.preserveOrder?so(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},go.prototype.j2x=function(t,e,n){let r="",i="";const o=n.join(".");for(let a in t)if(Object.prototype.hasOwnProperty.call(t,a))if(void 0===t[a])this.isAttribute(a)&&(i+="");else if(null===t[a])this.isAttribute(a)||a===this.options.cdataPropName?i+="":"?"===a[0]?i+=this.indentate(e)+"<"+a+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+a+"/"+this.tagEndChar;else if(t[a]instanceof Date)i+=this.buildTextValNode(t[a],a,"",e);else if("object"!=typeof t[a]){const n=this.isAttribute(a);if(n&&!this.ignoreAttributesFn(n,o))r+=this.buildAttrPairStr(n,""+t[a]);else if(!n)if(a===this.options.textNodeName){let e=this.options.tagValueProcessor(a,""+t[a]);i+=this.replaceEntitiesValue(e)}else i+=this.buildTextValNode(t[a],a,"",e)}else if(Array.isArray(t[a])){const r=t[a].length;let o="",s="";for(let l=0;l<r;l++){const r=t[a][l];if(void 0===r);else if(null===r)"?"===a[0]?i+=this.indentate(e)+"<"+a+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+a+"/"+this.tagEndChar;else if("object"==typeof r)if(this.options.oneListGroup){const t=this.j2x(r,e+1,n.concat(a));o+=t.val,this.options.attributesGroupName&&r.hasOwnProperty(this.options.attributesGroupName)&&(s+=t.attrStr)}else o+=this.processTextOrObjNode(r,a,e,n);else if(this.options.oneListGroup){let t=this.options.tagValueProcessor(a,r);t=this.replaceEntitiesValue(t),o+=t}else o+=this.buildTextValNode(r,a,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,a,s,e)),i+=o}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){const e=Object.keys(t[a]),n=e.length;for(let i=0;i<n;i++)r+=this.buildAttrPairStr(e[i],""+t[a][e[i]])}else i+=this.processTextOrObjNode(t[a],a,e,n);return{attrStr:r,val:i}},go.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},go.prototype.buildObjectNode=function(t,e,n,r){if(""===t)return"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return"?"===e[0]&&(o="?",i=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i:this.indentate(r)+"<"+e+n+o+">"+t+i}},go.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},go.prototype.buildTextValNode=function(t,e,n,r){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),""===i?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},go.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};const ko=_o(function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=On({url:Ze(t.remoteURL,He(e)),method:"UNLOCK",headers:{"Lock-Token":n}},t,r);return xo(Tn(i,t),function(e){if(Er(t,e),204!==e.status&&200!==e.status)throw Cr(e)})}),Co=_o(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{refreshToken:r,timeout:i=Eo}=n,o={Accept:"text/plain,application/xml",Timeout:i};r&&(o.If=r);const a=On({url:Ze(t.remoteURL,He(e)),method:"LOCK",headers:o,data:yo(t.contactHref)},t,n);return xo(Tn(a,t),function(e){return Er(t,e),xo(e.text(),function(t){const n=(o=t,new Ei({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(o)),r=Ai().get(n,"prop.lockdiscovery.activelock.locktoken.href"),i=Ai().get(n,"prop.lockdiscovery.activelock.timeout");var o;if(!r)throw Cr(e,"No lock token received: ");return{token:r,serverTimeout:i}})})}),Eo="Infinite, Second-4100000000";function So(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const Ao=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.path||"/",r=On({url:Ze(t.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},t,e);return So(Tn(r,t),function(n){return Er(t,n),So(n.text(),function(r){return So(Ti(r,t.parsing),function(t){const r=function(t){try{const[e]=t.multistatus.response,{propstat:{prop:{"quota-used-bytes":n,"quota-available-bytes":r}}}=e;return void 0!==n&&void 0!==r?{used:parseInt(String(n),10),available:Li(r)}:null}catch(t){}return null}(t);return Sr(n,r,e.details)})})})});function No(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const $o=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{details:r=!1}=n,i=On({url:Ze(t.remoteURL,He(e)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":t.headers["Content-Type"]||"application/xml; charset=utf-8"}},t,n);return No(Tn(i,t),function(n){return Er(t,n),No(n.text(),function(i){return No(Ti(i,t.parsing),function(t){const i=function(t,e,n){const r={truncated:!1,results:[]};return r.truncated=t.multistatus.response.some(t=>"507"===(t.status||t.propstat?.status).split(" ",3)?.[1]&&t.href.replace(/\/$/,"").endsWith(He(e).replace(/\/$/,""))),t.multistatus.response.forEach(t=>{if(void 0===t.propstat)return;const e=t.href.split("/").map(decodeURIComponent).join("/");r.results.push(Oi(t.propstat.prop,e,n))}),r}(t,e,r);return Sr(n,i,r)})})})}),Po=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=On({url:Ze(t.remoteURL,He(e)),method:"MOVE",headers:{Destination:Ze(t.remoteURL,He(n)),Overwrite:!1===r.overwrite?"F":"T"}},t,r);return a=function(e){Er(t,e)},(o=Tn(i,t))&&o.then||(o=Promise.resolve(o)),a?o.then(a):o;var o,a});var To=Ve(172);function Oo(t){if(En(t))return t.byteLength;if(Sn(t))return t.length;if("string"==typeof t)return(0,To.d)(t);throw new ze({info:{code:dn.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}const Lo=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{contentLength:i=!0,overwrite:o=!0}=r,a={"Content-Type":"application/octet-stream"};!1===i||(a["Content-Length"]="number"==typeof i?`${i}`:`${Oo(n)}`),o||(a["If-None-Match"]="*");const s=On({url:Ze(t.remoteURL,He(e)),method:"PUT",headers:a,data:n},t,r);return c=function(e){try{Er(t,e)}catch(t){const e=t;if(412!==e.status||o)throw e;return!1}return!0},(l=Tn(s,t))&&l.then||(l=Promise.resolve(l)),c?l.then(c):l;var l,c}),Io=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=On({url:Ze(t.remoteURL,He(e)),method:"OPTIONS"},t,n);return o=function(e){try{Er(t,e)}catch(t){throw t}return{compliance:(e.headers.get("DAV")??"").split(",").map(t=>t.trim()),server:e.headers.get("Server")??""}},(i=Tn(r,t))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o});function Ro(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}const jo=Fo(function(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(n>r||n<0)throw new ze({info:{code:dn.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const a={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":`bytes ${n}-${r}/*`},s=On({url:Ze(t.remoteURL,He(e)),method:"PUT",headers:a,data:i},t,o);return Ro(Tn(s,t),function(e){Er(t,e)})});function Vo(t,e){var n=t();return n&&n.then?n.then(e):e(n)}const Bo=Fo(function(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(n>r||n<0)throw new ze({info:{code:dn.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const a={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":`bytes=${n}-${r}`},s=On({url:Ze(t.remoteURL,He(e)),method:"PATCH",headers:a,data:i},t,o);return Ro(Tn(s,t),function(e){Er(t,e)})});function Fo(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}const Do=Fo(function(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Ro(Io(t,e,o),function(a){let s=!1;return Vo(function(){if(a.compliance.includes("sabredav-partialupdate"))return Ro(Bo(t,e,n,r,i,o),function(t){return s=!0,t})},function(l){let c=!1;return s?l:Vo(function(){if(a.server.includes("Apache")&&a.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Ro(jo(t,e,n,r,i,o),function(t){return c=!0,t})},function(t){if(c)return t;throw new ze({info:{code:dn.NotSupported}},"Not supported")})})})}),Mo="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";var zo=n(970);const Wo=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],Uo={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"};function Xo(){return zo.s.davProperties??=[...Wo],zo.s.davProperties.map(t=>`<${t} />`).join(" ")}function qo(){return zo.s.davNamespaces??={...Uo},Object.keys(zo.s.davNamespaces).map(t=>`xmlns:${t}="${zo.s.davNamespaces?.[t]}"`).join(" ")}function Ho(){return`<?xml version="1.0"?>\n\t\t<d:propfind ${qo()}>\n\t\t\t<d:prop>\n\t\t\t\t${Xo()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`}const Go=Le()?`/files/${Oe("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}`:`/files/${(0,$e.HW)()?.uid}`,Ko=function(){const t=(0,X.dC)("dav");return Le()?t.replace("remote.php","public.php"):t}();function Qo(t=Ko,e={}){const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=Mo,ha1:o,headers:a={},httpAgent:s,httpsAgent:l,password:c,token:d,username:u,withCredentials:p}=e;let h=n;h||(h=u||c?cn.Password:cn.None);const f={authType:h,remoteBasePath:r,contactHref:i,ha1:o,headers:Object.assign({},a),httpAgent:s,httpsAgent:l,password:c,parsing:{attributeNamePrefix:e.attributeNamePrefix??"@",attributeParsers:[],tagParsers:[$i]},remotePath:Qe(t),remoteURL:t,token:d,username:u,withCredentials:p};return un(f,u,c,d,o),{copyFile:(t,e,n)=>Ar(f,t,e,n),createDirectory:(t,e)=>Xi(f,t,e),createReadStream:(t,e)=>function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new(0,Hi().PassThrough);return Gi(t,e,n).then(t=>{t.pipe(r)}).catch(t=>{r.emit("error",t)}),r}(f,t,e),createWriteStream:(t,e,n)=>function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ki;const i=new(0,Hi().PassThrough),o={};!1===n.overwrite&&(o["If-None-Match"]="*");const a=On({url:Ze(t.remoteURL,He(e)),method:"PUT",headers:o,data:i,maxRedirects:0},t,n);return Tn(a,t).then(e=>Er(t,e)).then(t=>{setTimeout(()=>{r(t)},0)}).catch(t=>{i.emit("error",t)}),i}(f,t,e,n),customRequest:(t,e)=>Qi(f,t,e),deleteFile:(t,e)=>Zi(f,t,e),exists:(t,e)=>Ji(f,t,e),getDirectoryContents:(t,e)=>to(f,t,e),getFileContents:(t,e)=>oo(f,t,e),getFileDownloadLink:t=>function(t,e){let n=Ze(t.remoteURL,He(e));const r=/^https:/i.test(n)?"https":"http";switch(t.authType){case cn.None:break;case cn.Password:{const e=on(t.headers.Authorization.replace(/^Basic /i,"").trim());n=n.replace(/^https?:\/\//,`${r}://${e}@`);break}default:throw new ze({info:{code:dn.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${t.authType}`)}return n}(f,t),getFileUploadLink:t=>function(t,e){let n=`${Ze(t.remoteURL,He(e))}?Content-Type=application/octet-stream`;const r=/^https:/i.test(n)?"https":"http";switch(t.authType){case cn.None:break;case cn.Password:{const e=on(t.headers.Authorization.replace(/^Basic /i,"").trim());n=n.replace(/^https?:\/\//,`${r}://${e}@`);break}default:throw new ze({info:{code:dn.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${t.authType}`)}return n}(f,t),getHeaders:()=>Object.assign({},f.headers),getQuota:t=>Ao(f,t),lock:(t,e)=>Co(f,t,e),moveFile:(t,e,n)=>Po(f,t,e,n),putFileContents:(t,e,n)=>Lo(f,t,e,n),partialUpdateFileContents:(t,e,n,r,i)=>Do(f,t,e,n,r,i),getDAVCompliance:t=>Io(f,t),search:(t,e)=>$o(f,t,e),setHeaders:t=>{f.headers=Object.assign({},t)},stat:(t,e)=>Ri(f,t,e),unlock:(t,e,n)=>ko(f,t,e,n),registerAttributeParser:t=>{f.parsing.attributeParsers.push(t)},registerTagParser:t=>{f.parsing.tagParsers.push(t)}}}(t,{headers:e});function r(t){n.setHeaders({...e,"X-Requested-With":"XMLHttpRequest",requesttoken:t??""})}return(0,$e.zo)(r),r((0,$e.do)()),mn().patch("fetch",(t,e)=>{const n=e.headers;return n?.method&&(e.method=n.method,delete n.method),fetch(t,e)}),n}function Zo(t,e=Go,n=Ko){let r=(0,$e.HW)()?.uid;if(Le())r=r??"anonymous";else if(!r)throw new Error("No user id found");const i=t.props,o=function(t=""){let e=zo.P.NONE;return t?(t.includes("G")&&(e|=zo.P.READ),t.includes("W")&&(e|=zo.P.WRITE),t.includes("CK")&&(e|=zo.P.CREATE),t.includes("NV")&&(e|=zo.P.UPDATE),t.includes("D")&&(e|=zo.P.DELETE),t.includes("R")&&(e|=zo.P.SHARE),e):e}(i?.permissions),a=String(i?.["owner-id"]||r),s=i.fileid||0,l=new Date(Date.parse(t.lastmod)),c=new Date(Date.parse(i.creationdate)),d={id:s,source:`${n}${t.filename}`,mtime:isNaN(l.getTime())||0===l.getTime()?void 0:l,crtime:isNaN(c.getTime())||0===c.getTime()?void 0:c,mime:t.mime||"application/octet-stream",displayname:void 0!==i.displayname?String(i.displayname):void 0,size:i?.size||Number.parseInt(i.getcontentlength||"0"),status:s<0?zo.c.FAILED:void 0,permissions:o,owner:a,root:e,attributes:{...t,...i,hasPreview:i?.["has-preview"]}};return delete d.attributes?.props,"file"===t.type?new zo.a(d):new zo.b(d)}const Jo={name:"FileIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Yo=["aria-hidden","aria-label"],ta=["fill","width","height"],ea={d:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"},na={key:0},ra=(0,L._)(Jo,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon file-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",ea,[n.title?((0,r.uX)(),(0,r.CE)("title",na,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,ta))],16,Yo)}]]),ia={name:"MenuDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},oa=["aria-hidden","aria-label"],aa=["fill","width","height"],sa={d:"M7,10L12,15L17,10H7Z"},la={key:0},ca=(0,L._)(ia,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon menu-down-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",sa,[n.title?((0,r.uX)(),(0,r.CE)("title",la,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,aa))],16,oa)}]]),da={name:"MenuUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ua=["aria-hidden","aria-label"],pa=["fill","width","height"],ha={d:"M7,15L12,10L17,15H7Z"},fa={key:0},ga=(0,L._)(da,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon menu-up-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",ha,[n.title?((0,r.uX)(),(0,r.CE)("title",fa,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,pa))],16,ua)}]]),va={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ma=["aria-hidden","aria-label"],ba=["fill","width","height"],ya={d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},wa={key:0},xa=(0,L._)(va,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon folder-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",ya,[n.title?((0,r.uX)(),(0,r.CE)("title",wa,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,ba))],16,ma)}]]),_a={"file-picker__file-icon":"_file-picker__file-icon_3v9zx_9","file-picker__file-icon--primary":"_file-picker__file-icon--primary_3v9zx_21","file-picker__file-icon-overlay":"_file-picker__file-icon-overlay_3v9zx_25"},ka=(0,r.pM)({__name:"FilePreview",props:{node:{},cropImagePreviews:{type:Boolean}},setup(t){const e=t,n=(0,o.KR)(_a),{previewURL:a,previewLoaded:s}=(0,M.u)((0,o.lW)(e,"node"),(0,r.EW)(()=>({cropPreview:e.cropImagePreviews}))),l=(0,r.EW)(()=>e.node.type===I.pt.File),c=(0,r.EW)(()=>{if(e.node.type!==I.pt.Folder)return null;if(1===e.node.attributes?.["is-encrypted"])return F.EYN;if(e.node.attributes?.["is-tag"])return F.bTm;const t=Object.values(e.node.attributes?.["share-types"]||{}).flat();if(t.some(t=>t===O.Link||t===O.Email))return F.Brj;if(t.length>0)return F.IyB;switch(e.node.attributes?.["mount-type"]){case"external":case"external-session":return F.VR;case"group":return F.dgQ;case"shared":return F.IyB}return null});return(t,e)=>((0,r.uX)(),(0,r.CE)("div",{style:(0,i.Tr)((0,o.R1)(s)?{backgroundImage:`url(${(0,o.R1)(a)})`}:void 0),class:(0,i.C4)(n.value["file-picker__file-icon"])},[(0,o.R1)(s)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[l.value?((0,r.uX)(),(0,r.Wv)(ra,{key:0,size:32})):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[c.value?((0,r.uX)(),(0,r.Wv)((0,o.R1)(D.A),{key:0,class:(0,i.C4)(n.value["file-picker__file-icon-overlay"]),inline:"",path:c.value,size:16},null,8,["class","path"])):(0,r.Q3)("",!0),(0,r.bF)(xa,{class:(0,i.C4)(n.value["file-picker__file-icon--primary"]),size:32},null,8,["class"])],64))],64))],6))}}),Ca=["tabindex","aria-selected","data-filename"],Ea={class:"row-name"},Sa={class:"file-picker__name-container","data-testid":"row-name"},Aa=["title","textContent"],Na=["textContent"],$a={class:"row-size"},Pa={class:"row-modified"},Ta=(0,r.pM)({__name:"FileListRow",props:{allowPickDirectory:{type:Boolean},selected:{type:Boolean},showCheckbox:{type:Boolean},canPick:{type:Boolean},node:{},cropImagePreviews:{type:Boolean}},emits:["update:selected","enterDirectory"],setup(t,{emit:e}){const n=t,s=e,l=(0,r.EW)(()=>n.node.mtime??0),c=(0,r.EW)(()=>(0,V.LC)(n.node.displayname)),d=(0,r.EW)(()=>n.node.displayname.slice(0,c.value?-c.value.length:void 0)),u=(0,r.EW)(()=>n.node.type===I.pt.Folder),p=(0,r.EW)(()=>n.canPick&&(n.allowPickDirectory||!u.value)),h=(0,r.EW)(()=>(n.node.permissions&I.aX.READ)===I.aX.READ);function f(){p.value&&s("update:selected",!n.selected)}function g(){u.value?h.value&&s("enterDirectory",n.node):f()}function v(t){"Enter"===t.key&&g()}return(e,n)=>((0,r.uX)(),(0,r.CE)("tr",(0,r.v6)({tabindex:t.showCheckbox&&!u.value?void 0:0,"aria-selected":p.value?t.selected:void 0,class:["file-picker__row",[{"file-picker__row--selected":t.selected&&!t.showCheckbox,"file-picker__row--not-navigatable":u.value&&!h.value,"file-picker__row--not-pickable":!p.value}]],"data-filename":t.node.basename,"data-testid":"file-list-row"},(0,r.Tb)({click:g,...!t.showCheckbox||u.value?{keydown:v}:{}},!0)),[t.showCheckbox?((0,r.uX)(),(0,r.CE)("td",{key:0,class:"row-checkbox",onClick:(0,a.D$)(()=>{},["stop"])},[(0,r.bF)((0,o.R1)(j.A),{"aria-label":(0,o.R1)(z.t)("Select the row for {nodename}",{nodename:d.value}),disabled:!p.value,"data-testid":"row-checkbox",modelValue:t.selected,"onUpdate:modelValue":f},null,8,["aria-label","disabled","modelValue"])])):(0,r.Q3)("",!0),(0,r.Lk)("td",Ea,[(0,r.Lk)("div",Sa,[(0,r.bF)(ka,{node:t.node,cropImagePreviews:t.cropImagePreviews},null,8,["node","cropImagePreviews"]),(0,r.Lk)("div",{class:"file-picker__file-name",title:d.value,textContent:(0,i.v_)(d.value)},null,8,Aa),(0,r.Lk)("div",{class:"file-picker__file-extension",textContent:(0,i.v_)(c.value)},null,8,Na)])]),(0,r.Lk)("td",$a,(0,i.v_)((0,o.R1)(I.v7)(t.node.size||0)),1),(0,r.Lk)("td",Pa,[(0,r.bF)((0,o.R1)(B.A),{timestamp:l.value,ignoreSeconds:""},null,8,["timestamp"])])],16,Ca))}}),Oa=(0,L._)(Ta,[["__scopeId","data-v-7857e8bd"]]),La={"aria-hidden":"true",class:"file-picker__row loading-row"},Ia={key:0,class:"row-checkbox"},Ra={class:"row-name"},ja={class:"row-wrapper"},Va=(0,r.pM)({__name:"LoadingTableRow",props:{showCheckbox:{type:Boolean}},setup:t=>(e,n)=>((0,r.uX)(),(0,r.CE)("tr",La,[t.showCheckbox?((0,r.uX)(),(0,r.CE)("td",Ia,[...n[0]||(n[0]=[(0,r.Lk)("span",null,null,-1)])])):(0,r.Q3)("",!0),(0,r.Lk)("td",Ra,[(0,r.Lk)("div",ja,[(0,r.Lk)("span",{class:(0,i.C4)((0,o.R1)(_a)["file-picker__file-icon"])},null,2),n[1]||(n[1]=(0,r.Lk)("span",null,null,-1))])]),n[2]||(n[2]=(0,r.Lk)("td",{class:"row-size"},[(0,r.Lk)("span")],-1)),n[3]||(n[3]=(0,r.Lk)("td",{class:"row-modified"},[(0,r.Lk)("span")],-1))]))}),Ba=(0,L._)(Va,[["__scopeId","data-v-1f96131b"]]);function Fa(){const t=U("files","config",null),e=(0,o.KR)(t?.show_hidden??!0),n=(0,o.KR)(t?.sort_favorites_first??!0),i=(0,o.KR)(t?.crop_image_previews??!0);return(0,r.sV)(async()=>{if((0,q.f)())z.l.debug("Skip loading files settings - currently on public share");else try{const{data:t}=await W.Ay.get((0,X.Jv)("/apps/files/api/v1/configs"));e.value=t?.data?.show_hidden??!1,n.value=t?.data?.sort_favorites_first??!0,i.value=t?.data?.crop_image_previews??!0}catch(t){z.l.error("Could not load files settings",{error:t}),(0,z.s)((0,z.t)("Could not load files settings"))}}),{showHiddenFiles:e,sortFavoritesFirst:n,cropImagePreviews:i}}const Da={key:0,class:"row-checkbox"},Ma={class:"hidden-visually"},za=["aria-sort"],Wa={class:"header-wrapper"},Ua={key:2,style:{width:"44px"}},Xa=["aria-sort"],qa={key:2,style:{width:"44px"}},Ha=["aria-sort"],Ga={key:2,style:{width:"44px"}},Ka=(0,r.pM)({__name:"FileList",props:(0,r.zz)({currentView:{},multiselect:{type:Boolean},allowPickDirectory:{type:Boolean},loading:{type:Boolean},files:{},canPick:{type:Function}},{path:{required:!0},pathModifiers:{},selectedFiles:{required:!0},selectedFilesModifiers:{}}),emits:["update:path","update:selectedFiles"],setup(t){const e=(0,r.fn)(t,"path"),n=(0,r.fn)(t,"selectedFiles"),a=t,s=(0,o.KR)(),{currentConfig:l}=function(t){const e=t=>"asc"===t?"ascending":"desc"===t?"descending":"none",n=U("files","viewConfigs",null),i=(0,o.KR)({sortBy:n?.files?.sorting_mode??"basename",order:e(n?.files?.sorting_direction??"asc")}),a=(0,o.KR)({sortBy:n?.recent?.sorting_mode??"basename",order:e(n?.recent?.sorting_direction??"asc")}),s=(0,o.KR)({sortBy:n?.favorites?.sorting_mode??"basename",order:e(n?.favorites?.sorting_direction??"asc")});(0,r.sV)(async()=>{if((0,q.f)())z.l.debug("Skip loading files views - currently on public share");else try{const{data:t}=await W.Ay.get((0,X.Jv)("/apps/files/api/v1/views"));i.value={sortBy:t?.data?.files?.sorting_mode??"basename",order:e(t?.data?.files?.sorting_direction)},s.value={sortBy:t?.data?.favorites?.sorting_mode??"basename",order:e(t?.data?.favorites?.sorting_direction)},a.value={sortBy:t?.data?.recent?.sorting_mode??"basename",order:e(t?.data?.recent?.sorting_direction)}}catch(t){z.l.error("Could not load files views",{error:t}),(0,z.s)((0,z.t)("Could not load files views"))}});const l=(0,r.EW)(()=>"files"===(0,o.BA)(t||"files")?i.value:"recent"===(0,o.BA)(t)?a.value:s.value),c=(0,r.EW)(()=>l.value.sortBy),d=(0,r.EW)(()=>l.value.order);return{filesViewConfig:i,favoritesViewConfig:s,recentViewConfig:a,currentConfig:l,sortBy:c,order:d}}(a.currentView),c=(0,r.EW)(()=>s.value??l.value),d=(0,r.EW)(()=>"basename"===c.value.sortBy?"none"===c.value.order?void 0:c.value.order:void 0),u=(0,r.EW)(()=>"size"===c.value.sortBy?"none"===c.value.order?void 0:c.value.order:void 0),p=(0,r.EW)(()=>"mtime"===c.value.sortBy?"none"===c.value.order?void 0:c.value.order:void 0);function h(t){c.value.sortBy===t?"ascending"===c.value.order?s.value={sortBy:c.value.sortBy,order:"descending"}:s.value={sortBy:c.value.sortBy,order:"ascending"}:s.value={sortBy:t,order:"ascending"}}const{sortFavoritesFirst:f,cropImagePreviews:g}=Fa(),v=(0,r.EW)(()=>(0,I.ur)(a.files,{sortFoldersFirst:!0,sortFavoritesFirst:f.value,sortingOrder:"descending"===c.value.order?"desc":"asc",sortingMode:c.value.sortBy})),m=(0,r.EW)(()=>a.files.filter(t=>a.allowPickDirectory||t.type!==I.pt.Folder)),b=(0,r.EW)(()=>!a.loading&&n.value.length>0&&n.value.length>=m.value.length);function y(){n.value.length<m.value.length?n.value=[...m.value]:n.value=[]}function w(t){e.value=t.path}const x=(0,o.KR)(4),_=(0,o.KR)();{const t=()=>(0,r.dY)(()=>{const t=_.value?.parentElement?.children||[];let e=_.value?.parentElement?.clientHeight||450;for(let n=0;n<t.length;n++)_.value?.isSameNode(t[n])||(e-=t[n].clientHeight);x.value=Math.max(1,Math.floor((e-50)/50))});(0,r.sV)(()=>{window.addEventListener("resize",t),t()}),(0,r.hi)(()=>{window.removeEventListener("resize",t)})}return(e,s)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"fileContainer",ref:_,class:"file-picker__files"},[(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t.multiselect?((0,r.uX)(),(0,r.CE)("th",Da,[(0,r.Lk)("span",Ma,(0,i.v_)((0,o.R1)(z.t)("Select entry")),1),t.multiselect?((0,r.uX)(),(0,r.Wv)((0,o.R1)(j.A),{key:0,"aria-label":(0,o.R1)(z.t)("Select all entries"),"data-testid":"select-all-checkbox",modelValue:b.value,"onUpdate:modelValue":y},null,8,["aria-label","modelValue"])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.Lk)("th",{"aria-sort":d.value,class:"row-name"},[(0,r.Lk)("div",Wa,[s[3]||(s[3]=(0,r.Lk)("span",{class:"file-picker__header-preview"},null,-1)),(0,r.bF)((0,o.R1)(R.A),{"data-test":"file-picker_sort-name",variant:"tertiary",wide:"",onClick:s[0]||(s[0]=t=>h("basename"))},{icon:(0,r.k6)(()=>["ascending"===d.value?((0,r.uX)(),(0,r.Wv)(ga,{key:0,size:20})):"descending"===d.value?((0,r.uX)(),(0,r.Wv)(ca,{key:1,size:20})):((0,r.uX)(),(0,r.CE)("span",Ua))]),default:(0,r.k6)(()=>[(0,r.eW)(" "+(0,i.v_)((0,o.R1)(z.t)("Name")),1)]),_:1})])],8,za),(0,r.Lk)("th",{"aria-sort":u.value,class:"row-size"},[(0,r.bF)((0,o.R1)(R.A),{variant:"tertiary",wide:"",onClick:s[1]||(s[1]=t=>h("size"))},{icon:(0,r.k6)(()=>["ascending"===u.value?((0,r.uX)(),(0,r.Wv)(ga,{key:0,size:20})):"descending"===u.value?((0,r.uX)(),(0,r.Wv)(ca,{key:1,size:20})):((0,r.uX)(),(0,r.CE)("span",qa))]),default:(0,r.k6)(()=>[(0,r.eW)(" "+(0,i.v_)((0,o.R1)(z.t)("Size")),1)]),_:1})],8,Xa),(0,r.Lk)("th",{"aria-sort":p.value,class:"row-modified"},[(0,r.bF)((0,o.R1)(R.A),{variant:"tertiary",wide:"",onClick:s[2]||(s[2]=t=>h("mtime"))},{icon:(0,r.k6)(()=>["ascending"===p.value?((0,r.uX)(),(0,r.Wv)(ga,{key:0,size:20})):"descending"===p.value?((0,r.uX)(),(0,r.Wv)(ca,{key:1,size:20})):((0,r.uX)(),(0,r.CE)("span",Ga))]),default:(0,r.k6)(()=>[(0,r.eW)(" "+(0,i.v_)((0,o.R1)(z.t)("Modified")),1)]),_:1})],8,Ha)])]),(0,r.Lk)("tbody",null,[t.loading?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(x.value,e=>((0,r.uX)(),(0,r.Wv)(Ba,{key:e,showCheckbox:t.multiselect},null,8,["showCheckbox"]))),128)):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(v.value,e=>((0,r.uX)(),(0,r.Wv)(Oa,{key:e.fileid||e.path,allowPickDirectory:t.allowPickDirectory,showCheckbox:t.multiselect,canPick:(t.multiselect||0===n.value.length||n.value.includes(e))&&(void 0===t.canPick||t.canPick(e)),selected:n.value.includes(e),node:e,cropImagePreviews:(0,o.R1)(g),"onUpdate:selected":t=>function(t){n.value.includes(t)?n.value=n.value.filter(e=>e.path!==t.path):a.multiselect?n.value=[...n.value,t]:n.value=[t]}(e),onEnterDirectory:w},null,8,["allowPickDirectory","showCheckbox","canPick","selected","node","cropImagePreviews","onUpdate:selected"]))),128))])])],512))}}),Qa=(0,L._)(Ka,[["__scopeId","data-v-412efd5c"]]),Za={name:"HomeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ja=["aria-hidden","aria-label"],Ya=["fill","width","height"],ts={d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"},es={key:0},ns=(0,L._)(Za,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon home-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",ts,[n.title?((0,r.uX)(),(0,r.CE)("title",es,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,Ya))],16,Ja)}]]),rs={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},is=["aria-hidden","aria-label"],os=["fill","width","height"],as={d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"},ss={key:0},ls=(0,L._)(rs,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon plus-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",as,[n.title?((0,r.uX)(),(0,r.CE)("title",ss,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,os))],16,is)}]]),cs=(0,r.pM)({__name:"FilePickerBreadcrumbs",props:(0,r.zz)({showMenu:{type:Boolean}},{path:{required:!0},pathModifiers:{}}),emits:(0,r.zz)(["createNode"],["update:path"]),setup(t,{emit:e}){const n=(0,r.fn)(t,"path"),i=e,a=(0,o.KR)(!1),s=(0,o.KR)(""),l=(0,r.rk)("nameInput");function c(){const t=s.value.trim(),e=l.value?.$el?.querySelector("input");let n="";try{(0,I.KT)(t)}catch(t){if(!(t instanceof I.di))throw t;switch(t.reason){case I.nF.Character:n=(0,z.t)('"{char}" is not allowed inside a folder name.',{char:t.segment});break;case I.nF.ReservedName:n=(0,z.t)('"{segment}" is a reserved name and not allowed for folder names.',{segment:t.segment});break;case I.nF.Extension:n=(0,z.t)('Folder names must not end with "{extension}".',{extension:t.segment});break;default:n=(0,z.t)("Invalid folder name.")}}return e&&e.setCustomValidity(n),""===n}function d(){const t=s.value.trim();c()&&(a.value=!1,i("createNode",t),s.value="")}const u=(0,r.EW)(()=>n.value.split("/").filter(t=>""!==t).map((t,e,n)=>({name:t,path:"/"+n.slice(0,e+1).join("/")})));return(e,i)=>((0,r.uX)(),(0,r.Wv)((0,o.R1)(Ne),{class:"file-picker__breadcrumbs"},(0,r.eX)({default:(0,r.k6)(()=>[(0,r.bF)((0,o.R1)(jt),{name:(0,o.R1)(z.t)("All files"),title:(0,o.R1)(z.t)("Home"),onClick:i[0]||(i[0]=t=>n.value="/")},{icon:(0,r.k6)(()=>[(0,r.bF)(ns,{size:20})]),_:1},8,["name","title"]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.value,t=>((0,r.uX)(),(0,r.Wv)((0,o.R1)(jt),{key:t.path,name:t.name,title:t.path,onClick:e=>n.value=t.path},null,8,["name","title","onClick"]))),128))]),_:2},[t.showMenu?{name:"actions",fn:(0,r.k6)(()=>[(0,r.bF)((0,o.R1)(Ct.N),{open:a.value,"onUpdate:open":i[2]||(i[2]=t=>a.value=t),"aria-label":(0,o.R1)(z.t)("Create directory"),forceMenu:!0,forceName:!0,menuName:(0,o.R1)(z.t)("New"),variant:"secondary",onClose:i[3]||(i[3]=t=>s.value="")},{icon:(0,r.k6)(()=>[(0,r.bF)(ls,{size:20})]),default:(0,r.k6)(()=>[(0,r.bF)((0,o.R1)(kt),{ref_key:"nameInput",ref:l,modelValue:s.value,"onUpdate:modelValue":[i[1]||(i[1]=t=>s.value=t),c],label:(0,o.R1)(z.t)("New folder"),placeholder:(0,o.R1)(z.t)("New folder name"),onSubmit:d},{icon:(0,r.k6)(()=>[(0,r.bF)(xa,{size:20})]),_:1},8,["modelValue","label","placeholder"])]),_:1},8,["open","aria-label","menuName"])]),key:"0"}:void 0]),1024))}}),ds=(0,L._)(cs,[["__scopeId","data-v-b448b141"]]),us={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ps=["aria-hidden","aria-label"],hs=["fill","width","height"],fs={d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},gs={key:0},vs=(0,L._)(us,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon close-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",fs,[n.title?((0,r.uX)(),(0,r.CE)("title",gs,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,hs))],16,ps)}]]),ms={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},bs=["aria-hidden","aria-label"],ys=["fill","width","height"],ws={d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},xs={key:0},_s=(0,L._)(ms,[["render",function(t,e,n,o,a,s){return(0,r.uX)(),(0,r.CE)("span",(0,r.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon magnify-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,r.uX)(),(0,r.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,r.Lk)("path",ws,[n.title?((0,r.uX)(),(0,r.CE)("title",xs,(0,i.v_)(n.title),1)):(0,r.Q3)("",!0)])],8,ys))],16,bs)}]]),ks={key:0,class:"file-picker__side"},Cs=(0,r.pM)({__name:"FilePickerNavigation",props:{currentView:{},filterString:{},isCollapsed:{type:Boolean},disabledNavigation:{type:Boolean}},emits:["update:currentView","update:filterString"],setup(t,{emit:e}){const n=t,a=e,{availableViews:s}=function(t){const e=[{id:"files",label:(0,z.t)("All files"),icon:F.fEr},{id:"recent",label:(0,z.t)("Recent"),icon:F.NZC},{id:"favorites",label:(0,z.t)("Favorites"),icon:F.ZL5}],n=t.value?e.filter(({id:t})=>"files"===t):e;return{allViews:e,availableViews:n}}((0,o.KR)(null===(0,$e.HW)())),l=(0,r.EW)(()=>s.filter(t=>t.id===n.currentView)[0]??s[0]),c=t=>a("update:filterString",t.toString());return(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)((0,o.R1)(Te.A),{class:"file-picker__filter-input",label:(0,o.R1)(z.t)("Filter file list"),showTrailingButton:!!t.filterString,modelValue:t.filterString,"onUpdate:modelValue":c,onTrailingButtonClick:n[0]||(n[0]=t=>c(""))},{"trailing-button-icon":(0,r.k6)(()=>[(0,r.bF)(vs,{size:16})]),default:(0,r.k6)(()=>[(0,r.bF)(_s,{size:16})]),_:1},8,["label","showTrailingButton","modelValue"]),(0,o.R1)(s).length>1&&!t.disabledNavigation?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[t.isCollapsed?((0,r.uX)(),(0,r.Wv)((0,o.R1)(Pe.default),{key:1,"aria-label":(0,o.R1)(z.t)("Current view selector"),clearable:!1,searchable:!1,options:(0,o.R1)(s),modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=t=>a("update:currentView",t.id))},null,8,["aria-label","options","modelValue"])):((0,r.uX)(),(0,r.CE)("ul",ks,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,o.R1)(s),n=>((0,r.uX)(),(0,r.CE)("li",{key:n.id},[(0,r.bF)((0,o.R1)(R.A),{variant:t.currentView===n.id?"primary":"tertiary",wide:!0,onClick:t=>e.$emit("update:currentView",n.id)},{icon:(0,r.k6)(()=>[(0,r.bF)((0,o.R1)(D.A),{path:n.icon,size:20},null,8,["path"])]),default:(0,r.k6)(()=>[(0,r.eW)(" "+(0,i.v_)(n.label),1)]),_:2},1032,["variant","onClick"])]))),128))]))],64)):(0,r.Q3)("",!0)],64))}}),Es=(0,L._)(Cs,[["__scopeId","data-v-e1c54e23"]]);const Ss={class:"file-picker__main"},As={key:1,class:"file-picker__view"},Ns=(0,r.pM)({__name:"FilePicker",props:{buttons:{},name:{},allowPickDirectory:{type:Boolean,default:!1},noMenu:{type:Boolean,default:!1},disabledNavigation:{type:Boolean,default:!1},filterFn:{type:Function,default:void 0},canPickFn:{type:Function,default:void 0},mimetypeFilter:{default:()=>[]},multiselect:{type:Boolean,default:!1},path:{default:void 0}},emits:["close"],setup(t,{emit:e}){const n=t,a=e,c=(0,o.KR)(!0),d=(0,o.KR)("files"),u=(0,o.KR)(window?.sessionStorage.getItem("NC.FilePicker.LastPath")||"/"),p=(0,o.KR)(""),h=(0,r.EW)({get:()=>"files"===d.value?p.value||n.path||u.value:"/",set:t=>{p.value=t}}),f=(0,o.IJ)([]),{files:g,folder:v,isLoading:m,loadFiles:b,createDirectory:y}=function(t,e){const n=Qo(),i=(0,o.IJ)([]),a=(0,o.IJ)(null),s=(0,o.KR)(!0);let l;async function c(){l&&(l.abort(),l=void 0),l=new AbortController,s.value=!0;try{if("favorites"===t.value)i.value=await async function(t={}){const e=t.client??Qo(),n=t.path??"/",r=t.davRoot??Go;return(await e.getDirectoryContents(`${r}${n}`,{signal:t.signal,details:!0,data:`<?xml version="1.0"?>\n\t\t<oc:filter-files ${qo()}>\n\t\t\t<d:prop>\n\t\t\t\t${Xo()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`,headers:{method:"REPORT"},includeSelf:!0})).data.filter(t=>t.filename!==n).map(t=>Zo(t,r))}({client:n,path:e.value,signal:l.signal}),a.value=null;else if("recent"===t.value)i.value=await async function({client:t,signal:e}){const n=Math.round(Date.now()/1e3)-1209600,{data:r}=await t.search("/",{signal:e,details:!0,data:(i=n,`<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest ${qo()}\n\txmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${Xo()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${(0,$e.HW)()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${i}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`)});var i;return r.results.map(t=>Zo(t))}({client:n,signal:l.signal}),a.value=null;else{const t=await async function({client:t,path:e,signal:n}){const r=(await t.getDirectoryContents((0,V.fj)(Go,e),{signal:n,details:!0,includeSelf:!0,data:Ho()})).data.map(t=>Zo(t));return{contents:r.filter(({path:t})=>t!==e),folder:r.find(({path:t})=>e===t)}}({client:n,path:e.value,signal:l.signal});a.value=t.folder,i.value=t.contents}}catch(t){if(t instanceof Error&&"AbortError"===t.name)return;throw t}finally{l=void 0,s.value=!1}}return(0,r.wB)([t,e],()=>c()),(0,r.sV)(()=>c()),{isLoading:s,files:i,folder:a,loadFiles:c,createDirectory:async function(t){const r=(0,V.fj)(e.value,t);await n.createDirectory((0,V.fj)(Go,r));const o=await async function(t,e){const{data:n}=await t.stat((0,V.fj)(Go,e),{details:!0,data:Ho()});return Zo(n)}(n,r);return i.value=[...i.value,o],o}}}(d,h);(0,r.wB)([p],()=>{void 0===n.path&&p.value&&window.sessionStorage.setItem("NC.FilePicker.LastPath",p.value),f.value=[]});let w=!1;const x=(0,r.EW)(()=>{const t=0===f.value.length&&n.allowPickDirectory&&v.value?[v.value]:f.value;return("function"==typeof n.buttons?n.buttons(t,h.value,d.value):n.buttons).map(e=>({...e,disabled:e.disabled||m.value,callback:()=>{w=!0,async function(t,e){await t(e),a("close",e),w=!1}(e.callback,t)}}))}),_=(0,r.EW)(()=>"favorites"===d.value?(0,z.t)("Favorites"):"recent"===d.value?(0,z.t)("Recent"):""),k=(0,o.KR)(""),{isSupportedMimeType:C}=function(t){const e=(0,r.EW)(()=>t.value.map(t=>t.split("/")));return{isSupportedMimeType:t=>{const n=t.split("/");return e.value.some(([t,e])=>!(n[0]!==t&&"*"!==t||n[1]!==e&&"*"!==e))}}}((0,o.lW)(n,"mimetypeFilter"));(0,r.sV)(()=>b());const{showHiddenFiles:E}=Fa(),S=(0,r.EW)(()=>{let t=g.value;return E.value||(t=t.filter(t=>!t.basename.startsWith("."))),n.mimetypeFilter.length>0&&(t=t.filter(t=>"folder"===t.type||t.mime&&C(t.mime))),k.value&&(t=t.filter(t=>t.basename.toLowerCase().includes(k.value.toLowerCase()))),n.filterFn&&(t=t.filter(t=>n.filterFn(t))),t}),A=(0,r.EW)(()=>"files"===d.value?(0,z.t)("Upload some content or sync with your devices!"):"recent"===d.value?(0,z.t)("Files and folders you recently modified will show up here."):(0,z.t)("Files and folders you mark as favorite will show up here."));async function N(t){try{const e=await y(t);p.value=e.path,(0,s.Ic)("files:node:created",g.value.filter(e=>e.basename===t)[0])}catch(e){z.l.warn("Could not create new folder",{name:t,error:e}),(0,z.s)((0,z.t)("Could not create the new folder"))}}function $(t){t||w||a("close")}return(e,n)=>((0,r.uX)(),(0,r.Wv)((0,o.R1)(l.A),{open:c.value,"onUpdate:open":[n[6]||(n[6]=t=>c.value=t),$],buttons:x.value,name:t.name,size:"large",contentClasses:"file-picker__content",dialogClasses:"file-picker",navigationClasses:"file-picker__navigation"},{navigation:(0,r.k6)(({isCollapsed:e})=>[(0,r.bF)(Es,{currentView:d.value,"onUpdate:currentView":n[0]||(n[0]=t=>d.value=t),filterString:k.value,"onUpdate:filterString":n[1]||(n[1]=t=>k.value=t),isCollapsed:e,disabledNavigation:t.disabledNavigation},null,8,["currentView","filterString","isCollapsed","disabledNavigation"])]),default:(0,r.k6)(()=>[(0,r.Lk)("div",Ss,["files"===d.value?((0,r.uX)(),(0,r.Wv)(ds,{key:0,path:h.value,"onUpdate:path":n[2]||(n[2]=t=>h.value=t),showMenu:!t.noMenu,onCreateNode:N},null,8,["path","showMenu"])):((0,r.uX)(),(0,r.CE)("div",As,[(0,r.Lk)("h3",null,(0,i.v_)(_.value),1)])),(0,o.R1)(m)||S.value.length>0?((0,r.uX)(),(0,r.Wv)(Qa,{key:2,path:h.value,"onUpdate:path":[n[3]||(n[3]=t=>h.value=t),n[5]||(n[5]=t=>d.value="files")],selectedFiles:f.value,"onUpdate:selectedFiles":n[4]||(n[4]=t=>f.value=t),allowPickDirectory:t.allowPickDirectory,currentView:d.value,files:S.value,multiselect:t.multiselect,loading:(0,o.R1)(m),name:_.value,canPick:t.canPickFn},null,8,["path","selectedFiles","allowPickDirectory","currentView","files","multiselect","loading","name","canPick"])):k.value?((0,r.uX)(),(0,r.Wv)((0,o.R1)(T),{key:3,name:(0,o.R1)(z.t)("No matching files"),description:(0,o.R1)(z.t)("No files matching your filter were found.")},{icon:(0,r.k6)(()=>[(0,r.bF)(ra)]),_:1},8,["name","description"])):((0,r.uX)(),(0,r.Wv)((0,o.R1)(T),{key:4,name:(0,o.R1)(z.t)("No files in here"),description:A.value},{icon:(0,r.k6)(()=>[(0,r.bF)(ra)]),_:1},8,["name","description"]))])]),_:1},8,["open","buttons","name"]))}}),$s=(0,L._)(Ns,[["__scopeId","data-v-9b6534b1"]])},1428(t,e,n){function r(t,e,n){const r=`#initial-state-${t}-${e}`;if(window._nc_initial_state?.has(r))return window._nc_initial_state.get(r);window._nc_initial_state||(window._nc_initial_state=new Map);const i=document.querySelector(r);if(null===i){if(void 0!==n)return n;throw new Error(`Could not find initial state ${e} of ${t}`)}try{const t=JSON.parse(atob(i.value));return window._nc_initial_state.set(r,t),t}catch(r){if(console.error("[@nextcloud/initial-state] Could not parse initial state",{key:e,app:t,error:r}),void 0!==n)return n;throw new Error(`Could not parse initial state ${e} of ${t}`,{cause:r})}}function i(){return r("files_sharing","isPublic",null)??null!==document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')}function o(){return r("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}n.d(e,{G:()=>o,f:()=>i})},7438(t,e,n){n.d(e,{N:()=>Ae});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),l=n.n(s),c=n(5056),d=n.n(c),u=n(540),p=n.n(u),h=n(1113),f=n.n(h),g=n(1354),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p(),i()(g.A,v),g.A&&g.A.locals&&g.A.locals;var m=n(7193),b=n(5361);function y(){return"undefined"!=typeof window}function w(t){return k(t)?(t.nodeName||"").toLowerCase():"#document"}function x(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function _(t){var e;return null==(e=(k(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function k(t){return!!y()&&(t instanceof Node||t instanceof x(t).Node)}function C(t){return!!y()&&(t instanceof Element||t instanceof x(t).Element)}function E(t){return!!y()&&(t instanceof HTMLElement||t instanceof x(t).HTMLElement)}function S(t){return!(!y()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof x(t).ShadowRoot)}const A=new Set(["inline","contents"]);function N(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=D(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!A.has(i)}const $=new Set(["table","td","th"]);function P(t){return $.has(w(t))}const T=[":popover-open",":modal"];function O(t){return T.some(e=>{try{return t.matches(e)}catch(t){return!1}})}const L=["transform","translate","scale","rotate","perspective"],I=["transform","translate","scale","rotate","perspective","filter"],R=["paint","layout","strict","content"];function j(t){const e=V(),n=C(t)?D(t):t;return L.some(t=>!!n[t]&&"none"!==n[t])||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||I.some(t=>(n.willChange||"").includes(t))||R.some(t=>(n.contain||"").includes(t))}function V(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const B=new Set(["html","body","#document"]);function F(t){return B.has(w(t))}function D(t){return x(t).getComputedStyle(t)}function M(t){return C(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function z(t){if("html"===w(t))return t;const e=t.assignedSlot||t.parentNode||S(t)&&t.host||_(t);return S(e)?e.host:e}function W(t){const e=z(t);return F(e)?t.ownerDocument?t.ownerDocument.body:t.body:E(e)&&N(e)?e:W(e)}function U(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=W(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),a=x(i);if(o){const t=X(a);return e.concat(a,a.visualViewport||[],N(i)?i:[],t&&n?U(t):[])}return e.concat(i,U(i,[],n))}function X(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function q(t){const e=D(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=E(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=(0,m.LI)(n)!==o||(0,m.LI)(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function H(t){return C(t)?t:t.contextElement}function G(t){const e=H(t);if(!E(e))return(0,m.Jx)(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=q(e);let a=(o?(0,m.LI)(n.width):n.width)/r,s=(o?(0,m.LI)(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const K=(0,m.Jx)(0);function Q(t){const e=x(t);return V()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:K}function Z(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1);const i=t.getBoundingClientRect(),o=H(t);let a=(0,m.Jx)(1);e&&(r?C(r)&&(a=G(r)):a=G(t));const s=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==x(t))&&e}(o,n,r)?Q(o):(0,m.Jx)(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(o){const t=x(o),e=r&&C(r)?x(r):r;let n=t,i=X(n);for(;i&&r&&e!==n;){const t=G(i),e=i.getBoundingClientRect(),r=D(i),o=e.left+(i.clientLeft+parseFloat(r.paddingLeft))*t.x,a=e.top+(i.clientTop+parseFloat(r.paddingTop))*t.y;l*=t.x,c*=t.y,d*=t.x,u*=t.y,l+=o,c+=a,n=x(i),i=X(n)}}return(0,m.B1)({width:d,height:u,x:l,y:c})}function J(t,e){const n=M(t).scrollLeft;return e?e.left+n:Z(_(t)).left+n}function Y(t,e){const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-J(t,n),y:n.top+e.scrollTop}}const tt=new Set(["absolute","fixed"]);function et(t,e,n){let r;if("viewport"===e)r=function(t,e){const n=x(t),r=_(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const t=V();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}const c=J(r);if(c<=0){const t=r.ownerDocument,e=t.body,n=getComputedStyle(e),i="CSS1Compat"===t.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-e.clientWidth-i);a<=25&&(o-=a)}else c<=25&&(o+=c);return{width:o,height:a,x:s,y:l}}(t,n);else if("document"===e)r=function(t){const e=_(t),n=M(t),r=t.ownerDocument.body,i=(0,m.T9)(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=(0,m.T9)(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+J(t);const s=-n.scrollTop;return"rtl"===D(r).direction&&(a+=(0,m.T9)(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(_(t));else if(C(e))r=function(t,e){const n=Z(t,!0,"fixed"===e),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=E(t)?G(t):(0,m.Jx)(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:i*o.x,y:r*o.y}}(e,n);else{const n=Q(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return(0,m.B1)(r)}function nt(t,e){const n=z(t);return!(n===e||!C(n)||F(n))&&("fixed"===D(n).position||nt(n,e))}function rt(t,e,n){const r=E(e),i=_(e),o="fixed"===n,a=Z(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=(0,m.Jx)(0);function c(){l.x=J(i)}if(r||!r&&!o)if(("body"!==w(e)||N(i))&&(s=M(e)),r){const t=Z(e,!0,o,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else i&&c();o&&!r&&i&&c();const d=!i||r||o?(0,m.Jx)(0):Y(i,s);return{x:a.left+s.scrollLeft-l.x-d.x,y:a.top+s.scrollTop-l.y-d.y,width:a.width,height:a.height}}function it(t){return"static"===D(t).position}function ot(t,e){if(!E(t)||"fixed"===D(t).position)return null;if(e)return e(t);let n=t.offsetParent;return _(t)===n&&(n=n.ownerDocument.body),n}function at(t,e){const n=x(t);if(O(t))return n;if(!E(t)){let e=z(t);for(;e&&!F(e);){if(C(e)&&!it(e))return e;e=z(e)}return n}let r=ot(t,e);for(;r&&P(r)&&it(r);)r=ot(r,e);return r&&F(r)&&it(r)&&!j(r)?n:r||function(t){let e=z(t);for(;E(e)&&!F(e);){if(j(e))return e;if(O(e))return null;e=z(e)}return null}(t)||n}const st={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o="fixed"===i,a=_(r),s=!!e&&O(e.floating);if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=(0,m.Jx)(1);const d=(0,m.Jx)(0),u=E(r);if((u||!u&&!o)&&(("body"!==w(r)||N(a))&&(l=M(r)),E(r))){const t=Z(r);c=G(r),d.x=t.x+r.clientLeft,d.y=t.y+r.clientTop}const p=!a||u||o?(0,m.Jx)(0):Y(a,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}},getDocumentElement:_,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[..."clippingAncestors"===n?O(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let r=U(t,[],!1).filter(t=>C(t)&&"body"!==w(t)),i=null;const o="fixed"===D(t).position;let a=o?z(t):t;for(;C(a)&&!F(a);){const e=D(a),n=j(a);n||"fixed"!==e.position||(i=null),(o?!n&&!i:!n&&"static"===e.position&&i&&tt.has(i.position)||N(a)&&!n&&nt(t,a))?r=r.filter(t=>t!==a):i=e,a=z(a)}return e.set(t,r),r}(e,this._c):[].concat(n),r],a=o[0],s=o.reduce((t,n)=>{const r=et(e,n,i);return t.top=(0,m.T9)(r.top,t.top),t.right=(0,m.jk)(r.right,t.right),t.bottom=(0,m.jk)(r.bottom,t.bottom),t.left=(0,m.T9)(r.left,t.left),t},et(e,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:at,getElementRects:async function(t){const e=this.getOffsetParent||at,n=this.getDimensions,r=await n(t.floating);return{reference:rt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=q(t);return{width:e,height:n}},getScale:G,isElement:C,isRTL:function(t){return"rtl"===D(t).direction}};function lt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}const ct=b.cY,dt=b.BN,ut=b.UU,pt=b.ER;var ht=n(641),ft=n(33),gt=n(3751),vt=Object.defineProperty,mt=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,_t=(t,e,n)=>e in t?vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kt=(t,e)=>{for(var n in e||(e={}))wt.call(e,n)&&_t(t,n,e[n]);if(yt)for(var n of yt(e))xt.call(e,n)&&_t(t,n,e[n]);return t},Ct=(t,e)=>mt(t,bt(e));const Et={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(t){this.autoscroll&&t&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var t;const e=(null==(t=this.$refs.dropdownMenu)?void 0:t.children[this.typeAheadPointer])||!1;if(e){const t=this.getDropdownViewport(),{top:n,bottom:r,height:i}=e.getBoundingClientRect();if(n<t.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(r>t.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(t.height-i)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},St={data:()=>({typeAheadPointer:-1}),watch:{filteredOptions(){for(let t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open(t){t&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown(){for(let t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect(){const t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected(){this.typeAheadPointer=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},At={props:{loading:{type:Boolean,default:!1}},data:()=>({mutableLoading:!1}),watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(t){this.mutableLoading=t}},methods:{toggleLoading(t=null){return this.mutableLoading=null==t?!this.mutableLoading:t}}},Nt=(t,e)=>{const n=t.__vccOpts||t;for(const[t,r]of e)n[t]=r;return n},$t={},Pt={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},Tt=[(0,ht.Lk)("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)],Ot=Nt($t,[["render",function(t,e){return(0,ht.uX)(),(0,ht.CE)("svg",Pt,Tt)}]]),Lt={},It={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},Rt=[(0,ht.Lk)("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1)],jt={Deselect:Ot,OpenIndicator:Nt(Lt,[["render",function(t,e){return(0,ht.uX)(),(0,ht.CE)("svg",It,Rt)}]])},Vt={mounted(t,{instance:e}){if(e.appendToBody){const{height:n,top:r,left:i,width:o}=e.$refs.toggle.getBoundingClientRect();let a=window.scrollX||window.pageXOffset,s=window.scrollY||window.pageYOffset;t.unbindPosition=e.calculatePosition(t,e,{width:o+"px",left:a+i+"px",top:s+r+n+"px"}),document.body.appendChild(t)}},unmounted(t,{instance:e}){e.appendToBody&&(t.unbindPosition&&"function"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};let Bt=0;const Ft={components:kt({},jt),directives:{appendToBody:Vt},mixins:[Et,St,At],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:t=>t},selectable:{type:Function,default:t=>!0},getOptionLabel:{type:Function,default(t){return"object"==typeof t?t.hasOwnProperty(this.label)?t[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(t)}.\nhttps://vue-select.org/api/props.html#getoptionlabel`):t}},getOptionKey:{type:Function,default(t){if("object"!=typeof t)return t;try{return t.hasOwnProperty("id")?t.id:function(t){const e={};return Object.keys(t).sort().forEach(n=>{e[n]=t[n]}),JSON.stringify(e)}(t)}catch(e){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:(t,e,n)=>(e||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1},filter:{type:Function,default(t,e){return t.filter(t=>{let n=this.getOptionLabel(t);return"number"==typeof n&&(n=n.toString()),this.filterBy(t,n,e)})}},createOption:{type:Function,default(t){return"object"==typeof this.optionList[0]?{[this.label]:t}:t}},resetOnOptionsChange:{default:!1,validator:t=>["function","boolean"].includes(typeof t)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:t,multiple:e}){return t&&!e}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(t,e)=>t},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(t,e,{width:n,top:r,left:i}){t.style.top=r,t.style.left=i,t.style.width=n}},dropdownShouldOpen:{type:Function,default:({noDrop:t,open:e,mutableLoading:n})=>!t&&e&&!n},uid:{type:[String,Number],default:()=>++Bt}},data:()=>({search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}),computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return void 0===this.modelValue||this.isReducingValues},selectedValue(){let t=this.modelValue;return this.isTrackingValues&&(t=this.$data._value),null!=t&&""!==t?[].concat(t):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:kt({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:t=>this.search=t.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:Ct(kt({},t),{deselect:this.deselect}),footer:Ct(kt({},t),{deselect:this.deselect})}},childComponents(){return kt(kt({},jt),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;const e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){const t=this.createOption(this.search);this.optionExists(t)||e.unshift(t)}return e},isValueEmpty(){return 0===this.selectedValue.length},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(t,e){!this.taggable&&(()=>"function"==typeof this.resetOnOptionsChange?this.resetOnOptionsChange(t,e,this.selectedValue):this.resetOnOptionsChange)()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple(){this.clearSelection()},open(t){this.$emit(t?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(t){Array.isArray(t)?this.$data._value=t.map(t=>this.findOptionFromReducedValue(t)):this.$data._value=this.findOptionFromReducedValue(t)},select(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&(this.$emit("option:created",t),this.pushTag(t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect(t){this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter(e=>!this.optionComparator(e,t))),this.$emit("option:deselected",t)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(t){void 0===this.modelValue&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map(t=>this.reduce(t)):this.reduce(t)),this.$emit("update:modelValue",t)},toggleDropdown(t){const e=t.target!==this.searchEl;e&&t.preventDefault();const n=[...this.deselectButtons||[],this.$refs.clearButton];void 0===this.searchEl||n.filter(Boolean).some(e=>e.contains(t.target)||e===t.target)?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(t){return this.selectedValue.some(e=>this.optionComparator(e,t))},isOptionDeselectable(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue(t){const e=[...this.options,...this.pushedTags].filter(e=>JSON.stringify(this.reduce(e))===JSON.stringify(t));return 1===e.length?e[0]:e.find(t=>this.optionComparator(t,this.$data._value))||t},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let t=null;this.multiple&&(t=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(t)}},optionExists(t){return this.optionList.some(e=>this.optionComparator(e,t))},normalizeOptionForSlot(t){return"object"==typeof t?t:{[this.label]:t}},pushTag(t){this.pushedTags.push(t)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(!this.mousedown||this.searching){const{clearSearchOnSelect:t,multiple:e}=this;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(t){const e=t=>(t.preventDefault(),!this.isComposing&&this.typeAheadSelect()),n={8:t=>this.maybeDeleteValue(),9:t=>this.onTab(),27:t=>this.onEscape(),38:t=>(t.preventDefault(),this.typeAheadUp()),40:t=>(t.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(t=>n[t]=e);const r=this.mapKeydown(n,this);if("function"==typeof r[t.keyCode])return r[t.keyCode](t)}}},Dt=["dir"],Mt=["id","aria-expanded","aria-owns"],zt={ref:"selectedOptions",class:"vs__selected-options"},Wt=["disabled","title","aria-label","onClick"],Ut={ref:"actions",class:"vs__actions"},Xt=["disabled"],qt={class:"vs__spinner"},Ht=["id"],Gt=["id","aria-selected","onMouseover","onClick"],Kt={key:0,class:"vs__no-options"},Qt=(0,ht.eW)(" Sorry, no matching options. "),Zt=["id"],Jt=Nt(Ft,[["render",function(t,e,n,r,i,o){const a=(0,ht.gN)("append-to-body");return(0,ht.uX)(),(0,ht.CE)("div",{dir:n.dir,class:(0,ft.C4)(["v-select",o.stateClasses])},[(0,ht.RG)(t.$slots,"header",(0,ft._B)((0,ht.Ng)(o.scope.header))),(0,ht.Lk)("div",{id:`vs${n.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":o.dropdownOpen.toString(),"aria-owns":`vs${n.uid}__listbox`,"aria-label":"Search for option",onMousedown:e[1]||(e[1]=t=>o.toggleDropdown(t))},[(0,ht.Lk)("div",zt,[((0,ht.uX)(!0),(0,ht.CE)(ht.FK,null,(0,ht.pI)(o.selectedValue,(e,r)=>(0,ht.RG)(t.$slots,"selected-option-container",{option:o.normalizeOptionForSlot(e),deselect:o.deselect,multiple:n.multiple,disabled:n.disabled},()=>[((0,ht.uX)(),(0,ht.CE)("span",{key:n.getOptionKey(e),class:"vs__selected"},[(0,ht.RG)(t.$slots,"selected-option",(0,ft._B)((0,ht.Ng)(o.normalizeOptionForSlot(e))),()=>[(0,ht.eW)((0,ft.v_)(n.getOptionLabel(e)),1)]),n.multiple?((0,ht.uX)(),(0,ht.CE)("button",{key:0,ref_for:!0,ref:t=>i.deselectButtons[r]=t,disabled:n.disabled,type:"button",class:"vs__deselect",title:`Deselect ${n.getOptionLabel(e)}`,"aria-label":`Deselect ${n.getOptionLabel(e)}`,onClick:t=>o.deselect(e)},[((0,ht.uX)(),(0,ht.Wv)((0,ht.$y)(o.childComponents.Deselect)))],8,Wt)):(0,ht.Q3)("",!0)]))])),256)),(0,ht.RG)(t.$slots,"search",(0,ft._B)((0,ht.Ng)(o.scope.search)),()=>[(0,ht.Lk)("input",(0,ht.v6)({class:"vs__search"},o.scope.search.attributes,(0,ht.Tb)(o.scope.search.events)),null,16)])],512),(0,ht.Lk)("div",Ut,[(0,ht.bo)((0,ht.Lk)("button",{ref:"clearButton",disabled:n.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:e[0]||(e[0]=(...t)=>o.clearSelection&&o.clearSelection(...t))},[((0,ht.uX)(),(0,ht.Wv)((0,ht.$y)(o.childComponents.Deselect)))],8,Xt),[[gt.aG,o.showClearButton]]),(0,ht.RG)(t.$slots,"open-indicator",(0,ft._B)((0,ht.Ng)(o.scope.openIndicator)),()=>[n.noDrop?(0,ht.Q3)("",!0):((0,ht.uX)(),(0,ht.Wv)((0,ht.$y)(o.childComponents.OpenIndicator),(0,ft._B)((0,ht.v6)({key:0},o.scope.openIndicator.attributes)),null,16))]),(0,ht.RG)(t.$slots,"spinner",(0,ft._B)((0,ht.Ng)(o.scope.spinner)),()=>[(0,ht.bo)((0,ht.Lk)("div",qt,"Loading...",512),[[gt.aG,t.mutableLoading]])])],512)],40,Mt),(0,ht.bF)(gt.eB,{name:n.transition},{default:(0,ht.k6)(()=>[o.dropdownOpen?(0,ht.bo)(((0,ht.uX)(),(0,ht.CE)("ul",{id:`vs${n.uid}__listbox`,ref:"dropdownMenu",key:`vs${n.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:e[2]||(e[2]=(0,gt.D$)((...t)=>o.onMousedown&&o.onMousedown(...t),["prevent"])),onMouseup:e[3]||(e[3]=(...t)=>o.onMouseUp&&o.onMouseUp(...t))},[(0,ht.RG)(t.$slots,"list-header",(0,ft._B)((0,ht.Ng)(o.scope.listHeader))),((0,ht.uX)(!0),(0,ht.CE)(ht.FK,null,(0,ht.pI)(o.filteredOptions,(e,r)=>((0,ht.uX)(),(0,ht.CE)("li",{id:`vs${n.uid}__option-${r}`,key:n.getOptionKey(e),role:"option",class:(0,ft.C4)(["vs__dropdown-option",{"vs__dropdown-option--deselect":o.isOptionDeselectable(e)&&r===t.typeAheadPointer,"vs__dropdown-option--selected":o.isOptionSelected(e),"vs__dropdown-option--highlight":r===t.typeAheadPointer,"vs__dropdown-option--disabled":!n.selectable(e)}]),"aria-selected":r===t.typeAheadPointer||null,onMouseover:i=>n.selectable(e)?t.typeAheadPointer=r:null,onClick:(0,gt.D$)(t=>n.selectable(e)?o.select(e):null,["prevent","stop"])},[(0,ht.RG)(t.$slots,"option",(0,ft._B)((0,ht.Ng)(o.normalizeOptionForSlot(e))),()=>[(0,ht.eW)((0,ft.v_)(n.getOptionLabel(e)),1)])],42,Gt))),128)),0===o.filteredOptions.length?((0,ht.uX)(),(0,ht.CE)("li",Kt,[(0,ht.RG)(t.$slots,"no-options",(0,ft._B)((0,ht.Ng)(o.scope.noOptions)),()=>[Qt])])):(0,ht.Q3)("",!0),(0,ht.RG)(t.$slots,"list-footer",(0,ft._B)((0,ht.Ng)(o.scope.listFooter)))],40,Ht)),[[a]]):((0,ht.uX)(),(0,ht.CE)("ul",{key:1,id:`vs${n.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,Zt))]),_:3},8,["name"]),(0,ht.RG)(t.$slots,"footer",(0,ft._B)((0,ht.Ng)(o.scope.footer)))],10,Dt)}]]);var Yt=n(2697);const te={name:"ChevronDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ee=["aria-hidden","aria-label"],ne=["fill","width","height"],re={d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},ie={key:0},oe=(0,Yt._)(te,[["render",function(t,e,n,r,i,o){return(0,ht.uX)(),(0,ht.CE)("span",(0,ht.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon chevron-down-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,ht.uX)(),(0,ht.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,ht.Lk)("path",re,[n.title?((0,ht.uX)(),(0,ht.CE)("title",ie,(0,ft.v_)(n.title),1)):(0,ht.Q3)("",!0)])],8,ne))],16,ee)}]]),ae={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},se=["aria-hidden","aria-label"],le=["fill","width","height"],ce={d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},de={key:0},ue=(0,Yt._)(ae,[["render",function(t,e,n,r,i,o){return(0,ht.uX)(),(0,ht.CE)("span",(0,ht.v6)(t.$attrs,{"aria-hidden":n.title?null:"true","aria-label":n.title,class:"material-design-icon close-icon",role:"img",onClick:e[0]||(e[0]=e=>t.$emit("click",e))}),[((0,ht.uX)(),(0,ht.CE)("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[(0,ht.Lk)("path",ce,[n.title?((0,ht.uX)(),(0,ht.CE)("title",de,(0,ft.v_)(n.title),1)):(0,ht.Q3)("",!0)])],8,le))],16,se)}]]);var pe=n(3775),he={};function fe(t,e){const n=[];let r=0,i=t.toLowerCase().indexOf(e.toLowerCase(),r),o=0;for(;i>-1&&o++<t.length;)r=i+e.length,n.push({start:i,end:r}),i=t.toLowerCase().indexOf(e.toLowerCase(),r);return n}he.styleTagTransform=f(),he.setAttributes=d(),he.insert=l().bind(null,"head"),he.domAPI=a(),he.insertStyleElement=p(),i()(pe.A,he),pe.A&&pe.A.locals&&pe.A.locals;const ge={name:"NcEllipsisedOption",components:{NcHighlight:(0,ht.pM)({name:"NcHighlight",props:{text:{type:String,default:""},search:{type:String,default:""},highlight:{type:Array,default:()=>[]}},computed:{ranges(){let t=[];return this.search||0!==this.highlight.length?(t=this.highlight.length>0?this.highlight:fe(this.text,this.search),t.forEach((e,n)=>{e.end<e.start&&(t[n]={start:e.end,end:e.start})}),t=t.reduce((t,e)=>(e.start<this.text.length&&e.end>0&&t.push({start:e.start<0?0:e.start,end:e.end>this.text.length?this.text.length:e.end}),t),[]),t.sort((t,e)=>t.start-e.start),t=t.reduce((t,e)=>{if(t.length){const n=t.length-1;t[n].end>=e.start?t[n]={start:t[n].start,end:Math.max(t[n].end,e.end)}:t.push(e)}else t.push(e);return t},[]),t):t},chunks(){if(0===this.ranges.length)return[{start:0,end:this.text.length,highlight:!1,text:this.text}];const t=[];let e=0,n=0;for(;e<this.text.length;){const r=this.ranges[n];r.start!==e?(t.push({start:e,end:r.start,highlight:!1,text:this.text.slice(e,r.start)}),e=r.start):(t.push({...r,highlight:!0,text:this.text.slice(r.start,r.end)}),n++,e=r.end,n>=this.ranges.length&&e<this.text.length&&(t.push({start:e,end:this.text.length,highlight:!1,text:this.text.slice(e)}),e=this.text.length))}return t}},render(){return this.ranges.length?(0,ht.h)("span",{},this.chunks.map(t=>t.highlight?(0,ht.h)("strong",{},t.text):t.text)):(0,ht.h)("span",{},this.text)}})},props:{name:{type:String,default:""},search:{type:String,default:""}},computed:{needsTruncate(){return this.name&&this.name.length>=10},split(){return this.name.length-Math.min(Math.floor(this.name.length/2),10)},part1(){return this.needsTruncate?this.name.slice(0,this.split):this.name},part2(){return this.needsTruncate?this.name.slice(this.split):""},highlight1(){return this.search?fe(this.name,this.search):[]},highlight2(){return this.highlight1.map(t=>({start:t.start-this.split,end:t.end-this.split}))}}},ve=["title"],me=(0,Yt._)(ge,[["render",function(t,e,n,r,i,o){const a=(0,ht.g2)("NcHighlight");return(0,ht.uX)(),(0,ht.CE)("span",{dir:"auto",class:"name-parts",title:n.name},[(0,ht.bF)(a,{class:"name-parts__first",text:o.part1,search:n.search,highlight:o.highlight1},null,8,["text","search","highlight"]),o.part2?((0,ht.uX)(),(0,ht.Wv)(a,{key:0,class:"name-parts__last",text:o.part2,search:n.search,highlight:o.highlight2},null,8,["text","search","highlight"])):(0,ht.Q3)("",!0)],8,ve)}],["__scopeId","data-v-a612f185"]]);var be=n(4129),ye=n(9106),we=n(4163),xe=n(7172),_e=n(3171),ke={};ke.styleTagTransform=f(),ke.setAttributes=d(),ke.insert=l().bind(null,"head"),ke.domAPI=a(),ke.insertStyleElement=p(),i()(_e.A,ke),_e.A&&_e.A.locals&&_e.A.locals,(0,ye.r)(ye.g);const Ce={name:"NcSelect",components:{ChevronDown:oe,NcEllipsisedOption:me,NcLoadingIcon:be.N,VueSelect:Jt},props:{...Jt.props,...Jt.mixins.reduce((t,e)=>({...t,...e.props}),{}),ariaLabelClearSelected:{type:String,default:(0,ye.a)("Clear selected")},ariaLabelCombobox:{type:String,default:null},ariaLabelListbox:{type:String,default:(0,ye.a)("Options")},ariaLabelDeselectOption:{type:Function,default:t=>(0,ye.a)("Deselect {option}",{option:t})},appendToBody:{type:Boolean,default:!0},calculatePosition:{type:Function,default:null},keepOpen:{type:Boolean,default:!1},components:{type:Object,default:()=>({Deselect:{render:()=>(0,ht.h)(ue,{size:20,fillColor:"var(--vs-controls-color)",style:[{cursor:"pointer"}]})}})},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},dropdownShouldOpen:{type:Function,default:({noDrop:t,open:e})=>!t&&e},filterBy:{type:Function,default:null},inputClass:{type:[String,Object],default:null},inputId:{type:String,default:()=>(0,we.c)()},inputLabel:{type:String,default:null},labelOutside:{type:Boolean,default:!1},keyboardFocusBorder:{type:Boolean,default:!0},label:{type:String,default:null},loading:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},mapKeydown:{type:Function,default:(t,e)=>({...t,27:n=>{e.open&&n.stopPropagation(),t[27](n)}})},uid:{type:String,default:()=>(0,we.c)()},placement:{type:String,default:"bottom"},resetFocusOnOptionsChange:{type:Boolean,default:!0},modelValue:{type:[String,Number,Object,Array],default:null},required:{type:Boolean,default:!1}," ":{}},emits:[" ","update:modelValue"],setup:()=>({avatarSize:Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--default-clickable-area"))-2*Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--default-grid-baseline")),isLegacy:xe.i}),data:()=>({search:""}),computed:{inputRequired(){return this.required?null===this.modelValue||Array.isArray(this.modelValue)&&0===this.modelValue.length:null},localCalculatePosition(){return null!==this.calculatePosition?this.calculatePosition:(t,e,{width:n})=>{t.style.width=n;const r={name:"addClass",fn:()=>(t.classList.add("vs__dropdown-menu--floating"),{})},i={name:"togglePlacementClass",fn:({placement:n})=>(e.$el.classList.toggle("select--drop-up","top"===n),t.classList.toggle("vs__dropdown-menu--floating-placement-top","top"===n),{})},o=function(t,e,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=H(t),d=i||o?[...c?U(c):[],...U(e)]:[];d.forEach(t=>{i&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)});const u=c&&s?function(t,e){let n,r=null;const i=_(t);function o(){var t;clearTimeout(n),null==(t=r)||t.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=c;if(s||e(),!p||!h)return;const f={rootMargin:-(0,m.RI)(u)+"px "+-(0,m.RI)(i.clientWidth-(d+p))+"px "+-(0,m.RI)(i.clientHeight-(u+h))+"px "+-(0,m.RI)(d)+"px",threshold:(0,m.T9)(0,(0,m.jk)(1,l))||1};let g=!0;function v(e){const r=e[0].intersectionRatio;if(r!==l){if(!g)return a();r?a(!1,r):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||lt(c,t.getBoundingClientRect())||a(),g=!1}try{r=new IntersectionObserver(v,{...f,root:i.ownerDocument})}catch(t){r=new IntersectionObserver(v,f)}r.observe(t)}(!0),o}(c,n):null;let p,h=-1,f=null;a&&(f=new ResizeObserver(t=>{let[r]=t;r&&r.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var t;null==(t=f)||t.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g=l?Z(t):null;return l&&function e(){const r=Z(t);g&&!lt(g,r)&&n(),g=r,p=requestAnimationFrame(e)}(),n(),()=>{var t;d.forEach(t=>{i&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)}),null==u||u(),null==(t=f)||t.disconnect(),f=null,l&&cancelAnimationFrame(p)}}(e.$refs.toggle,t,()=>{((t,e,n)=>{const r=new Map,i={platform:st,...n},o={...i.platform,_c:r};return(0,b.rD)(t,e,{...i,platform:o})})(e.$refs.toggle,t,{placement:this.placement,middleware:[ct(-1),r,i,ut(),dt({limiter:pt()})]}).then(({x:n,y:r})=>{Object.assign(t.style,{left:`${n}px`,top:`${r}px`,width:`${e.$refs.toggle.getBoundingClientRect().width}px`})})});return o}},localFilterBy(){return this.filterBy??Jt.props.filterBy.default},localLabel(){return this.label??Jt.props.label.default},propsToForward(){const t=[...Object.keys(Jt.props),...Jt.mixins.flatMap(t=>Object.keys(t.props??{}))];return{...Object.fromEntries(Object.entries(this.$props).filter(([e,n])=>t.includes(e))),calculatePosition:this.localCalculatePosition,closeOnSelect:!this.keepOpen,filterBy:this.localFilterBy,label:this.localLabel}}},mounted(){this.labelOutside||this.inputLabel||this.ariaLabelCombobox||(0,ht.R8)("[NcSelect] An `inputLabel` or `ariaLabelCombobox` should be set. If an external label is used, `labelOutside` should be set to `true`."),this.inputLabel&&this.ariaLabelCombobox&&(0,ht.R8)("[NcSelect] Only one of `inputLabel` or `ariaLabelCombobox` should to be set.")},methods:{t:ye.a}},Ee=["for"],Se=["required"],Ae=(0,Yt._)(Ce,[["render",function(t,e,n,r,i,o){const a=(0,ht.g2)("ChevronDown"),s=(0,ht.g2)("NcEllipsisedOption"),l=(0,ht.g2)("NcLoadingIcon"),c=(0,ht.g2)("VueSelect");return(0,ht.uX)(),(0,ht.Wv)(c,(0,ht.v6)({class:["select",{"select--legacy":r.isLegacy,"select--no-wrap":n.noWrap}]},o.propsToForward,{onSearch:e[0]||(e[0]=t=>i.search=t),"onUpdate:modelValue":e[1]||(e[1]=e=>t.$emit("update:modelValue",e))}),(0,ht.eX)({search:(0,ht.k6)(({attributes:t,events:e})=>[(0,ht.Lk)("input",(0,ht.v6)({class:["vs__search",[n.inputClass]]},t,{required:o.inputRequired,dir:"auto"},(0,ht.Tb)(e,!0)),null,16,Se)]),"open-indicator":(0,ht.k6)(({attributes:t})=>[(0,ht.bF)(a,(0,ht.v6)(t,{fillColor:"var(--vs-controls-color)",style:{cursor:n.disabled?null:"pointer"},size:26}),null,16,["style"])]),option:(0,ht.k6)(e=>[(0,ht.RG)(t.$slots,"option",(0,ft._B)((0,ht.Ng)(e)),()=>[(0,ht.bF)(s,{name:String(e[o.localLabel]),search:i.search},null,8,["name","search"])])]),"selected-option":(0,ht.k6)(e=>[(0,ht.RG)(t.$slots,"selected-option",(0,ft._B)((0,ht.Ng)(e)),()=>[(0,ht.bF)(s,{name:String(e[o.localLabel]),search:i.search},null,8,["name","search"])])]),spinner:(0,ht.k6)(t=>[t.loading?((0,ht.uX)(),(0,ht.Wv)(l,{key:0})):(0,ht.Q3)("",!0)]),"no-options":(0,ht.k6)(()=>[(0,ht.eW)((0,ft.v_)(o.t("No results")),1)]),_:2},[!n.labelOutside&&n.inputLabel?{name:"header",fn:(0,ht.k6)(()=>[(0,ht.Lk)("label",{for:n.inputId,class:"select__label"},(0,ft.v_)(n.inputLabel),9,Ee)]),key:"0"}:void 0,(0,ht.pI)(t.$slots,(e,n)=>({name:n,fn:(0,ht.k6)(e=>[(0,ht.RG)(t.$slots,n,(0,ft._B)((0,ht.Ng)(e)))])}))]),1040,["class"])}]])},3710(t,e,n){n.r(e),n.d(e,{default:()=>r.N});var r=n(7438)}}]);